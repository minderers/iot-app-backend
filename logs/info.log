2025-06-10 07:51:44.387 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 07:51:44.441 [main] INFO  top.dl.GatewayApplication - Starting GatewayApplication using Java 17.0.6 with PID 27656 (D:\study\shixun\iot-app-backend\iot-cloud-gateway\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 07:51:44.444 [main] INFO  top.dl.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 07:51:44.491 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 07:51:44.491 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 07:51:44.679 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:44.686 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [8856f0f3-4e1d-40fd-92bc-f0d6c9c2e55f_config-0] Fail to connect server, after trying 5 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:45.287 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:45.290 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [8856f0f3-4e1d-40fd-92bc-f0d6c9c2e55f_config-0] Fail to connect server, after trying 6 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:45.613 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=bb97293c-5f9d-33e2-bb2b-9bc2013db92c
2025-06-10 07:51:46.002 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:46.007 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [8856f0f3-4e1d-40fd-92bc-f0d6c9c2e55f_config-0] Fail to connect server, after trying 7 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:46.813 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:46.816 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [8856f0f3-4e1d-40fd-92bc-f0d6c9c2e55f_config-0] Fail to connect server, after trying 8 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:46.961 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-06-10 07:51:46.962 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-06-10 07:51:47.242 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 07:51:47.656 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer - Netty started on port 8080 (http)
2025-06-10 07:51:47.718 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:47.722 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [8856f0f3-4e1d-40fd-92bc-f0d6c9c2e55f_config-0] Fail to connect server, after trying 9 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:47.943 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 07:51:47.944 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 07:51:47.944 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 07:51:47.949 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 07:51:47.962 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 07:51:47.962 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 07:51:47.966 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c
2025-06-10 07:51:47.968 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c
2025-06-10 07:51:47.968 [main] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 07:51:47.968 [main] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 07:51:47.968 [main] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 07:51:47.969 [main] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 07:51:47.969 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:47.973 [main] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 07:51:47.975 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:47.979 [main] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 07:51:47.979 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:47.983 [main] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 07:51:47.983 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:47.987 [main] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 07:51:47.987 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Try to reconnect to a new server, server is  not appointed, will choose a random server.
2025-06-10 07:51:47.987 [main] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$422/0x0000000800fb0ee0
2025-06-10 07:51:47.988 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:47.988 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-gateway with instance Instance{instanceId='null', ip='10.20.47.212', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 07:51:48.107 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:48.113 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Fail to connect server, after trying 1 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:48.325 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:48.331 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Fail to connect server, after trying 2 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:48.638 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:48.642 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Fail to connect server, after trying 3 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:48.731 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:48.735 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [8856f0f3-4e1d-40fd-92bc-f0d6c9c2e55f_config-0] Fail to connect server, after trying 10 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:49.044 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:49.048 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Fail to connect server, after trying 4 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:49.558 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:49.563 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Fail to connect server, after trying 5 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:49.838 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:49.841 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [8856f0f3-4e1d-40fd-92bc-f0d6c9c2e55f_config-0] Fail to connect server, after trying 11 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:50.164 [com.alibaba.nacos.client.remote.worker.1] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:51:50.167 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Fail to connect server, after trying 6 times, last try server is {serverIp = '127.0.0.1', server main port = 8848}, error = unknown
2025-06-10 07:51:50.510 [main] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 07:51:50.510 [main] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@1fab0394[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0]
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 07:51:50.511 [main] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@28e24663[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 07:51:50.511 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2ee5c08d[Running, pool size = 32, active threads = 0, queued tasks = 0, completed tasks = 44]
2025-06-10 07:51:50.511 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c] Client is shutdown, stop reconnect to server
2025-06-10 07:51:50.512 [main] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->603bbd6a-b0e9-4c5f-8d2e-e70943f75f1c
2025-06-10 07:51:50.512 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 07:51:50.512 [main] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 07:51:50.512 [main] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 07:51:50.526 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-10 07:53:24.030 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 07:53:24.092 [main] INFO  top.dl.GatewayApplication - Starting GatewayApplication using Java 17.0.6 with PID 16872 (D:\study\shixun\iot-app-backend\iot-cloud-gateway\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 07:53:24.094 [main] INFO  top.dl.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 07:53:24.145 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 07:53:24.145 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 07:53:25.511 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=bb97293c-5f9d-33e2-bb2b-9bc2013db92c
2025-06-10 07:53:27.279 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-06-10 07:53:27.279 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-06-10 07:53:27.279 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-06-10 07:53:27.279 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-06-10 07:53:27.279 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-06-10 07:53:27.279 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-06-10 07:53:27.279 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-06-10 07:53:27.279 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-06-10 07:53:27.279 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-06-10 07:53:27.280 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-06-10 07:53:27.280 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-06-10 07:53:27.280 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-06-10 07:53:27.280 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-06-10 07:53:27.280 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-06-10 07:53:27.725 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 07:53:28.220 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer - Netty started on port 8080 (http)
2025-06-10 07:53:28.651 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 07:53:28.652 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 07:53:28.652 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 07:53:28.660 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 07:53:28.665 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 07:53:28.666 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 07:53:28.740 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea
2025-06-10 07:53:28.742 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea
2025-06-10 07:53:28.743 [main] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 07:53:28.743 [main] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 07:53:28.744 [main] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 07:53:28.745 [main] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 07:53:28.745 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:53:28.772 [main] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749513208755_127.0.0.1_60203
2025-06-10 07:53:28.773 [main] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 07:53:28.773 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Notify connected event to listeners.
2025-06-10 07:53:28.773 [main] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$438/0x000000080100c228
2025-06-10 07:53:28.774 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 07:53:28.775 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-gateway with instance Instance{instanceId='null', ip='10.20.47.212', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 07:53:28.806 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-gateway 10.20.47.212:8080 register finished
2025-06-10 07:53:28.890 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-10 07:53:28.890 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-10 07:53:28.890 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-10 07:53:28.890 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-10 07:53:28.923 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.47.212#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.47.212","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 07:53:28.923 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.47.212#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.47.212","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 07:53:28.939 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.47.212#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.47.212","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 07:53:28.939 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.47.212#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.47.212","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 07:53:29.060 [main] INFO  c.a.c.n.discovery.NacosDiscoveryHeartBeatPublisher - Start nacos heartBeat task scheduler.
2025-06-10 07:53:29.132 [main] INFO  top.dl.GatewayApplication - Started GatewayApplication in 8.103 seconds (process running for 9.13)
2025-06-10 07:53:29.150 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 07:53:29.151 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 07:53:29.154 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 07:53:29.155 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 07:53:29.156 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 07:53:29.159 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 07:53:29.159 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 07:53:29.159 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 07:53:29.402 [nacos-grpc-client-executor-127.0.0.1-5] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 1
2025-06-10 07:53:29.403 [nacos-grpc-client-executor-127.0.0.1-5] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 1
2025-06-10 07:53:35.470 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 07:53:35.551 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 24868 (D:\study\shixun\iot-app-backend\iot-cloud-iot\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 07:53:35.552 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 07:53:35.608 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 07:53:35.609 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 07:53:38.112 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 07:53:38.117 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 07:53:38.164 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-06-10 07:53:38.399 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-10 07:53:38.415 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-10 07:53:38.659 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=89dc205c-cf48-3973-bd71-560671183867
2025-06-10 07:53:40.236 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-10 07:53:40.251 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-10 07:53:40.252 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 07:53:40.253 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 07:53:40.380 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 07:53:40.380 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4769 ms
2025-06-10 07:53:40.901 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 07:53:41.436 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 07:53:42.231 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 07:53:42.589 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-10 07:53:42.761 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 07:53:43.085 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@2d85a4c7
2025-06-10 07:53:43.089 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 07:53:43.090 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 07:53:43.090 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 07:53:44.528 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 07:53:44.538 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 07:53:44.544 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 07:53:44.554 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 07:53:44.554 [main] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 07:53:44.554 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 07:53:44.599 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-10 07:53:44.629 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-10 07:53:50.190 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 07:53:50.273 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 7884 (D:\study\shixun\iot-app-backend\iot-cloud-user\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 07:53:50.275 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 07:53:50.340 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 07:53:50.340 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 07:53:52.044 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 07:53:52.046 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 07:53:52.083 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-06-10 07:53:52.397 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-10 07:53:53.300 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-10 07:53:53.312 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-10 07:53:53.314 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 07:53:53.314 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 07:53:53.407 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 07:53:53.407 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3063 ms
2025-06-10 07:53:53.695 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 07:53:54.046 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 07:53:54.722 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 07:53:55.036 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 07:53:55.283 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@16bbb59c
2025-06-10 07:53:55.284 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 07:53:55.285 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 07:53:55.285 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 07:53:56.130 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Found 2 AuthenticationProvider beans, with names [daoAuthenticationProvider, mobileAuthenticationProvider]. Global Authentication Manager will not be configured with AuthenticationProviders. Consider publishing a single AuthenticationProvider bean, or wiring your Providers directly using the DSL.
2025-06-10 07:53:56.131 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-10 07:53:57.166 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 07:53:58.533 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-06-10 07:53:58.545 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-06-10 07:53:58.552 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 07:53:58.553 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 07:53:58.553 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 07:53:58.560 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 07:53:58.566 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 07:53:58.566 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 07:53:58.634 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of a0bf9dc4-494a-436d-a624-e2ce59c8551c
2025-06-10 07:53:58.637 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->a0bf9dc4-494a-436d-a624-e2ce59c8551c
2025-06-10 07:53:58.637 [main] INFO  com.alibaba.nacos.common.remote.client - [a0bf9dc4-494a-436d-a624-e2ce59c8551c] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 07:53:58.637 [main] INFO  com.alibaba.nacos.common.remote.client - [a0bf9dc4-494a-436d-a624-e2ce59c8551c] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 07:53:58.637 [main] INFO  com.alibaba.nacos.common.remote.client - [a0bf9dc4-494a-436d-a624-e2ce59c8551c] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 07:53:58.638 [main] INFO  com.alibaba.nacos.common.remote.client - [a0bf9dc4-494a-436d-a624-e2ce59c8551c] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 07:53:58.638 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:53:58.660 [main] INFO  com.alibaba.nacos.common.remote.client - [a0bf9dc4-494a-436d-a624-e2ce59c8551c] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749513238649_127.0.0.1_60298
2025-06-10 07:53:58.661 [main] INFO  com.alibaba.nacos.common.remote.client - [a0bf9dc4-494a-436d-a624-e2ce59c8551c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 07:53:58.661 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [a0bf9dc4-494a-436d-a624-e2ce59c8551c] Notify connected event to listeners.
2025-06-10 07:53:58.661 [main] INFO  com.alibaba.nacos.common.remote.client - [a0bf9dc4-494a-436d-a624-e2ce59c8551c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801025870
2025-06-10 07:53:58.661 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 07:53:58.663 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-user with instance Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 07:53:58.682 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-user 10.20.47.212:8082 register finished
2025-06-10 07:53:58.914 [main] INFO  top.dl.UserApplication - Started UserApplication in 10.869 seconds (process running for 12.659)
2025-06-10 07:53:58.927 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 07:53:58.927 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 07:53:58.930 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 07:53:58.945 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 07:53:58.945 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 07:53:58.947 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 07:53:58.948 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 07:53:58.948 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 07:53:59.160 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 07:53:59.161 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 07:53:59.161 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 07:53:59.161 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 07:53:59.170 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 07:53:59.170 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 07:53:59.199 [nacos-grpc-client-executor-127.0.0.1-56] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 2
2025-06-10 07:53:59.200 [nacos-grpc-client-executor-127.0.0.1-56] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 2
2025-06-10 07:53:59.468 [RMI TCP Connection(3)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 07:53:59.469 [RMI TCP Connection(3)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 07:53:59.470 [RMI TCP Connection(3)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-10 07:57:37.013 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 07:57:37.065 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 9292 (D:\study\shixun\iot-app-backend\iot-cloud-iot\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 07:57:37.066 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 07:57:37.111 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 07:57:37.111 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 07:57:38.490 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 07:57:38.493 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 07:57:38.529 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-06-10 07:57:38.743 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-10 07:57:38.757 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-10 07:57:38.948 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=3d44f949-1067-3b87-b463-4d9922c6a3d6
2025-06-10 07:57:39.977 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-10 07:57:39.989 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-10 07:57:39.991 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 07:57:39.991 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 07:57:40.092 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 07:57:40.092 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2978 ms
2025-06-10 07:57:40.405 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 07:57:40.795 [redisson-netty-2-4] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 07:57:42.537 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 07:57:42.791 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-10 07:57:42.914 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 07:57:43.296 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@3f2f6818
2025-06-10 07:57:43.297 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 07:57:43.298 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 07:57:43.299 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 07:57:44.208 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 07:57:44.622 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-10 07:57:45.532 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-10 07:57:46.876 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 07:57:46.876 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-10 07:57:46.876 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-10 07:57:46.877 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 07:57:46.877 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-10 07:57:46.877 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-10 07:57:46.877 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 07:57:46.877 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-10 07:57:46.877 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 07:57:47.292 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 07:57:47.293 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-10 07:57:47.305 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-10 07:57:47.311 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 07:57:47.311 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 07:57:47.311 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 07:57:47.317 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 07:57:47.323 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 07:57:47.323 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 07:57:47.388 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of ae613c80-7c5d-439c-99c8-d1b76649a78f
2025-06-10 07:57:47.391 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->ae613c80-7c5d-439c-99c8-d1b76649a78f
2025-06-10 07:57:47.391 [main] INFO  com.alibaba.nacos.common.remote.client - [ae613c80-7c5d-439c-99c8-d1b76649a78f] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 07:57:47.391 [main] INFO  com.alibaba.nacos.common.remote.client - [ae613c80-7c5d-439c-99c8-d1b76649a78f] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 07:57:47.391 [main] INFO  com.alibaba.nacos.common.remote.client - [ae613c80-7c5d-439c-99c8-d1b76649a78f] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 07:57:47.393 [main] INFO  com.alibaba.nacos.common.remote.client - [ae613c80-7c5d-439c-99c8-d1b76649a78f] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 07:57:47.393 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 07:57:47.405 [main] INFO  com.alibaba.nacos.common.remote.client - [ae613c80-7c5d-439c-99c8-d1b76649a78f] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749513467398_127.0.0.1_51028
2025-06-10 07:57:47.405 [main] INFO  com.alibaba.nacos.common.remote.client - [ae613c80-7c5d-439c-99c8-d1b76649a78f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 07:57:47.405 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [ae613c80-7c5d-439c-99c8-d1b76649a78f] Notify connected event to listeners.
2025-06-10 07:57:47.405 [main] INFO  com.alibaba.nacos.common.remote.client - [ae613c80-7c5d-439c-99c8-d1b76649a78f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x0000000801025870
2025-06-10 07:57:47.405 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 07:57:47.408 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 07:57:47.418 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.47.212:8083 register finished
2025-06-10 07:57:47.624 [main] INFO  top.dl.IotApplication - Started IotApplication in 12.658 seconds (process running for 13.755)
2025-06-10 07:57:47.636 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 07:57:47.636 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 07:57:47.638 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 07:57:47.648 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 07:57:47.648 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 07:57:47.650 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 07:57:47.650 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 07:57:47.651 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 07:57:48.189 [RMI TCP Connection(2)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 07:57:48.189 [RMI TCP Connection(2)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 07:57:48.190 [RMI TCP Connection(2)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-10 07:57:59.349 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-10 07:57:59.349 [boundedElastic-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-10 07:57:59.349 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-10 07:57:59.349 [boundedElastic-2] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-10 07:57:59.353 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-10 07:57:59.353 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-10 07:57:59.354 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 07:57:59.356 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 07:57:59.949 [nacos-grpc-client-executor-127.0.0.1-206] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 3
2025-06-10 07:57:59.950 [nacos-grpc-client-executor-127.0.0.1-206] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 3
2025-06-10 07:58:09.468 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-content, group:DEFAULT_GROUP, clusters: 
2025-06-10 07:58:09.468 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-content, group:DEFAULT_GROUP, cluster: 
2025-06-10 07:58:09.472 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 07:58:09.472 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 07:58:10.058 [nacos-grpc-client-executor-127.0.0.1-222] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 4
2025-06-10 07:58:10.058 [nacos-grpc-client-executor-127.0.0.1-222] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 4
2025-06-10 07:58:10.337 [http-nio-8083-exec-1] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":12}
2025-06-10 07:58:10.420 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 07:58:10.420 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 07:58:10.432 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 07:58:10.433 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 07:58:10.974 [http-nio-8083-exec-2] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":12}
2025-06-10 07:58:11.031 [nacos-grpc-client-executor-127.0.0.1-14] INFO  com.alibaba.nacos.common.remote.client - [ae613c80-7c5d-439c-99c8-d1b76649a78f] Receive server push request, request = NotifySubscriberRequest, requestId = 5
2025-06-10 07:58:11.032 [nacos-grpc-client-executor-127.0.0.1-14] INFO  com.alibaba.nacos.common.remote.client - [ae613c80-7c5d-439c-99c8-d1b76649a78f] Ack server push request, request = NotifySubscriberRequest, requestId = 5
2025-06-10 07:58:25.246 [http-nio-8082-exec-5] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDk2ODYzMDQsImlhdCI6MTc0OTUxMzUwNCwidXNlcklkIjo5fQ.yrrrAmSWTF1VHvX5AD5X_ol7gmIUget30vZ8PikIbvI
2025-06-10 07:58:25.246 [http-nio-8082-exec-6] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDk2ODYzMDQsImlhdCI6MTc0OTUxMzUwNCwidXNlcklkIjo5fQ.yrrrAmSWTF1VHvX5AD5X_ol7gmIUget30vZ8PikIbvI
2025-06-10 07:58:25.490 [http-nio-8083-exec-5] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:02:32.065 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 08:02:32.066 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 08:02:32.066 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-10 08:02:32.066 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-10 08:02:32.066 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 08:02:32.066 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-10 08:02:32.066 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-10 08:02:32.066 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 08:02:32.066 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-10 08:02:32.066 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 08:02:32.077 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:02:32.077 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:02:32.084 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:02:32.087 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:02:32.087 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->ae613c80-7c5d-439c-99c8-d1b76649a78f
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@38959dd2[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 94]
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@412d7c8b[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:02:32.088 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749513467398_127.0.0.1_51028
2025-06-10 08:02:32.090 [nacos-grpc-client-executor-127.0.0.1-71] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749513467398_127.0.0.1_51028]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:02:32.098 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2ed591a5[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 72]
2025-06-10 08:02:32.098 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->ae613c80-7c5d-439c-99c8-d1b76649a78f
2025-06-10 08:02:32.098 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:02:32.098 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:02:32.098 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:02:32.106 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 08:02:32.108 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 08:02:32.115 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 08:02:32.117 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 08:02:32.117 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 08:02:32.610 [nacos-grpc-client-executor-127.0.0.1-356] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 6
2025-06-10 08:02:32.611 [nacos-grpc-client-executor-127.0.0.1-356] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:02:32.611 [nacos-grpc-client-executor-127.0.0.1-356] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 08:02:32.624 [nacos-grpc-client-executor-127.0.0.1-356] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 6
2025-06-10 08:02:39.594 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:02:39.655 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 18268 (D:\study\shixun\iot-app-backend\iot-cloud-iot\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:02:39.657 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:02:39.706 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:02:39.706 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:02:41.068 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:02:41.072 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:02:41.107 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-06-10 08:02:41.362 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-10 08:02:41.374 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-10 08:02:41.555 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=3d44f949-1067-3b87-b463-4d9922c6a3d6
2025-06-10 08:02:42.578 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-10 08:02:42.589 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-10 08:02:42.591 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 08:02:42.591 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 08:02:42.684 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 08:02:42.684 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2976 ms
2025-06-10 08:02:42.987 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 08:02:43.369 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:02:44.771 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:02:45.030 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-10 08:02:45.164 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 08:02:45.482 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@747b8f5c
2025-06-10 08:02:45.483 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 08:02:45.484 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 08:02:45.484 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 08:02:46.394 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 08:02:46.777 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-10 08:02:47.718 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-10 08:02:49.052 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 08:02:49.052 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-10 08:02:49.052 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-10 08:02:49.052 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 08:02:49.052 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-10 08:02:49.053 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-10 08:02:49.053 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 08:02:49.053 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-10 08:02:49.053 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 08:02:49.470 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 08:02:49.471 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-10 08:02:49.484 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-10 08:02:49.491 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:02:49.491 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:02:49.491 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:02:49.497 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:02:49.502 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:02:49.502 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:02:49.568 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 5ccc9190-0731-425a-b876-9cedf1307dd0
2025-06-10 08:02:49.570 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->5ccc9190-0731-425a-b876-9cedf1307dd0
2025-06-10 08:02:49.570 [main] INFO  com.alibaba.nacos.common.remote.client - [5ccc9190-0731-425a-b876-9cedf1307dd0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:02:49.570 [main] INFO  com.alibaba.nacos.common.remote.client - [5ccc9190-0731-425a-b876-9cedf1307dd0] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:02:49.571 [main] INFO  com.alibaba.nacos.common.remote.client - [5ccc9190-0731-425a-b876-9cedf1307dd0] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:02:49.571 [main] INFO  com.alibaba.nacos.common.remote.client - [5ccc9190-0731-425a-b876-9cedf1307dd0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:02:49.571 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:02:49.583 [main] INFO  com.alibaba.nacos.common.remote.client - [5ccc9190-0731-425a-b876-9cedf1307dd0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749513769576_127.0.0.1_61555
2025-06-10 08:02:49.583 [main] INFO  com.alibaba.nacos.common.remote.client - [5ccc9190-0731-425a-b876-9cedf1307dd0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:02:49.583 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [5ccc9190-0731-425a-b876-9cedf1307dd0] Notify connected event to listeners.
2025-06-10 08:02:49.583 [main] INFO  com.alibaba.nacos.common.remote.client - [5ccc9190-0731-425a-b876-9cedf1307dd0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x0000000801004800
2025-06-10 08:02:49.583 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:02:49.584 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:02:49.595 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.47.212:8083 register finished
2025-06-10 08:02:49.794 [main] INFO  top.dl.IotApplication - Started IotApplication in 12.48 seconds (process running for 13.429)
2025-06-10 08:02:49.811 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:02:49.811 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:02:49.813 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:02:49.823 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:02:49.824 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:02:49.825 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:02:49.825 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:02:49.826 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:02:50.168 [RMI TCP Connection(2)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 08:02:50.169 [RMI TCP Connection(2)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 08:02:50.171 [RMI TCP Connection(2)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-10 08:02:50.176 [nacos-grpc-client-executor-127.0.0.1-359] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 7
2025-06-10 08:02:50.176 [nacos-grpc-client-executor-127.0.0.1-359] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:02:50.177 [nacos-grpc-client-executor-127.0.0.1-359] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:02:50.185 [nacos-grpc-client-executor-127.0.0.1-359] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 7
2025-06-10 08:03:01.679 [http-nio-8083-exec-1] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:03:01.786 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:03:01.787 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:03:01.798 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:03:01.800 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:03:02.124 [http-nio-8083-exec-2] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:03:02.367 [nacos-grpc-client-executor-127.0.0.1-12] INFO  com.alibaba.nacos.common.remote.client - [5ccc9190-0731-425a-b876-9cedf1307dd0] Receive server push request, request = NotifySubscriberRequest, requestId = 8
2025-06-10 08:03:02.368 [nacos-grpc-client-executor-127.0.0.1-12] INFO  com.alibaba.nacos.common.remote.client - [5ccc9190-0731-425a-b876-9cedf1307dd0] Ack server push request, request = NotifySubscriberRequest, requestId = 8
2025-06-10 08:03:10.181 [http-nio-8083-exec-3] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:03:38.807 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:03:38.857 [main] INFO  top.dl.ContentApplication - Starting ContentApplication using Java 17.0.6 with PID 26408 (D:\study\shixun\iot-app-backend\iot-cloud-content\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:03:38.859 [main] INFO  top.dl.ContentApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:03:38.902 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:03:38.902 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:03:40.428 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:03:40.430 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:03:40.467 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-06-10 08:03:40.808 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4cd02779-edee-334a-90cf-ec937e525064
2025-06-10 08:03:41.694 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-06-10 08:03:41.704 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-06-10 08:03:41.705 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 08:03:41.705 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 08:03:41.805 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 08:03:41.805 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2901 ms
2025-06-10 08:03:42.098 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 08:03:42.616 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:03:44.851 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:03:45.122 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 08:03:45.611 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@56dae6
2025-06-10 08:03:45.613 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 08:03:45.614 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 08:03:45.616 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 08:03:46.488 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 08:03:46.683 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-10 08:03:47.608 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 08:03:48.866 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-06-10 08:03:48.877 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-06-10 08:03:48.882 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:03:48.884 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:03:48.884 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:03:48.889 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:03:48.894 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:03:48.894 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:03:48.960 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of bd9ec7d5-d5a9-493e-8161-056c06bebf94
2025-06-10 08:03:48.963 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->bd9ec7d5-d5a9-493e-8161-056c06bebf94
2025-06-10 08:03:48.963 [main] INFO  com.alibaba.nacos.common.remote.client - [bd9ec7d5-d5a9-493e-8161-056c06bebf94] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:03:48.963 [main] INFO  com.alibaba.nacos.common.remote.client - [bd9ec7d5-d5a9-493e-8161-056c06bebf94] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:03:48.964 [main] INFO  com.alibaba.nacos.common.remote.client - [bd9ec7d5-d5a9-493e-8161-056c06bebf94] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:03:48.964 [main] INFO  com.alibaba.nacos.common.remote.client - [bd9ec7d5-d5a9-493e-8161-056c06bebf94] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:03:48.965 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:03:48.977 [main] INFO  com.alibaba.nacos.common.remote.client - [bd9ec7d5-d5a9-493e-8161-056c06bebf94] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749513828970_127.0.0.1_61270
2025-06-10 08:03:48.977 [main] INFO  com.alibaba.nacos.common.remote.client - [bd9ec7d5-d5a9-493e-8161-056c06bebf94] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:03:48.977 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [bd9ec7d5-d5a9-493e-8161-056c06bebf94] Notify connected event to listeners.
2025-06-10 08:03:48.977 [main] INFO  com.alibaba.nacos.common.remote.client - [bd9ec7d5-d5a9-493e-8161-056c06bebf94] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x0000000801024800
2025-06-10 08:03:48.977 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:03:48.979 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-content with instance Instance{instanceId='null', ip='10.20.47.212', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:03:48.991 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-content 10.20.47.212:8081 register finished
2025-06-10 08:03:49.165 [main] INFO  top.dl.ContentApplication - Started ContentApplication in 12.181 seconds (process running for 13.524)
2025-06-10 08:03:49.177 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:03:49.177 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:03:49.179 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:03:49.192 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:03:49.192 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:03:49.199 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:03:49.199 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:03:49.199 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:03:49.482 [RMI TCP Connection(4)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 08:03:49.482 [RMI TCP Connection(4)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 08:03:49.485 [RMI TCP Connection(4)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-10 08:03:49.556 [nacos-grpc-client-executor-127.0.0.1-386] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 9
2025-06-10 08:03:49.556 [nacos-grpc-client-executor-127.0.0.1-386] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.47.212#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.47.212","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:03:49.556 [nacos-grpc-client-executor-127.0.0.1-386] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.47.212#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.47.212","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:03:49.566 [nacos-grpc-client-executor-127.0.0.1-386] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 9
2025-06-10 08:03:55.898 [http-nio-8083-exec-4] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:03:56.063 [http-nio-8083-exec-5] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:05:50.406 [http-nio-8083-exec-6] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:05:55.973 [http-nio-8083-exec-9] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:05:56.139 [http-nio-8083-exec-10] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:07:20.264 [http-nio-8081-exec-7] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 307 ms
2025-06-10 08:07:29.270 [http-nio-8082-exec-5] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 248 ms
2025-06-10 08:07:31.181 [http-nio-8083-exec-2] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 312 ms
2025-06-10 08:08:15.115 [http-nio-8083-exec-3] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:17:08.326 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 08:17:08.327 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 08:17:08.327 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-10 08:17:08.327 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-10 08:17:08.327 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 08:17:08.328 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-10 08:17:08.328 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-10 08:17:08.328 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 08:17:08.328 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-10 08:17:08.328 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 08:17:08.333 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:17:08.333 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:17:08.339 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:17:08.341 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:17:08.341 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:17:08.341 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:17:08.341 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:17:08.341 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:17:08.341 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:17:08.341 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:17:08.341 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:17:08.341 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:17:08.341 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:17:08.342 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:17:08.342 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->5ccc9190-0731-425a-b876-9cedf1307dd0
2025-06-10 08:17:08.342 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@7853f526[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 285]
2025-06-10 08:17:08.342 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:17:08.342 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@22a7e43e[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:17:08.342 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749513769576_127.0.0.1_61555
2025-06-10 08:17:08.344 [nacos-grpc-client-executor-127.0.0.1-181] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749513769576_127.0.0.1_61555]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:17:08.347 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@6e8fbd51[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 182]
2025-06-10 08:17:08.347 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->5ccc9190-0731-425a-b876-9cedf1307dd0
2025-06-10 08:17:08.347 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:17:08.347 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:17:08.347 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:17:08.353 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 08:17:08.355 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 08:17:08.360 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 08:17:08.360 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 08:17:08.360 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 08:17:08.901 [nacos-grpc-client-executor-127.0.0.1-724] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 10
2025-06-10 08:17:08.901 [nacos-grpc-client-executor-127.0.0.1-724] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:17:08.902 [nacos-grpc-client-executor-127.0.0.1-724] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 08:17:08.912 [nacos-grpc-client-executor-127.0.0.1-724] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 10
2025-06-10 08:17:16.373 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:17:16.428 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 32228 (D:\study\shixun\iot-app-backend\iot-cloud-iot\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:17:16.430 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:17:16.473 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:17:16.473 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:17:17.783 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:17:17.787 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:17:17.821 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-06-10 08:17:18.042 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-10 08:17:18.054 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-10 08:17:18.230 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=3d44f949-1067-3b87-b463-4d9922c6a3d6
2025-06-10 08:17:19.174 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-10 08:17:19.185 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-10 08:17:19.187 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 08:17:19.187 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 08:17:19.284 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 08:17:19.285 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2810 ms
2025-06-10 08:17:19.583 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 08:17:20.245 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:17:23.178 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:17:23.415 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-10 08:17:23.523 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 08:17:24.274 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@64ee9290
2025-06-10 08:17:24.276 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 08:17:24.277 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 08:17:24.277 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 08:17:25.142 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 08:17:25.550 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-10 08:17:26.539 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-10 08:17:27.866 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 08:17:27.866 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-10 08:17:27.866 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-10 08:17:27.866 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 08:17:27.866 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-10 08:17:27.867 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-10 08:17:27.867 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 08:17:27.867 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-10 08:17:27.867 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 08:17:28.304 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 08:17:28.304 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-10 08:17:28.315 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-10 08:17:28.321 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:17:28.321 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:17:28.321 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:17:28.327 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:17:28.332 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:17:28.332 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:17:28.408 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 5bb01594-199d-4bff-8411-bd33ec4c8076
2025-06-10 08:17:28.410 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->5bb01594-199d-4bff-8411-bd33ec4c8076
2025-06-10 08:17:28.410 [main] INFO  com.alibaba.nacos.common.remote.client - [5bb01594-199d-4bff-8411-bd33ec4c8076] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:17:28.410 [main] INFO  com.alibaba.nacos.common.remote.client - [5bb01594-199d-4bff-8411-bd33ec4c8076] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:17:28.411 [main] INFO  com.alibaba.nacos.common.remote.client - [5bb01594-199d-4bff-8411-bd33ec4c8076] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:17:28.411 [main] INFO  com.alibaba.nacos.common.remote.client - [5bb01594-199d-4bff-8411-bd33ec4c8076] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:17:28.412 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:17:28.426 [main] INFO  com.alibaba.nacos.common.remote.client - [5bb01594-199d-4bff-8411-bd33ec4c8076] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749514648417_127.0.0.1_55095
2025-06-10 08:17:28.426 [main] INFO  com.alibaba.nacos.common.remote.client - [5bb01594-199d-4bff-8411-bd33ec4c8076] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:17:28.426 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [5bb01594-199d-4bff-8411-bd33ec4c8076] Notify connected event to listeners.
2025-06-10 08:17:28.426 [main] INFO  com.alibaba.nacos.common.remote.client - [5bb01594-199d-4bff-8411-bd33ec4c8076] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x000000080100c800
2025-06-10 08:17:28.427 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:17:28.429 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:17:28.439 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.47.212:8083 register finished
2025-06-10 08:17:28.663 [main] INFO  top.dl.IotApplication - Started IotApplication in 14.447 seconds (process running for 15.499)
2025-06-10 08:17:28.676 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:17:28.677 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:17:28.679 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:17:28.691 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:17:28.692 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:17:28.693 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:17:28.693 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:17:28.693 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:17:29.045 [nacos-grpc-client-executor-127.0.0.1-727] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 11
2025-06-10 08:17:29.046 [nacos-grpc-client-executor-127.0.0.1-727] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:17:29.046 [nacos-grpc-client-executor-127.0.0.1-727] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:17:29.047 [RMI TCP Connection(1)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 08:17:29.048 [RMI TCP Connection(1)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 08:17:29.050 [RMI TCP Connection(1)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-10 08:17:29.058 [nacos-grpc-client-executor-127.0.0.1-727] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 11
2025-06-10 08:17:35.454 [http-nio-8083-exec-1] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 280 ms
2025-06-10 08:17:39.013 [http-nio-8083-exec-2] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:17:39.097 [http-nio-8083-exec-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:17:39.097 [http-nio-8083-exec-2] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:17:39.107 [http-nio-8083-exec-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:17:39.108 [http-nio-8083-exec-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:17:39.611 [nacos-grpc-client-executor-127.0.0.1-13] INFO  com.alibaba.nacos.common.remote.client - [5bb01594-199d-4bff-8411-bd33ec4c8076] Receive server push request, request = NotifySubscriberRequest, requestId = 12
2025-06-10 08:17:39.612 [nacos-grpc-client-executor-127.0.0.1-13] INFO  com.alibaba.nacos.common.remote.client - [5bb01594-199d-4bff-8411-bd33ec4c8076] Ack server push request, request = NotifySubscriberRequest, requestId = 12
2025-06-10 08:17:51.536 [http-nio-8083-exec-3] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:17:52.206 [http-nio-8083-exec-4] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:21:48.218 [nacos-grpc-client-executor-127.0.0.1-837] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 13
2025-06-10 08:21:48.219 [nacos-grpc-client-executor-127.0.0.1-837] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:21:48.219 [nacos-grpc-client-executor-127.0.0.1-837] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 08:21:48.235 [nacos-grpc-client-executor-127.0.0.1-837] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 13
2025-06-10 08:21:53.619 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:21:53.674 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 4672 (D:\study\shixun\iot-app-backend\iot-cloud-iot\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:21:53.675 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:21:53.719 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:21:53.719 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:21:55.081 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:21:55.085 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:21:55.123 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-06-10 08:21:55.356 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-10 08:21:55.367 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-10 08:21:55.556 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=3d44f949-1067-3b87-b463-4d9922c6a3d6
2025-06-10 08:21:56.527 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-10 08:21:56.537 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-10 08:21:56.539 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 08:21:56.545 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 08:21:56.638 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 08:21:56.638 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2917 ms
2025-06-10 08:21:56.921 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 08:21:57.397 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:22:00.621 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:22:00.866 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-10 08:22:00.984 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 08:22:01.554 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@642693c2
2025-06-10 08:22:01.556 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 08:22:01.558 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 08:22:01.558 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 08:22:02.452 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 08:22:02.820 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-10 08:22:03.716 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-10 08:22:05.011 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 08:22:05.011 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-10 08:22:05.012 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-10 08:22:05.012 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 08:22:05.012 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-10 08:22:05.012 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-10 08:22:05.012 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 08:22:05.012 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-10 08:22:05.012 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 08:22:05.451 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 08:22:05.452 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-10 08:22:05.465 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-10 08:22:05.471 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:22:05.471 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:22:05.471 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:22:05.476 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:22:05.481 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:22:05.481 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:22:05.549 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 1aae4790-c4ec-4708-87a8-7207d884fb34
2025-06-10 08:22:05.551 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->1aae4790-c4ec-4708-87a8-7207d884fb34
2025-06-10 08:22:05.551 [main] INFO  com.alibaba.nacos.common.remote.client - [1aae4790-c4ec-4708-87a8-7207d884fb34] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:22:05.551 [main] INFO  com.alibaba.nacos.common.remote.client - [1aae4790-c4ec-4708-87a8-7207d884fb34] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:22:05.552 [main] INFO  com.alibaba.nacos.common.remote.client - [1aae4790-c4ec-4708-87a8-7207d884fb34] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:22:05.552 [main] INFO  com.alibaba.nacos.common.remote.client - [1aae4790-c4ec-4708-87a8-7207d884fb34] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:22:05.552 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:22:05.562 [main] INFO  com.alibaba.nacos.common.remote.client - [1aae4790-c4ec-4708-87a8-7207d884fb34] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749514925556_127.0.0.1_60300
2025-06-10 08:22:05.563 [main] INFO  com.alibaba.nacos.common.remote.client - [1aae4790-c4ec-4708-87a8-7207d884fb34] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:22:05.563 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [1aae4790-c4ec-4708-87a8-7207d884fb34] Notify connected event to listeners.
2025-06-10 08:22:05.563 [main] INFO  com.alibaba.nacos.common.remote.client - [1aae4790-c4ec-4708-87a8-7207d884fb34] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x000000080100ebb0
2025-06-10 08:22:05.563 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:22:05.564 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:22:05.573 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.47.212:8083 register finished
2025-06-10 08:22:05.763 [main] INFO  top.dl.IotApplication - Started IotApplication in 14.012 seconds (process running for 14.896)
2025-06-10 08:22:05.775 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:22:05.775 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:22:05.777 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:22:05.786 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:22:05.786 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:22:05.788 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:22:05.788 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:22:05.788 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:22:06.095 [nacos-grpc-client-executor-127.0.0.1-847] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 14
2025-06-10 08:22:06.095 [nacos-grpc-client-executor-127.0.0.1-847] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:22:06.096 [nacos-grpc-client-executor-127.0.0.1-847] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:22:06.110 [nacos-grpc-client-executor-127.0.0.1-847] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 14
2025-06-10 08:22:06.174 [RMI TCP Connection(1)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 08:22:06.174 [RMI TCP Connection(1)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 08:22:06.176 [RMI TCP Connection(1)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-10 08:22:24.490 [http-nio-8083-exec-1] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:22:24.567 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:22:24.567 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:22:24.576 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 08:22:24.577 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 08:22:25.115 [nacos-grpc-client-executor-127.0.0.1-13] INFO  com.alibaba.nacos.common.remote.client - [1aae4790-c4ec-4708-87a8-7207d884fb34] Receive server push request, request = NotifySubscriberRequest, requestId = 15
2025-06-10 08:22:25.116 [nacos-grpc-client-executor-127.0.0.1-13] INFO  com.alibaba.nacos.common.remote.client - [1aae4790-c4ec-4708-87a8-7207d884fb34] Ack server push request, request = NotifySubscriberRequest, requestId = 15
2025-06-10 08:22:25.399 [http-nio-8083-exec-2] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:22:44.318 [http-nio-8083-exec-4] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:25:54.176 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 08:25:54.177 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 08:25:54.177 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-10 08:25:54.177 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-10 08:25:54.177 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 08:25:54.177 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-10 08:25:54.177 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-10 08:25:54.178 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 08:25:54.178 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-10 08:25:54.178 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 08:25:54.183 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:25:54.183 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:25:54.188 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:25:54.190 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:25:54.190 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:25:54.190 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:25:54.190 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:25:54.191 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:25:54.191 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:25:54.191 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:25:54.191 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:25:54.191 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:25:54.191 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:25:54.191 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:25:54.191 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->1aae4790-c4ec-4708-87a8-7207d884fb34
2025-06-10 08:25:54.191 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@60b0bfb0[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 75]
2025-06-10 08:25:54.191 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:25:54.191 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@4018a57a[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:25:54.191 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749514925556_127.0.0.1_60300
2025-06-10 08:25:54.192 [nacos-grpc-client-executor-127.0.0.1-56] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749514925556_127.0.0.1_60300]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:25:54.197 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@7295a006[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 57]
2025-06-10 08:25:54.197 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->1aae4790-c4ec-4708-87a8-7207d884fb34
2025-06-10 08:25:54.197 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:25:54.197 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:25:54.197 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:25:54.202 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 08:25:54.204 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 08:25:54.209 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 08:25:54.209 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 08:25:54.209 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 08:25:54.744 [nacos-grpc-client-executor-127.0.0.1-937] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 16
2025-06-10 08:25:54.744 [nacos-grpc-client-executor-127.0.0.1-937] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:25:54.744 [nacos-grpc-client-executor-127.0.0.1-937] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 08:25:54.763 [nacos-grpc-client-executor-127.0.0.1-937] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 16
2025-06-10 08:26:00.647 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:26:00.699 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 28476 (D:\study\shixun\iot-app-backend\iot-cloud-iot\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:26:00.701 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:26:00.746 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:26:00.747 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:26:01.948 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:26:01.951 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:26:01.984 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-06-10 08:26:02.183 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-10 08:26:02.196 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-10 08:26:02.387 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=3d44f949-1067-3b87-b463-4d9922c6a3d6
2025-06-10 08:26:03.297 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-10 08:26:03.311 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-10 08:26:03.312 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 08:26:03.312 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 08:26:03.403 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 08:26:03.404 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2655 ms
2025-06-10 08:26:03.698 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 08:26:04.304 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:26:07.028 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:26:07.274 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-10 08:26:07.393 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 08:26:07.931 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@49976824
2025-06-10 08:26:07.933 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 08:26:07.934 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 08:26:07.934 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 08:26:08.814 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 08:26:09.183 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-10 08:26:10.072 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-10 08:26:11.467 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 08:26:11.468 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-10 08:26:11.468 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-10 08:26:11.468 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 08:26:11.468 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-10 08:26:11.468 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-10 08:26:11.469 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 08:26:11.476 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-10 08:26:11.476 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 08:26:12.088 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 08:26:12.088 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-10 08:26:12.101 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-10 08:26:12.106 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:26:12.108 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:26:12.108 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:26:12.113 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:26:12.118 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:26:12.118 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:26:12.184 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of d2c38b7d-40e5-4205-9bdc-c43f47104802
2025-06-10 08:26:12.186 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->d2c38b7d-40e5-4205-9bdc-c43f47104802
2025-06-10 08:26:12.187 [main] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:26:12.187 [main] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:26:12.187 [main] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:26:12.187 [main] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:26:12.188 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:26:12.199 [main] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749515172192_127.0.0.1_55318
2025-06-10 08:26:12.199 [main] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:26:12.199 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Notify connected event to listeners.
2025-06-10 08:26:12.199 [main] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x0000000801024c40
2025-06-10 08:26:12.199 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:26:12.200 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:26:12.209 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.47.212:8083 register finished
2025-06-10 08:26:12.404 [main] INFO  top.dl.IotApplication - Started IotApplication in 13.587 seconds (process running for 14.466)
2025-06-10 08:26:12.415 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:26:12.416 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:26:12.418 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:26:12.428 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:26:12.428 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:26:12.429 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:26:12.430 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:26:12.430 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:26:12.743 [nacos-grpc-client-executor-127.0.0.1-947] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 17
2025-06-10 08:26:12.743 [nacos-grpc-client-executor-127.0.0.1-947] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:26:12.743 [nacos-grpc-client-executor-127.0.0.1-947] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:26:12.754 [nacos-grpc-client-executor-127.0.0.1-947] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 17
2025-06-10 08:26:12.772 [RMI TCP Connection(2)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 08:26:12.772 [RMI TCP Connection(2)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 08:26:12.775 [RMI TCP Connection(2)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-06-10 08:26:23.614 [http-nio-8083-exec-1] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:26:23.634 [http-nio-8083-exec-1] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 08:26:23.692 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:26:23.693 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:26:23.702 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:26:23.703 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:26:23.826 [http-nio-8083-exec-1] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=null)
2025-06-10 08:26:24.280 [nacos-grpc-client-executor-127.0.0.1-11] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Receive server push request, request = NotifySubscriberRequest, requestId = 18
2025-06-10 08:26:24.281 [nacos-grpc-client-executor-127.0.0.1-11] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Ack server push request, request = NotifySubscriberRequest, requestId = 18
2025-06-10 08:27:12.922 [http-nio-8083-exec-3] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:27:12.923 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 08:27:12.977 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=null)
2025-06-10 08:27:24.166 [http-nio-8083-exec-2] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:27:24.166 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 08:27:24.231 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=null)
2025-06-10 08:27:24.449 [http-nio-8083-exec-4] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:27:24.449 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 08:27:24.484 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=null)
2025-06-10 08:28:51.389 [http-nio-8083-exec-6] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:28:51.390 [http-nio-8083-exec-6] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 08:28:51.533 [http-nio-8083-exec-6] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=null)
2025-06-10 08:28:51.695 [http-nio-8083-exec-7] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:28:51.695 [http-nio-8083-exec-7] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 08:28:51.739 [http-nio-8083-exec-7] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=null)
2025-06-10 08:28:54.143 [http-nio-8083-exec-8] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 08:28:54.143 [http-nio-8083-exec-8] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 08:28:54.203 [http-nio-8083-exec-8] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=null)
2025-06-10 08:31:13.655 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:31:13.656 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-user with instance: Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:31:13.660 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:31:13.661 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:31:13.661 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:31:13.661 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:31:13.661 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:31:13.661 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:31:13.661 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:31:13.661 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:31:13.662 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:31:13.662 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:31:13.662 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:31:13.662 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:31:13.662 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->a0bf9dc4-494a-436d-a624-e2ce59c8551c
2025-06-10 08:31:13.662 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@3191fee0[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 743]
2025-06-10 08:31:13.662 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:31:13.662 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@411fad59[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:31:13.662 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749513238649_127.0.0.1_60298
2025-06-10 08:31:13.663 [nacos-grpc-client-executor-127.0.0.1-467] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749513238649_127.0.0.1_60298]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:31:13.666 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1b876cb9[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 468]
2025-06-10 08:31:13.668 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->a0bf9dc4-494a-436d-a624-e2ce59c8551c
2025-06-10 08:31:13.668 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:31:13.668 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:31:13.668 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:31:13.671 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 08:31:13.673 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 08:31:13.677 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 08:31:13.677 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 08:31:13.677 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 08:31:14.262 [nacos-grpc-client-executor-127.0.0.1-1065] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 19
2025-06-10 08:31:14.262 [nacos-grpc-client-executor-127.0.0.1-68] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Receive server push request, request = NotifySubscriberRequest, requestId = 20
2025-06-10 08:31:14.263 [nacos-grpc-client-executor-127.0.0.1-1065] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:31:14.263 [nacos-grpc-client-executor-127.0.0.1-1065] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 08:31:14.263 [nacos-grpc-client-executor-127.0.0.1-68] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:31:14.264 [nacos-grpc-client-executor-127.0.0.1-68] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 08:31:14.276 [nacos-grpc-client-executor-127.0.0.1-68] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Ack server push request, request = NotifySubscriberRequest, requestId = 20
2025-06-10 08:31:14.276 [nacos-grpc-client-executor-127.0.0.1-1065] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 19
2025-06-10 08:31:20.288 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:31:20.341 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 9172 (D:\study\shixun\iot-app-backend\iot-cloud-user\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:31:20.342 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:31:20.388 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:31:20.388 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:31:21.656 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:31:21.658 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:31:21.698 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-06-10 08:31:22.006 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-10 08:31:22.900 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-10 08:31:22.910 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-10 08:31:22.912 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 08:31:22.912 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 08:31:23.011 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 08:31:23.011 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2621 ms
2025-06-10 08:31:23.324 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 08:31:23.761 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:31:26.674 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:31:26.985 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 08:31:27.539 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@2dc54b50
2025-06-10 08:31:27.541 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 08:31:27.542 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 08:31:27.542 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 08:31:28.256 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Found 2 AuthenticationProvider beans, with names [daoAuthenticationProvider, mobileAuthenticationProvider]. Global Authentication Manager will not be configured with AuthenticationProviders. Consider publishing a single AuthenticationProvider bean, or wiring your Providers directly using the DSL.
2025-06-10 08:31:28.257 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-10 08:31:29.141 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 08:31:30.338 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-06-10 08:31:30.349 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-06-10 08:31:30.356 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:31:30.357 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:31:30.357 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:31:30.364 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:31:30.370 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:31:30.370 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:31:30.444 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 00bde384-1a57-4e67-802f-a6a0ac751436
2025-06-10 08:31:30.447 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->00bde384-1a57-4e67-802f-a6a0ac751436
2025-06-10 08:31:30.448 [main] INFO  com.alibaba.nacos.common.remote.client - [00bde384-1a57-4e67-802f-a6a0ac751436] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:31:30.448 [main] INFO  com.alibaba.nacos.common.remote.client - [00bde384-1a57-4e67-802f-a6a0ac751436] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:31:30.448 [main] INFO  com.alibaba.nacos.common.remote.client - [00bde384-1a57-4e67-802f-a6a0ac751436] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:31:30.448 [main] INFO  com.alibaba.nacos.common.remote.client - [00bde384-1a57-4e67-802f-a6a0ac751436] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:31:30.449 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:31:30.460 [main] INFO  com.alibaba.nacos.common.remote.client - [00bde384-1a57-4e67-802f-a6a0ac751436] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749515490452_127.0.0.1_55204
2025-06-10 08:31:30.460 [main] INFO  com.alibaba.nacos.common.remote.client - [00bde384-1a57-4e67-802f-a6a0ac751436] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:31:30.460 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [00bde384-1a57-4e67-802f-a6a0ac751436] Notify connected event to listeners.
2025-06-10 08:31:30.460 [main] INFO  com.alibaba.nacos.common.remote.client - [00bde384-1a57-4e67-802f-a6a0ac751436] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801005228
2025-06-10 08:31:30.460 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:31:30.461 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-user with instance Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:31:30.471 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-user 10.20.47.212:8082 register finished
2025-06-10 08:31:30.636 [main] INFO  top.dl.UserApplication - Started UserApplication in 12.292 seconds (process running for 13.203)
2025-06-10 08:31:30.652 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:31:30.652 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:31:30.654 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:31:30.664 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:31:30.665 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:31:30.667 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:31:30.667 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:31:30.668 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:31:30.744 [RMI TCP Connection(3)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 08:31:30.744 [RMI TCP Connection(3)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 08:31:30.746 [RMI TCP Connection(3)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-10 08:31:31.050 [nacos-grpc-client-executor-127.0.0.1-1074] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 21
2025-06-10 08:31:31.050 [nacos-grpc-client-executor-127.0.0.1-1074] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:31:31.051 [nacos-grpc-client-executor-127.0.0.1-1074] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:31:31.051 [nacos-grpc-client-executor-127.0.0.1-71] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Receive server push request, request = NotifySubscriberRequest, requestId = 22
2025-06-10 08:31:31.051 [nacos-grpc-client-executor-127.0.0.1-71] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:31:31.051 [nacos-grpc-client-executor-127.0.0.1-71] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:31:31.062 [nacos-grpc-client-executor-127.0.0.1-1074] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 21
2025-06-10 08:31:31.062 [nacos-grpc-client-executor-127.0.0.1-71] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Ack server push request, request = NotifySubscriberRequest, requestId = 22
2025-06-10 08:32:24.570 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:32:24.571 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-user with instance: Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:32:24.577 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:32:24.578 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:32:24.579 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:32:24.579 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:32:24.579 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:32:24.579 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:32:24.579 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:32:24.579 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:32:24.579 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:32:24.579 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:32:24.579 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:32:24.580 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:32:24.580 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->00bde384-1a57-4e67-802f-a6a0ac751436
2025-06-10 08:32:24.580 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@6581259a[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 17]
2025-06-10 08:32:24.580 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:32:24.580 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@58ab4f5c[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:32:24.580 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749515490452_127.0.0.1_55204
2025-06-10 08:32:24.582 [nacos-grpc-client-executor-127.0.0.1-18] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749515490452_127.0.0.1_55204]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:32:24.586 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1db93453[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 19]
2025-06-10 08:32:24.586 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->00bde384-1a57-4e67-802f-a6a0ac751436
2025-06-10 08:32:24.586 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:32:24.586 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:32:24.588 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:32:24.592 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 08:32:24.594 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 08:32:24.602 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 08:32:24.602 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 08:32:24.602 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 08:32:24.720 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:32:24.720 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-content with instance: Instance{instanceId='null', ip='10.20.47.212', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:32:24.725 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:32:24.726 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:32:24.726 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:32:24.726 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:32:24.726 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:32:24.726 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:32:24.726 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:32:24.726 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:32:24.726 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:32:24.727 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:32:24.727 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:32:24.727 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:32:24.727 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->bd9ec7d5-d5a9-493e-8161-056c06bebf94
2025-06-10 08:32:24.727 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@9b6f632[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 570]
2025-06-10 08:32:24.727 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:32:24.727 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@244425[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:32:24.727 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749513828970_127.0.0.1_61270
2025-06-10 08:32:24.728 [nacos-grpc-client-executor-127.0.0.1-344] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749513828970_127.0.0.1_61270]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:32:24.731 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@315b8284[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 345]
2025-06-10 08:32:24.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->bd9ec7d5-d5a9-493e-8161-056c06bebf94
2025-06-10 08:32:24.732 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:32:24.732 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:32:24.732 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:32:24.738 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 08:32:24.740 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 08:32:24.745 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 08:32:24.746 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 08:32:24.746 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 08:32:25.133 [nacos-grpc-client-executor-127.0.0.1-82] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Receive server push request, request = NotifySubscriberRequest, requestId = 24
2025-06-10 08:32:25.133 [nacos-grpc-client-executor-127.0.0.1-1090] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 23
2025-06-10 08:32:25.134 [nacos-grpc-client-executor-127.0.0.1-82] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:32:25.134 [nacos-grpc-client-executor-127.0.0.1-1090] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:32:25.134 [nacos-grpc-client-executor-127.0.0.1-82] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 08:32:25.134 [nacos-grpc-client-executor-127.0.0.1-1090] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 08:32:25.145 [nacos-grpc-client-executor-127.0.0.1-1090] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 23
2025-06-10 08:32:25.145 [nacos-grpc-client-executor-127.0.0.1-82] INFO  com.alibaba.nacos.common.remote.client - [d2c38b7d-40e5-4205-9bdc-c43f47104802] Ack server push request, request = NotifySubscriberRequest, requestId = 24
2025-06-10 08:32:25.242 [nacos-grpc-client-executor-127.0.0.1-1091] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Receive server push request, request = NotifySubscriberRequest, requestId = 25
2025-06-10 08:32:25.242 [nacos-grpc-client-executor-127.0.0.1-1091] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.47.212#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.47.212","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-06-10 08:32:25.242 [nacos-grpc-client-executor-127.0.0.1-1091] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 08:32:25.252 [nacos-grpc-client-executor-127.0.0.1-1091] INFO  com.alibaba.nacos.common.remote.client - [f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea] Ack server push request, request = NotifySubscriberRequest, requestId = 25
2025-06-10 08:32:26.415 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:32:26.415 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-gateway with instance: Instance{instanceId='null', ip='10.20.47.212', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:32:26.422 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea
2025-06-10 08:32:26.423 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@22693303[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 777]
2025-06-10 08:32:26.424 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:32:26.424 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@4c623a3f[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:32:26.424 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749513208755_127.0.0.1_60203
2025-06-10 08:32:26.424 [nacos-grpc-client-executor-127.0.0.1-1093] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749513208755_127.0.0.1_60203]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:32:26.429 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@676e1a2a[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 1103]
2025-06-10 08:32:26.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->f1e5a30a-1c7a-4f23-80fa-fbb6b05b42ea
2025-06-10 08:32:26.429 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:32:26.429 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:32:26.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:32:29.519 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 08:32:29.519 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 08:32:29.519 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-10 08:32:29.519 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-10 08:32:29.519 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 08:32:29.519 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-10 08:32:29.519 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-10 08:32:29.519 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 08:32:29.519 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-10 08:32:29.519 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 08:32:29.523 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:32:29.523 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:32:29.534 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:32:29.536 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:32:29.536 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:32:29.536 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:32:29.536 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:32:29.536 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:32:29.536 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:32:29.536 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:32:29.536 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:32:29.537 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:32:29.537 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:32:29.537 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:32:29.537 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->d2c38b7d-40e5-4205-9bdc-c43f47104802
2025-06-10 08:32:29.537 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@eae31f5[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 125]
2025-06-10 08:32:29.537 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:32:29.537 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@53ff0e1[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:32:29.537 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749515172192_127.0.0.1_55318
2025-06-10 08:32:29.538 [nacos-grpc-client-executor-127.0.0.1-84] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749515172192_127.0.0.1_55318]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:32:29.541 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@40c0c2f2[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 85]
2025-06-10 08:32:29.542 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->d2c38b7d-40e5-4205-9bdc-c43f47104802
2025-06-10 08:32:29.542 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:32:29.542 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:32:29.542 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:32:29.547 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 08:32:29.549 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 08:32:29.553 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 08:32:29.555 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 08:32:29.555 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 08:32:54.648 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:32:54.713 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 19872 (D:\study\shixun\iot-app-backend\iot-cloud-user\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:32:54.714 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:32:54.759 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:32:54.759 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:32:56.442 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:32:56.445 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:32:56.479 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-06-10 08:32:56.775 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-10 08:33:13.523 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:33:13.560 [main] INFO  top.dl.GatewayApplication - Starting GatewayApplication using Java 17.0.6 with PID 26604 (D:\study\shixun\iot-app-backend\iot-cloud-gateway\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:33:13.561 [main] INFO  top.dl.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:33:13.594 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:33:13.595 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:33:14.547 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=bb97293c-5f9d-33e2-bb2b-9bc2013db92c
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-06-10 08:33:16.081 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-06-10 08:33:16.430 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 08:33:16.937 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer - Netty started on port 8080 (http)
2025-06-10 08:33:17.262 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:33:17.263 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:33:17.263 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:33:17.267 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:33:17.270 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:33:17.271 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:33:17.349 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of d5aa128c-98d2-423a-8a5d-c0e261c62b9d
2025-06-10 08:33:17.351 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->d5aa128c-98d2-423a-8a5d-c0e261c62b9d
2025-06-10 08:33:17.351 [main] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:33:17.351 [main] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:33:17.351 [main] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:33:17.352 [main] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:33:17.359 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:33:17.371 [main] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749515597364_127.0.0.1_62712
2025-06-10 08:33:17.371 [main] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:33:17.371 [main] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$438/0x0000000801027a80
2025-06-10 08:33:17.371 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Notify connected event to listeners.
2025-06-10 08:33:17.371 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:33:17.372 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-gateway with instance Instance{instanceId='null', ip='10.20.47.212', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:33:17.381 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-gateway 10.20.47.212:8080 register finished
2025-06-10 08:33:17.423 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:33:17.423 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-content, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:33:17.423 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:33:17.423 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:33:17.423 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-content, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:33:17.423 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-content, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:33:17.423 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:33:17.423 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:33:17.423 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-content, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:33:17.423 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:33:17.423 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:33:17.423 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:33:17.423 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:33:17.423 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:33:17.423 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:33:17.424 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:33:17.436 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 08:33:17.436 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-gateway -> []
2025-06-10 08:33:17.436 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 08:33:17.436 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 08:33:17.438 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 08:33:17.445 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 08:33:17.445 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-gateway -> []
2025-06-10 08:33:17.445 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 08:33:17.445 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 08:33:17.445 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 08:33:17.499 [main] INFO  c.a.c.n.discovery.NacosDiscoveryHeartBeatPublisher - Start nacos heartBeat task scheduler.
2025-06-10 08:33:17.526 [main] INFO  top.dl.GatewayApplication - Started GatewayApplication in 5.652 seconds (process running for 6.455)
2025-06-10 08:33:17.533 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:33:17.533 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:33:17.535 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:33:17.536 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:33:17.536 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:33:17.538 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:33:17.538 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:33:17.538 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:33:17.925 [nacos-grpc-client-executor-127.0.0.1-31] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 26
2025-06-10 08:33:17.925 [nacos-grpc-client-executor-127.0.0.1-31] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.47.212#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.47.212","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:33:17.926 [nacos-grpc-client-executor-127.0.0.1-31] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.47.212#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.47.212","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:33:17.938 [nacos-grpc-client-executor-127.0.0.1-31] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 26
2025-06-10 08:33:18.031 [nacos-grpc-client-executor-127.0.0.1-0] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 28
2025-06-10 08:33:18.032 [nacos-grpc-client-executor-127.0.0.1-0] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 28
2025-06-10 08:33:18.034 [nacos-grpc-client-executor-127.0.0.1-1] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 27
2025-06-10 08:33:18.034 [nacos-grpc-client-executor-127.0.0.1-1] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 27
2025-06-10 08:33:18.037 [nacos-grpc-client-executor-127.0.0.1-2] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 29
2025-06-10 08:33:18.038 [nacos-grpc-client-executor-127.0.0.1-2] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 29
2025-06-10 08:33:19.232 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:33:19.310 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 8324 (D:\study\shixun\iot-app-backend\iot-cloud-user\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:33:19.312 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:33:19.378 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:33:19.379 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:33:21.208 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:33:21.214 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:33:21.283 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2025-06-10 08:33:21.788 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-10 08:33:22.993 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-10 08:33:23.009 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-10 08:33:23.011 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 08:33:23.013 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 08:33:23.142 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 08:33:23.142 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3760 ms
2025-06-10 08:33:23.591 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 08:33:24.522 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:33:28.219 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:33:28.583 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 08:33:28.735 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:33:28.795 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 12572 (D:\study\shixun\iot-app-backend\iot-cloud-iot\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:33:28.796 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:33:28.850 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:33:28.851 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:33:29.201 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@456beb8b
2025-06-10 08:33:29.203 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 08:33:29.204 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 08:33:29.204 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 08:33:30.151 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Found 2 AuthenticationProvider beans, with names [daoAuthenticationProvider, mobileAuthenticationProvider]. Global Authentication Manager will not be configured with AuthenticationProviders. Consider publishing a single AuthenticationProvider bean, or wiring your Providers directly using the DSL.
2025-06-10 08:33:30.153 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-10 08:33:30.998 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:33:31.005 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:33:31.066 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2025-06-10 08:33:31.407 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-10 08:33:31.431 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-10 08:33:31.587 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 08:33:31.743 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=3d44f949-1067-3b87-b463-4d9922c6a3d6
2025-06-10 08:33:33.275 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-10 08:33:33.295 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-10 08:33:33.298 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 08:33:33.299 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 08:33:33.432 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 08:33:33.432 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4579 ms
2025-06-10 08:33:33.545 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-06-10 08:33:33.563 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-06-10 08:33:33.573 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:33:33.574 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:33:33.574 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:33:33.583 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:33:33.594 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:33:33.594 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:33:33.686 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 669f08bc-99ec-4bc7-af61-bcac5b672a49
2025-06-10 08:33:33.690 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->669f08bc-99ec-4bc7-af61-bcac5b672a49
2025-06-10 08:33:33.691 [main] INFO  com.alibaba.nacos.common.remote.client - [669f08bc-99ec-4bc7-af61-bcac5b672a49] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:33:33.691 [main] INFO  com.alibaba.nacos.common.remote.client - [669f08bc-99ec-4bc7-af61-bcac5b672a49] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:33:33.692 [main] INFO  com.alibaba.nacos.common.remote.client - [669f08bc-99ec-4bc7-af61-bcac5b672a49] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:33:33.693 [main] INFO  com.alibaba.nacos.common.remote.client - [669f08bc-99ec-4bc7-af61-bcac5b672a49] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:33:33.693 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:33:33.714 [main] INFO  com.alibaba.nacos.common.remote.client - [669f08bc-99ec-4bc7-af61-bcac5b672a49] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749515613701_127.0.0.1_55964
2025-06-10 08:33:33.714 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [669f08bc-99ec-4bc7-af61-bcac5b672a49] Notify connected event to listeners.
2025-06-10 08:33:33.714 [main] INFO  com.alibaba.nacos.common.remote.client - [669f08bc-99ec-4bc7-af61-bcac5b672a49] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:33:33.714 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:33:33.714 [main] INFO  com.alibaba.nacos.common.remote.client - [669f08bc-99ec-4bc7-af61-bcac5b672a49] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801004800
2025-06-10 08:33:33.717 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-user with instance Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:33:33.735 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-user 10.20.47.212:8082 register finished
2025-06-10 08:33:33.920 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 08:33:33.982 [main] INFO  top.dl.UserApplication - Started UserApplication in 17.319 seconds (process running for 18.339)
2025-06-10 08:33:34.003 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:33:34.004 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:33:34.007 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:33:34.029 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:33:34.029 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:33:34.031 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:33:34.032 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:33:34.032 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:33:34.144 [RMI TCP Connection(7)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 08:33:34.145 [RMI TCP Connection(7)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 08:33:34.149 [RMI TCP Connection(7)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-06-10 08:33:34.292 [nacos-grpc-client-executor-127.0.0.1-33] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 30
2025-06-10 08:33:34.292 [nacos-grpc-client-executor-127.0.0.1-33] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:33:34.292 [nacos-grpc-client-executor-127.0.0.1-33] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:33:34.304 [nacos-grpc-client-executor-127.0.0.1-33] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 30
2025-06-10 08:33:34.513 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:33:37.121 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:33:37.377 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-10 08:33:37.505 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 08:33:37.999 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@50177966
2025-06-10 08:33:38.002 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 08:33:38.003 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 08:33:38.004 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 08:33:38.799 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:33:38.858 [main] INFO  top.dl.ContentApplication - Starting ContentApplication using Java 17.0.6 with PID 1564 (D:\study\shixun\iot-app-backend\iot-cloud-content\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:33:38.860 [main] INFO  top.dl.ContentApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:33:38.907 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:33:38.908 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:33:39.017 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 08:33:39.456 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-10 08:33:40.434 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:33:40.437 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:33:40.479 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-06-10 08:33:40.503 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-10 08:33:40.907 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4cd02779-edee-334a-90cf-ec937e525064
2025-06-10 08:33:41.941 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-06-10 08:33:41.956 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-06-10 08:33:41.958 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 08:33:41.959 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 08:33:42.049 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 08:33:42.050 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-10 08:33:42.050 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-10 08:33:42.050 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 08:33:42.051 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-10 08:33:42.051 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-10 08:33:42.051 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 08:33:42.051 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-10 08:33:42.051 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 08:33:42.077 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 08:33:42.078 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3167 ms
2025-06-10 08:33:42.385 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 08:33:42.510 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 08:33:42.510 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-10 08:33:42.526 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-10 08:33:42.534 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:33:42.534 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:33:42.535 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:33:42.543 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:33:42.551 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:33:42.551 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:33:42.660 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 853f5f79-4c73-4b65-966c-929575445259
2025-06-10 08:33:42.663 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->853f5f79-4c73-4b65-966c-929575445259
2025-06-10 08:33:42.663 [main] INFO  com.alibaba.nacos.common.remote.client - [853f5f79-4c73-4b65-966c-929575445259] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:33:42.663 [main] INFO  com.alibaba.nacos.common.remote.client - [853f5f79-4c73-4b65-966c-929575445259] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:33:42.663 [main] INFO  com.alibaba.nacos.common.remote.client - [853f5f79-4c73-4b65-966c-929575445259] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:33:42.663 [main] INFO  com.alibaba.nacos.common.remote.client - [853f5f79-4c73-4b65-966c-929575445259] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:33:42.665 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:33:42.677 [main] INFO  com.alibaba.nacos.common.remote.client - [853f5f79-4c73-4b65-966c-929575445259] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749515622669_127.0.0.1_61214
2025-06-10 08:33:42.677 [main] INFO  com.alibaba.nacos.common.remote.client - [853f5f79-4c73-4b65-966c-929575445259] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:33:42.677 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [853f5f79-4c73-4b65-966c-929575445259] Notify connected event to listeners.
2025-06-10 08:33:42.677 [main] INFO  com.alibaba.nacos.common.remote.client - [853f5f79-4c73-4b65-966c-929575445259] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x0000000801024a28
2025-06-10 08:33:42.677 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:33:42.678 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:33:42.689 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.47.212:8083 register finished
2025-06-10 08:33:42.854 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:33:42.906 [main] INFO  top.dl.IotApplication - Started IotApplication in 16.416 seconds (process running for 17.87)
2025-06-10 08:33:42.918 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:33:42.919 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:33:42.921 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:33:42.932 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:33:42.933 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:33:42.934 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:33:42.935 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:33:42.935 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:33:43.200 [nacos-grpc-client-executor-127.0.0.1-41] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 31
2025-06-10 08:33:43.200 [nacos-grpc-client-executor-127.0.0.1-41] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:33:43.200 [nacos-grpc-client-executor-127.0.0.1-41] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:33:43.209 [nacos-grpc-client-executor-127.0.0.1-41] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 31
2025-06-10 08:33:43.481 [RMI TCP Connection(5)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 08:33:43.481 [RMI TCP Connection(5)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 08:33:43.484 [RMI TCP Connection(5)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-06-10 08:33:45.403 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:33:45.692 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 08:33:46.321 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@a47a011
2025-06-10 08:33:46.323 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 08:33:46.324 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 08:33:46.324 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 08:33:47.363 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 08:33:47.575 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-10 08:33:48.673 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 08:33:49.944 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-06-10 08:33:49.954 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-06-10 08:33:49.960 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:33:49.960 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:33:49.960 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:33:49.966 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:33:49.970 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:33:49.970 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:33:50.045 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 1bf0d72f-bec7-4fa4-9113-76e89ec36b24
2025-06-10 08:33:50.048 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->1bf0d72f-bec7-4fa4-9113-76e89ec36b24
2025-06-10 08:33:50.048 [main] INFO  com.alibaba.nacos.common.remote.client - [1bf0d72f-bec7-4fa4-9113-76e89ec36b24] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:33:50.048 [main] INFO  com.alibaba.nacos.common.remote.client - [1bf0d72f-bec7-4fa4-9113-76e89ec36b24] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:33:50.049 [main] INFO  com.alibaba.nacos.common.remote.client - [1bf0d72f-bec7-4fa4-9113-76e89ec36b24] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:33:50.049 [main] INFO  com.alibaba.nacos.common.remote.client - [1bf0d72f-bec7-4fa4-9113-76e89ec36b24] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:33:50.049 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:33:50.060 [main] INFO  com.alibaba.nacos.common.remote.client - [1bf0d72f-bec7-4fa4-9113-76e89ec36b24] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749515630054_127.0.0.1_54331
2025-06-10 08:33:50.060 [main] INFO  com.alibaba.nacos.common.remote.client - [1bf0d72f-bec7-4fa4-9113-76e89ec36b24] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:33:50.060 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [1bf0d72f-bec7-4fa4-9113-76e89ec36b24] Notify connected event to listeners.
2025-06-10 08:33:50.060 [main] INFO  com.alibaba.nacos.common.remote.client - [1bf0d72f-bec7-4fa4-9113-76e89ec36b24] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x0000000801025870
2025-06-10 08:33:50.060 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:33:50.062 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-content with instance Instance{instanceId='null', ip='10.20.47.212', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:33:50.076 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-content 10.20.47.212:8081 register finished
2025-06-10 08:33:50.234 [main] INFO  top.dl.ContentApplication - Started ContentApplication in 13.492 seconds (process running for 15.063)
2025-06-10 08:33:50.245 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:33:50.246 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:33:50.246 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:33:50.256 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:33:50.256 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:33:50.257 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:33:50.257 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:33:50.257 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:33:50.524 [RMI TCP Connection(5)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 08:33:50.524 [RMI TCP Connection(5)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 08:33:50.526 [RMI TCP Connection(5)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-10 08:33:50.611 [nacos-grpc-client-executor-127.0.0.1-53] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 32
2025-06-10 08:33:50.612 [nacos-grpc-client-executor-127.0.0.1-53] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.47.212#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.47.212","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:33:50.612 [nacos-grpc-client-executor-127.0.0.1-53] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.47.212#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.47.212","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:33:50.623 [nacos-grpc-client-executor-127.0.0.1-53] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 32
2025-06-10 08:34:06.024 [http-nio-8082-exec-5] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 217 ms
2025-06-10 08:37:36.445 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:37:36.445 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-user with instance: Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:37:36.450 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:37:36.452 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:37:36.452 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:37:36.452 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:37:36.452 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:37:36.452 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:37:36.452 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:37:36.452 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:37:36.452 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:37:36.452 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:37:36.452 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:37:36.453 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:37:36.453 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->669f08bc-99ec-4bc7-af61-bcac5b672a49
2025-06-10 08:37:36.453 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@3fe3e42a[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 80]
2025-06-10 08:37:36.453 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:37:36.453 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@10509c28[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:37:36.453 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749515613701_127.0.0.1_55964
2025-06-10 08:37:36.455 [nacos-grpc-client-executor-127.0.0.1-59] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749515613701_127.0.0.1_55964]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:37:36.462 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@bf8db4e[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 60]
2025-06-10 08:37:36.462 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->669f08bc-99ec-4bc7-af61-bcac5b672a49
2025-06-10 08:37:36.462 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:37:36.462 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:37:36.463 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:37:36.466 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 08:37:36.468 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 08:37:36.478 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 08:37:36.478 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 08:37:36.478 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 08:37:36.955 [nacos-grpc-client-executor-127.0.0.1-152] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 33
2025-06-10 08:37:36.956 [nacos-grpc-client-executor-127.0.0.1-152] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:37:36.957 [nacos-grpc-client-executor-127.0.0.1-152] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 08:37:36.969 [nacos-grpc-client-executor-127.0.0.1-152] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 33
2025-06-10 08:37:45.186 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:37:45.237 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 30728 (D:\study\shixun\iot-app-backend\iot-cloud-user\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:37:45.239 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:37:45.285 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:37:45.285 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:37:46.639 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:37:46.642 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:37:46.678 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-06-10 08:37:46.977 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-10 08:37:47.967 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-10 08:37:47.979 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-10 08:37:47.980 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 08:37:47.981 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 08:37:48.071 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 08:37:48.072 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2784 ms
2025-06-10 08:37:48.353 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 08:37:48.868 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:37:51.449 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:37:51.752 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 08:37:52.324 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@43a9988a
2025-06-10 08:37:52.325 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 08:37:52.326 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 08:37:52.326 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 08:37:53.115 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Found 2 AuthenticationProvider beans, with names [daoAuthenticationProvider, mobileAuthenticationProvider]. Global Authentication Manager will not be configured with AuthenticationProviders. Consider publishing a single AuthenticationProvider bean, or wiring your Providers directly using the DSL.
2025-06-10 08:37:53.117 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-10 08:37:54.116 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 08:37:55.678 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-06-10 08:37:55.692 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-06-10 08:37:55.699 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:37:55.699 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:37:55.700 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:37:55.707 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:37:55.712 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:37:55.712 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:37:55.788 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 52b392d9-fd13-419c-b621-47b17085422b
2025-06-10 08:37:55.792 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->52b392d9-fd13-419c-b621-47b17085422b
2025-06-10 08:37:55.792 [main] INFO  com.alibaba.nacos.common.remote.client - [52b392d9-fd13-419c-b621-47b17085422b] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:37:55.792 [main] INFO  com.alibaba.nacos.common.remote.client - [52b392d9-fd13-419c-b621-47b17085422b] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:37:55.793 [main] INFO  com.alibaba.nacos.common.remote.client - [52b392d9-fd13-419c-b621-47b17085422b] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:37:55.793 [main] INFO  com.alibaba.nacos.common.remote.client - [52b392d9-fd13-419c-b621-47b17085422b] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:37:55.794 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:37:55.811 [main] INFO  com.alibaba.nacos.common.remote.client - [52b392d9-fd13-419c-b621-47b17085422b] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749515875800_127.0.0.1_51196
2025-06-10 08:37:55.811 [main] INFO  com.alibaba.nacos.common.remote.client - [52b392d9-fd13-419c-b621-47b17085422b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:37:55.811 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [52b392d9-fd13-419c-b621-47b17085422b] Notify connected event to listeners.
2025-06-10 08:37:55.811 [main] INFO  com.alibaba.nacos.common.remote.client - [52b392d9-fd13-419c-b621-47b17085422b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801004c40
2025-06-10 08:37:55.812 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:37:55.813 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-user with instance Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:37:55.827 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-user 10.20.47.212:8082 register finished
2025-06-10 08:37:56.017 [main] INFO  top.dl.UserApplication - Started UserApplication in 12.91 seconds (process running for 13.901)
2025-06-10 08:37:56.030 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:37:56.030 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:37:56.032 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:37:56.042 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:37:56.042 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:37:56.045 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:37:56.045 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:37:56.045 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:37:56.358 [nacos-grpc-client-executor-127.0.0.1-166] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 34
2025-06-10 08:37:56.359 [nacos-grpc-client-executor-127.0.0.1-166] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:37:56.361 [nacos-grpc-client-executor-127.0.0.1-166] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:37:56.372 [nacos-grpc-client-executor-127.0.0.1-166] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 34
2025-06-10 08:37:56.534 [RMI TCP Connection(2)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 08:37:56.535 [RMI TCP Connection(2)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 08:37:56.536 [RMI TCP Connection(2)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-10 08:38:24.556 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:38:24.556 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-user with instance: Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:38:24.561 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->52b392d9-fd13-419c-b621-47b17085422b
2025-06-10 08:38:24.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@2915023d[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 9]
2025-06-10 08:38:24.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:38:24.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@352a6a7b[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:38:24.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749515875800_127.0.0.1_51196
2025-06-10 08:38:24.566 [nacos-grpc-client-executor-127.0.0.1-15] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749515875800_127.0.0.1_51196]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:38:24.569 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@63457d87[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 16]
2025-06-10 08:38:24.570 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->52b392d9-fd13-419c-b621-47b17085422b
2025-06-10 08:38:24.570 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:38:24.570 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:38:24.570 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:38:24.573 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 08:38:24.576 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 08:38:24.583 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 08:38:24.583 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 08:38:24.583 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 08:38:25.086 [nacos-grpc-client-executor-127.0.0.1-180] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 35
2025-06-10 08:38:25.086 [nacos-grpc-client-executor-127.0.0.1-180] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:38:25.086 [nacos-grpc-client-executor-127.0.0.1-180] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 08:38:25.099 [nacos-grpc-client-executor-127.0.0.1-180] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 35
2025-06-10 08:38:48.918 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:38:48.968 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 14916 (D:\study\shixun\iot-app-backend\iot-cloud-user\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:38:48.970 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:38:49.013 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:38:49.013 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:38:50.322 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:38:50.325 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:38:50.360 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-06-10 08:38:50.643 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-10 08:38:51.558 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-10 08:38:51.568 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-10 08:38:51.569 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 08:38:51.570 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 08:38:51.663 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 08:38:51.663 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2648 ms
2025-06-10 08:38:51.934 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 08:38:52.357 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:38:55.434 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:38:55.703 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 08:38:56.297 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@2e41e0c
2025-06-10 08:38:56.299 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 08:38:56.300 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 08:38:56.300 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 08:38:57.009 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Found 2 AuthenticationProvider beans, with names [daoAuthenticationProvider, mobileAuthenticationProvider]. Global Authentication Manager will not be configured with AuthenticationProviders. Consider publishing a single AuthenticationProvider bean, or wiring your Providers directly using the DSL.
2025-06-10 08:38:57.011 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-10 08:38:57.918 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 08:38:59.106 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-06-10 08:38:59.116 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-06-10 08:38:59.123 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:38:59.124 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:38:59.124 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:38:59.131 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:38:59.136 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:38:59.136 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:38:59.207 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 5d2a7ec2-8635-4c76-9bdf-a3d3386e49e3
2025-06-10 08:38:59.209 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->5d2a7ec2-8635-4c76-9bdf-a3d3386e49e3
2025-06-10 08:38:59.210 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2a7ec2-8635-4c76-9bdf-a3d3386e49e3] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:38:59.210 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2a7ec2-8635-4c76-9bdf-a3d3386e49e3] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:38:59.210 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2a7ec2-8635-4c76-9bdf-a3d3386e49e3] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:38:59.211 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2a7ec2-8635-4c76-9bdf-a3d3386e49e3] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:38:59.211 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:38:59.223 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2a7ec2-8635-4c76-9bdf-a3d3386e49e3] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749515939217_127.0.0.1_57774
2025-06-10 08:38:59.225 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2a7ec2-8635-4c76-9bdf-a3d3386e49e3] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:38:59.225 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [5d2a7ec2-8635-4c76-9bdf-a3d3386e49e3] Notify connected event to listeners.
2025-06-10 08:38:59.225 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2a7ec2-8635-4c76-9bdf-a3d3386e49e3] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801025228
2025-06-10 08:38:59.225 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:38:59.226 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-user with instance Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:38:59.238 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-user 10.20.47.212:8082 register finished
2025-06-10 08:38:59.411 [main] INFO  top.dl.UserApplication - Started UserApplication in 12.437 seconds (process running for 13.822)
2025-06-10 08:38:59.422 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:38:59.422 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:38:59.425 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:38:59.435 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:38:59.436 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:38:59.437 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:38:59.438 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:38:59.438 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:38:59.772 [nacos-grpc-client-executor-127.0.0.1-194] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 36
2025-06-10 08:38:59.772 [nacos-grpc-client-executor-127.0.0.1-194] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:38:59.772 [nacos-grpc-client-executor-127.0.0.1-194] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:38:59.782 [nacos-grpc-client-executor-127.0.0.1-194] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 36
2025-06-10 08:38:59.891 [RMI TCP Connection(5)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 08:38:59.891 [RMI TCP Connection(5)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 08:38:59.894 [RMI TCP Connection(5)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-06-10 08:40:16.242 [http-nio-8082-exec-2] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 225 ms
2025-06-10 08:43:18.975 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:43:18.976 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-user with instance: Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:43:18.981 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:43:18.982 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->5d2a7ec2-8635-4c76-9bdf-a3d3386e49e3
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@67c6dd5b[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 86]
2025-06-10 08:43:18.983 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:43:18.985 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7ddb5161[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:43:18.985 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749515939217_127.0.0.1_57774
2025-06-10 08:43:18.986 [nacos-grpc-client-executor-127.0.0.1-60] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749515939217_127.0.0.1_57774]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:43:18.989 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1ae26ec2[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 61]
2025-06-10 08:43:18.990 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->5d2a7ec2-8635-4c76-9bdf-a3d3386e49e3
2025-06-10 08:43:18.990 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:43:18.990 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:43:18.990 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:43:18.994 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 08:43:18.996 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 08:43:19.003 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 08:43:19.003 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 08:43:19.003 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 08:43:19.246 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:43:19.246 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-content with instance: Instance{instanceId='null', ip='10.20.47.212', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:43:19.250 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:43:19.251 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:43:19.251 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:43:19.251 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:43:19.251 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:43:19.251 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:43:19.251 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:43:19.251 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:43:19.252 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:43:19.252 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:43:19.252 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:43:19.252 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:43:19.252 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->1bf0d72f-bec7-4fa4-9113-76e89ec36b24
2025-06-10 08:43:19.252 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@5c954a3f[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 189]
2025-06-10 08:43:19.252 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:43:19.252 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@3456211a[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:43:19.252 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749515630054_127.0.0.1_54331
2025-06-10 08:43:19.253 [nacos-grpc-client-executor-127.0.0.1-120] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749515630054_127.0.0.1_54331]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:43:19.257 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@378fea21[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 121]
2025-06-10 08:43:19.257 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->1bf0d72f-bec7-4fa4-9113-76e89ec36b24
2025-06-10 08:43:19.257 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:43:19.257 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:43:19.258 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:43:19.263 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 08:43:19.265 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 08:43:19.271 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 08:43:19.271 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 08:43:19.271 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 08:43:19.508 [nacos-grpc-client-executor-127.0.0.1-310] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 37
2025-06-10 08:43:19.509 [nacos-grpc-client-executor-127.0.0.1-310] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:43:19.509 [nacos-grpc-client-executor-127.0.0.1-310] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 08:43:19.547 [nacos-grpc-client-executor-127.0.0.1-310] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 37
2025-06-10 08:43:19.834 [nacos-grpc-client-executor-127.0.0.1-311] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Receive server push request, request = NotifySubscriberRequest, requestId = 38
2025-06-10 08:43:19.834 [nacos-grpc-client-executor-127.0.0.1-311] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.47.212#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.47.212","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 08:43:19.834 [nacos-grpc-client-executor-127.0.0.1-311] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 08:43:19.844 [nacos-grpc-client-executor-127.0.0.1-311] INFO  com.alibaba.nacos.common.remote.client - [d5aa128c-98d2-423a-8a5d-c0e261c62b9d] Ack server push request, request = NotifySubscriberRequest, requestId = 38
2025-06-10 08:43:20.726 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:43:20.726 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-gateway with instance: Instance{instanceId='null', ip='10.20.47.212', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:43:20.730 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->d5aa128c-98d2-423a-8a5d-c0e261c62b9d
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@77ff4e54[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 200]
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@4b19881f[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:43:20.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749515597364_127.0.0.1_62712
2025-06-10 08:43:20.732 [nacos-grpc-client-executor-127.0.0.1-313] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749515597364_127.0.0.1_62712]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:43:20.734 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@6f2bced3[Running, pool size = 14, active threads = 0, queued tasks = 0, completed tasks = 351]
2025-06-10 08:43:20.734 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->d5aa128c-98d2-423a-8a5d-c0e261c62b9d
2025-06-10 08:43:20.735 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:43:20.735 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:43:20.735 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:43:24.224 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 08:43:24.224 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 08:43:24.225 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-10 08:43:24.225 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-10 08:43:24.225 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 08:43:24.225 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-10 08:43:24.225 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-10 08:43:24.225 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 08:43:24.225 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-10 08:43:24.225 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 08:43:24.230 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 08:43:24.230 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 08:43:24.235 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 08:43:24.237 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 08:43:24.237 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 08:43:24.237 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 08:43:24.237 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 08:43:24.237 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 08:43:24.237 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 08:43:24.238 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 08:43:24.238 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 08:43:24.238 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 08:43:24.238 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 08:43:24.238 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 08:43:24.238 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->853f5f79-4c73-4b65-966c-929575445259
2025-06-10 08:43:24.238 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@61bea11f[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 193]
2025-06-10 08:43:24.238 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 08:43:24.238 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@e7a7d13[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 08:43:24.238 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749515622669_127.0.0.1_61214
2025-06-10 08:43:24.239 [nacos-grpc-client-executor-127.0.0.1-122] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749515622669_127.0.0.1_61214]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 08:43:24.242 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2eeb6bc2[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 123]
2025-06-10 08:43:24.243 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->853f5f79-4c73-4b65-966c-929575445259
2025-06-10 08:43:24.243 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 08:43:24.243 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 08:43:24.243 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 08:43:24.248 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 08:43:24.250 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 08:43:24.256 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 08:43:24.256 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 08:43:24.256 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 08:43:34.566 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:43:34.601 [main] INFO  top.dl.GatewayApplication - Starting GatewayApplication using Java 17.0.6 with PID 29548 (D:\study\shixun\iot-app-backend\iot-cloud-gateway\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:43:34.603 [main] INFO  top.dl.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:43:34.637 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:43:34.637 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:43:35.498 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=bb97293c-5f9d-33e2-bb2b-9bc2013db92c
2025-06-10 08:43:36.743 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-06-10 08:43:36.743 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-06-10 08:43:36.743 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-06-10 08:43:36.743 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-06-10 08:43:36.743 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-06-10 08:43:36.743 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-06-10 08:43:36.744 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-06-10 08:43:36.744 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-06-10 08:43:36.744 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-06-10 08:43:36.744 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-06-10 08:43:36.744 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-06-10 08:43:36.744 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-06-10 08:43:36.744 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-06-10 08:43:36.744 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-06-10 08:43:37.004 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 08:43:37.402 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer - Netty started on port 8080 (http)
2025-06-10 08:43:37.695 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:43:37.696 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:43:37.696 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:43:37.700 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:43:37.703 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:43:37.704 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:43:37.770 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of eb7b885b-548b-4cf8-9c65-477a23bda32d
2025-06-10 08:43:37.772 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->eb7b885b-548b-4cf8-9c65-477a23bda32d
2025-06-10 08:43:37.772 [main] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:43:37.772 [main] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:43:37.772 [main] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:43:37.773 [main] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:43:37.773 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:43:37.783 [main] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749516217776_127.0.0.1_52248
2025-06-10 08:43:37.784 [main] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:43:37.784 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Notify connected event to listeners.
2025-06-10 08:43:37.784 [main] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$438/0x00000008010270a0
2025-06-10 08:43:37.784 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:43:37.785 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-gateway with instance Instance{instanceId='null', ip='10.20.47.212', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:43:37.794 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-gateway 10.20.47.212:8080 register finished
2025-06-10 08:43:37.835 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-content, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:43:37.835 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:43:37.835 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:43:37.835 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:43:37.835 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:43:37.835 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:43:37.835 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-content, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:43:37.835 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-content, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:43:37.835 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:43:37.835 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:43:37.835 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:43:37.835 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-content, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:43:37.835 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:43:37.835 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 08:43:37.835 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:43:37.836 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 08:43:37.849 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 08:43:37.849 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 08:43:37.849 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 08:43:37.852 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-gateway -> []
2025-06-10 08:43:37.852 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 08:43:37.859 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 08:43:37.859 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 08:43:37.859 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 08:43:37.859 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-gateway -> []
2025-06-10 08:43:37.859 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 08:43:37.904 [main] INFO  c.a.c.n.discovery.NacosDiscoveryHeartBeatPublisher - Start nacos heartBeat task scheduler.
2025-06-10 08:43:37.926 [main] INFO  top.dl.GatewayApplication - Started GatewayApplication in 4.929 seconds (process running for 5.793)
2025-06-10 08:43:37.932 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:43:37.932 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:43:37.934 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:43:37.935 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:43:37.935 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:43:37.936 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:43:37.936 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:43:37.936 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:43:38.364 [nacos-grpc-client-executor-127.0.0.1-2] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Receive server push request, request = NotifySubscriberRequest, requestId = 41
2025-06-10 08:43:38.365 [nacos-grpc-client-executor-127.0.0.1-2] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.47.212#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.47.212","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 08:43:38.365 [nacos-grpc-client-executor-127.0.0.1-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.47.212#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.47.212","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 08:43:38.375 [nacos-grpc-client-executor-127.0.0.1-2] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Ack server push request, request = NotifySubscriberRequest, requestId = 41
2025-06-10 08:43:38.377 [nacos-grpc-client-executor-127.0.0.1-3] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Receive server push request, request = NotifySubscriberRequest, requestId = 40
2025-06-10 08:43:38.377 [nacos-grpc-client-executor-127.0.0.1-3] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Ack server push request, request = NotifySubscriberRequest, requestId = 40
2025-06-10 08:43:38.379 [nacos-grpc-client-executor-127.0.0.1-4] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Receive server push request, request = NotifySubscriberRequest, requestId = 39
2025-06-10 08:43:38.379 [nacos-grpc-client-executor-127.0.0.1-4] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Ack server push request, request = NotifySubscriberRequest, requestId = 39
2025-06-10 08:43:38.381 [nacos-grpc-client-executor-127.0.0.1-5] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Receive server push request, request = NotifySubscriberRequest, requestId = 42
2025-06-10 08:43:38.381 [nacos-grpc-client-executor-127.0.0.1-5] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Ack server push request, request = NotifySubscriberRequest, requestId = 42
2025-06-10 08:43:44.462 [nacos-grpc-client-executor-127.0.0.1-7] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Receive server push request, request = NotifySubscriberRequest, requestId = 43
2025-06-10 08:43:44.463 [nacos-grpc-client-executor-127.0.0.1-7] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Ack server push request, request = NotifySubscriberRequest, requestId = 43
2025-06-10 08:43:51.501 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 08:43:51.556 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 3192 (D:\study\shixun\iot-app-backend\iot-cloud-iot\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 08:43:51.557 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 08:43:51.602 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:43:51.602 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 08:43:52.869 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 08:43:52.872 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 08:43:52.908 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-06-10 08:43:53.103 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-10 08:43:53.113 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-10 08:43:53.302 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=3d44f949-1067-3b87-b463-4d9922c6a3d6
2025-06-10 08:43:54.210 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-10 08:43:54.220 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-10 08:43:54.221 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 08:43:54.222 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 08:43:54.316 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 08:43:54.317 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2711 ms
2025-06-10 08:43:54.597 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 08:43:55.022 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:43:58.729 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 08:43:58.965 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-10 08:43:59.080 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 08:43:59.660 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@6d810e94
2025-06-10 08:43:59.662 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 08:43:59.663 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 08:43:59.663 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 08:44:00.531 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 08:44:00.909 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-10 08:44:01.798 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-10 08:44:03.061 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 08:44:03.061 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-10 08:44:03.062 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-10 08:44:03.062 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 08:44:03.062 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-10 08:44:03.062 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-10 08:44:03.062 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 08:44:03.062 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-10 08:44:03.062 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 08:44:03.515 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 08:44:03.516 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-10 08:44:03.529 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-10 08:44:03.535 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 08:44:03.535 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 08:44:03.535 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 08:44:03.541 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 08:44:03.545 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 08:44:03.546 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 08:44:03.614 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 9185f48e-9ce0-4fa8-9188-6d303dd92db4
2025-06-10 08:44:03.616 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->9185f48e-9ce0-4fa8-9188-6d303dd92db4
2025-06-10 08:44:03.616 [main] INFO  com.alibaba.nacos.common.remote.client - [9185f48e-9ce0-4fa8-9188-6d303dd92db4] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 08:44:03.616 [main] INFO  com.alibaba.nacos.common.remote.client - [9185f48e-9ce0-4fa8-9188-6d303dd92db4] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 08:44:03.617 [main] INFO  com.alibaba.nacos.common.remote.client - [9185f48e-9ce0-4fa8-9188-6d303dd92db4] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 08:44:03.617 [main] INFO  com.alibaba.nacos.common.remote.client - [9185f48e-9ce0-4fa8-9188-6d303dd92db4] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 08:44:03.617 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 08:44:03.628 [main] INFO  com.alibaba.nacos.common.remote.client - [9185f48e-9ce0-4fa8-9188-6d303dd92db4] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749516243622_127.0.0.1_57779
2025-06-10 08:44:03.628 [main] INFO  com.alibaba.nacos.common.remote.client - [9185f48e-9ce0-4fa8-9188-6d303dd92db4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 08:44:03.628 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [9185f48e-9ce0-4fa8-9188-6d303dd92db4] Notify connected event to listeners.
2025-06-10 08:44:03.628 [main] INFO  com.alibaba.nacos.common.remote.client - [9185f48e-9ce0-4fa8-9188-6d303dd92db4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x0000000801024400
2025-06-10 08:44:03.628 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 08:44:03.629 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 08:44:03.638 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.47.212:8083 register finished
2025-06-10 08:44:03.816 [main] INFO  top.dl.IotApplication - Started IotApplication in 14.107 seconds (process running for 15.064)
2025-06-10 08:44:03.827 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 08:44:03.827 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 08:44:03.829 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 08:44:03.838 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:44:03.838 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 08:44:03.840 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 08:44:03.840 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 08:44:03.840 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 08:44:03.906 [RMI TCP Connection(2)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 08:44:03.906 [RMI TCP Connection(2)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 08:44:03.909 [RMI TCP Connection(2)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-06-10 08:44:04.182 [nacos-grpc-client-executor-127.0.0.1-35] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Receive server push request, request = NotifySubscriberRequest, requestId = 44
2025-06-10 08:44:04.183 [nacos-grpc-client-executor-127.0.0.1-35] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 08:44:04.183 [nacos-grpc-client-executor-127.0.0.1-35] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 08:44:04.194 [nacos-grpc-client-executor-127.0.0.1-35] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Ack server push request, request = NotifySubscriberRequest, requestId = 44
2025-06-10 09:01:56.479 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 09:01:56.542 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 20700 (D:\study\shixun\iot-app-backend\iot-cloud-user\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 09:01:56.545 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 09:01:56.605 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 09:01:56.605 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 09:01:58.895 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 09:01:58.903 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 09:01:58.977 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 0 Redis repository interfaces.
2025-06-10 09:01:59.476 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-10 09:02:00.491 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-10 09:02:00.504 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-10 09:02:00.506 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 09:02:00.506 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 09:02:00.620 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 09:02:00.620 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4011 ms
2025-06-10 09:02:00.908 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 09:02:01.492 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 09:02:01.678 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 09:02:01.732 [main] INFO  top.dl.ContentApplication - Starting ContentApplication using Java 17.0.6 with PID 10704 (D:\study\shixun\iot-app-backend\iot-cloud-content\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 09:02:01.734 [main] INFO  top.dl.ContentApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 09:02:01.779 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 09:02:01.779 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 09:02:03.104 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 09:02:03.108 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 09:02:03.144 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-06-10 09:02:03.489 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4cd02779-edee-334a-90cf-ec937e525064
2025-06-10 09:02:04.031 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 09:02:04.345 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 09:02:04.455 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-06-10 09:02:04.465 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-06-10 09:02:04.467 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 09:02:04.467 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 09:02:04.562 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 09:02:04.563 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2780 ms
2025-06-10 09:02:04.841 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 09:02:04.979 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@5653429e
2025-06-10 09:02:04.981 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 09:02:04.981 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 09:02:04.982 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 09:02:05.413 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 09:02:05.739 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Found 2 AuthenticationProvider beans, with names [daoAuthenticationProvider, mobileAuthenticationProvider]. Global Authentication Manager will not be configured with AuthenticationProviders. Consider publishing a single AuthenticationProvider bean, or wiring your Providers directly using the DSL.
2025-06-10 09:02:05.740 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-10 09:02:06.653 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 09:02:07.888 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-06-10 09:02:07.899 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-06-10 09:02:07.908 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 09:02:07.909 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 09:02:07.909 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 09:02:07.916 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 09:02:07.921 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 09:02:07.921 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 09:02:07.990 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of b36cfad2-39ac-422c-8d80-55f84e22d3a5
2025-06-10 09:02:07.992 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->b36cfad2-39ac-422c-8d80-55f84e22d3a5
2025-06-10 09:02:07.992 [main] INFO  com.alibaba.nacos.common.remote.client - [b36cfad2-39ac-422c-8d80-55f84e22d3a5] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 09:02:07.992 [main] INFO  com.alibaba.nacos.common.remote.client - [b36cfad2-39ac-422c-8d80-55f84e22d3a5] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 09:02:07.993 [main] INFO  com.alibaba.nacos.common.remote.client - [b36cfad2-39ac-422c-8d80-55f84e22d3a5] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 09:02:07.993 [main] INFO  com.alibaba.nacos.common.remote.client - [b36cfad2-39ac-422c-8d80-55f84e22d3a5] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 09:02:07.993 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 09:02:08.005 [main] INFO  com.alibaba.nacos.common.remote.client - [b36cfad2-39ac-422c-8d80-55f84e22d3a5] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749517327998_127.0.0.1_58939
2025-06-10 09:02:08.005 [main] INFO  com.alibaba.nacos.common.remote.client - [b36cfad2-39ac-422c-8d80-55f84e22d3a5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 09:02:08.005 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [b36cfad2-39ac-422c-8d80-55f84e22d3a5] Notify connected event to listeners.
2025-06-10 09:02:08.005 [main] INFO  com.alibaba.nacos.common.remote.client - [b36cfad2-39ac-422c-8d80-55f84e22d3a5] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$431/0x0000000800fe0678
2025-06-10 09:02:08.005 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 09:02:08.006 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-user with instance Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 09:02:08.018 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-user 10.20.47.212:8082 register finished
2025-06-10 09:02:08.178 [main] INFO  top.dl.UserApplication - Started UserApplication in 14.099 seconds (process running for 22.423)
2025-06-10 09:02:08.179 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 09:02:08.189 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 09:02:08.190 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 09:02:08.192 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 09:02:08.202 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 09:02:08.202 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 09:02:08.205 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 09:02:08.205 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 09:02:08.205 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 09:02:08.458 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 09:02:08.578 [nacos-grpc-client-executor-127.0.0.1-530] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Receive server push request, request = NotifySubscriberRequest, requestId = 45
2025-06-10 09:02:08.578 [nacos-grpc-client-executor-127.0.0.1-530] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:02:08.578 [nacos-grpc-client-executor-127.0.0.1-530] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:02:08.588 [nacos-grpc-client-executor-127.0.0.1-530] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Ack server push request, request = NotifySubscriberRequest, requestId = 45
2025-06-10 09:02:09.019 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@5397d41e
2025-06-10 09:02:09.021 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 09:02:09.022 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 09:02:09.023 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 09:02:09.894 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 09:02:10.086 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-10 09:02:11.028 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 09:02:12.258 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-06-10 09:02:12.270 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-06-10 09:02:12.276 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 09:02:12.276 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 09:02:12.276 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 09:02:12.283 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 09:02:12.289 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 09:02:12.289 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 09:02:12.362 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 3ffe6de8-1798-464b-9fc1-24f491e866d4
2025-06-10 09:02:12.364 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->3ffe6de8-1798-464b-9fc1-24f491e866d4
2025-06-10 09:02:12.364 [main] INFO  com.alibaba.nacos.common.remote.client - [3ffe6de8-1798-464b-9fc1-24f491e866d4] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 09:02:12.364 [main] INFO  com.alibaba.nacos.common.remote.client - [3ffe6de8-1798-464b-9fc1-24f491e866d4] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 09:02:12.364 [main] INFO  com.alibaba.nacos.common.remote.client - [3ffe6de8-1798-464b-9fc1-24f491e866d4] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 09:02:12.365 [main] INFO  com.alibaba.nacos.common.remote.client - [3ffe6de8-1798-464b-9fc1-24f491e866d4] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 09:02:12.365 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 09:02:12.376 [main] INFO  com.alibaba.nacos.common.remote.client - [3ffe6de8-1798-464b-9fc1-24f491e866d4] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749517332370_127.0.0.1_50683
2025-06-10 09:02:12.378 [main] INFO  com.alibaba.nacos.common.remote.client - [3ffe6de8-1798-464b-9fc1-24f491e866d4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 09:02:12.378 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [3ffe6de8-1798-464b-9fc1-24f491e866d4] Notify connected event to listeners.
2025-06-10 09:02:12.378 [main] INFO  com.alibaba.nacos.common.remote.client - [3ffe6de8-1798-464b-9fc1-24f491e866d4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x0000000801025b88
2025-06-10 09:02:12.378 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 09:02:12.379 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-content with instance Instance{instanceId='null', ip='10.20.47.212', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 09:02:12.389 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-content 10.20.47.212:8081 register finished
2025-06-10 09:02:12.551 [main] INFO  top.dl.ContentApplication - Started ContentApplication in 12.929 seconds (process running for 14.204)
2025-06-10 09:02:12.562 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 09:02:12.562 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 09:02:12.563 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 09:02:12.572 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 09:02:12.572 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 09:02:12.573 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 09:02:12.573 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 09:02:12.573 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 09:02:12.936 [nacos-grpc-client-executor-127.0.0.1-531] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Receive server push request, request = NotifySubscriberRequest, requestId = 46
2025-06-10 09:02:12.936 [nacos-grpc-client-executor-127.0.0.1-531] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.47.212#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.47.212","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:02:12.937 [nacos-grpc-client-executor-127.0.0.1-531] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.47.212#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.47.212","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:02:12.950 [nacos-grpc-client-executor-127.0.0.1-531] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Ack server push request, request = NotifySubscriberRequest, requestId = 46
2025-06-10 09:02:13.036 [RMI TCP Connection(3)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 09:02:13.036 [RMI TCP Connection(3)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 09:02:13.038 [RMI TCP Connection(3)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-10 09:02:20.435 [http-nio-8082-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 09:02:20.435 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 09:02:20.437 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-10 09:02:27.666 [http-nio-8083-exec-1] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 402 ms
2025-06-10 09:02:32.983 [http-nio-8083-exec-3] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 09:02:33.008 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 09:02:33.077 [http-nio-8083-exec-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 09:02:33.078 [http-nio-8083-exec-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 09:02:33.084 [http-nio-8083-exec-3] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 09:02:33.085 [http-nio-8083-exec-3] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 09:02:33.310 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=10000)
2025-06-10 09:02:33.313 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-10 09:02:33.615 [nacos-grpc-client-executor-127.0.0.1-220] INFO  com.alibaba.nacos.common.remote.client - [9185f48e-9ce0-4fa8-9188-6d303dd92db4] Receive server push request, request = NotifySubscriberRequest, requestId = 47
2025-06-10 09:02:33.616 [nacos-grpc-client-executor-127.0.0.1-220] INFO  com.alibaba.nacos.common.remote.client - [9185f48e-9ce0-4fa8-9188-6d303dd92db4] Ack server push request, request = NotifySubscriberRequest, requestId = 47
2025-06-10 09:04:01.070 [http-nio-8083-exec-4] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 09:04:01.071 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 09:04:01.160 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=10000)
2025-06-10 09:04:01.160 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-10 09:04:31.989 [http-nio-8083-exec-6] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 09:04:31.990 [http-nio-8083-exec-6] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 09:04:32.070 [http-nio-8083-exec-6] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=10000)
2025-06-10 09:04:32.071 [http-nio-8083-exec-6] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-10 09:05:07.832 [http-nio-8083-exec-8] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 09:05:07.833 [http-nio-8083-exec-8] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 09:05:07.886 [http-nio-8083-exec-8] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=10000)
2025-06-10 09:05:07.886 [http-nio-8083-exec-8] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-10 09:05:28.636 [http-nio-8083-exec-9] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 09:05:28.636 [http-nio-8083-exec-9] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 09:05:28.967 [http-nio-8083-exec-9] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=10000)
2025-06-10 09:05:28.967 [http-nio-8083-exec-9] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-10 09:05:29.298 [http-nio-8083-exec-10] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 09:05:29.299 [http-nio-8083-exec-10] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 09:05:29.563 [http-nio-8083-exec-10] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=10000)
2025-06-10 09:05:29.563 [http-nio-8083-exec-10] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-10 09:05:44.283 [http-nio-8083-exec-1] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 09:05:44.283 [http-nio-8083-exec-1] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 09:05:44.383 [http-nio-8083-exec-1] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=10000)
2025-06-10 09:05:44.383 [http-nio-8083-exec-1] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-10 09:05:44.662 [http-nio-8083-exec-3] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 09:05:44.662 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 09:05:44.728 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=10000)
2025-06-10 09:05:44.728 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-10 09:06:36.515 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 09:06:36.516 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-user with instance: Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 09:06:36.521 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 09:06:36.522 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 09:06:36.522 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 09:06:36.522 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 09:06:36.522 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 09:06:36.522 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 09:06:36.522 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 09:06:36.522 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 09:06:36.522 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 09:06:36.523 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 09:06:36.523 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 09:06:36.523 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 09:06:36.523 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->b36cfad2-39ac-422c-8d80-55f84e22d3a5
2025-06-10 09:06:36.523 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@566b6ea6[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 89]
2025-06-10 09:06:36.523 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 09:06:36.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@6f994f49[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 09:06:36.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749517327998_127.0.0.1_58939
2025-06-10 09:06:36.525 [nacos-grpc-client-executor-127.0.0.1-61] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749517327998_127.0.0.1_58939]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 09:06:36.529 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@3d78965a[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 62]
2025-06-10 09:06:36.529 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->b36cfad2-39ac-422c-8d80-55f84e22d3a5
2025-06-10 09:06:36.529 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 09:06:36.530 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 09:06:36.530 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 09:06:36.535 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 09:06:36.538 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 09:06:36.546 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 09:06:36.546 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 09:06:36.546 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 09:06:36.700 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 09:06:36.700 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-content with instance: Instance{instanceId='null', ip='10.20.47.212', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 09:06:36.705 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->3ffe6de8-1798-464b-9fc1-24f491e866d4
2025-06-10 09:06:36.707 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@2ff5f5b8[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 87]
2025-06-10 09:06:36.708 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 09:06:36.708 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@6d6d7900[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 09:06:36.708 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749517332370_127.0.0.1_50683
2025-06-10 09:06:36.709 [nacos-grpc-client-executor-127.0.0.1-60] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749517332370_127.0.0.1_50683]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 09:06:36.712 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@77813e35[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 61]
2025-06-10 09:06:36.713 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->3ffe6de8-1798-464b-9fc1-24f491e866d4
2025-06-10 09:06:36.713 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 09:06:36.713 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 09:06:36.713 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 09:06:36.718 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-10 09:06:36.720 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-10 09:06:36.728 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-10 09:06:36.729 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-10 09:06:36.729 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-10 09:06:37.095 [nacos-grpc-client-executor-127.0.0.1-266] INFO  com.alibaba.nacos.common.remote.client - [9185f48e-9ce0-4fa8-9188-6d303dd92db4] Receive server push request, request = NotifySubscriberRequest, requestId = 49
2025-06-10 09:06:37.096 [nacos-grpc-client-executor-127.0.0.1-266] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 09:06:37.096 [nacos-grpc-client-executor-127.0.0.1-641] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Receive server push request, request = NotifySubscriberRequest, requestId = 48
2025-06-10 09:06:37.096 [nacos-grpc-client-executor-127.0.0.1-266] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 09:06:37.096 [nacos-grpc-client-executor-127.0.0.1-641] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:06:37.096 [nacos-grpc-client-executor-127.0.0.1-641] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 09:06:37.106 [nacos-grpc-client-executor-127.0.0.1-266] INFO  com.alibaba.nacos.common.remote.client - [9185f48e-9ce0-4fa8-9188-6d303dd92db4] Ack server push request, request = NotifySubscriberRequest, requestId = 49
2025-06-10 09:06:37.106 [nacos-grpc-client-executor-127.0.0.1-641] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Ack server push request, request = NotifySubscriberRequest, requestId = 48
2025-06-10 09:06:37.205 [nacos-grpc-client-executor-127.0.0.1-642] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Receive server push request, request = NotifySubscriberRequest, requestId = 50
2025-06-10 09:06:37.207 [nacos-grpc-client-executor-127.0.0.1-642] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.47.212#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.47.212","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:06:37.207 [nacos-grpc-client-executor-127.0.0.1-642] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 09:06:37.218 [nacos-grpc-client-executor-127.0.0.1-642] INFO  com.alibaba.nacos.common.remote.client - [eb7b885b-548b-4cf8-9c65-477a23bda32d] Ack server push request, request = NotifySubscriberRequest, requestId = 50
2025-06-10 09:06:38.499 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-10 09:06:38.499 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-gateway with instance: Instance{instanceId='null', ip='10.20.47.212', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-10 09:06:38.504 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-10 09:06:38.505 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-10 09:06:38.505 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-10 09:06:38.505 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-10 09:06:38.505 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-10 09:06:38.505 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-10 09:06:38.505 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-10 09:06:38.505 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-10 09:06:38.506 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-10 09:06:38.506 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-10 09:06:38.506 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-10 09:06:38.506 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-10 09:06:38.506 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->eb7b885b-548b-4cf8-9c65-477a23bda32d
2025-06-10 09:06:38.506 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@392fa8f3[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 458]
2025-06-10 09:06:38.506 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-10 09:06:38.506 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1387df35[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-10 09:06:38.506 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749516217776_127.0.0.1_52248
2025-06-10 09:06:38.507 [nacos-grpc-client-executor-127.0.0.1-644] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749516217776_127.0.0.1_52248]Ignore complete event,isRunning:false,isAbandon=false
2025-06-10 09:06:38.510 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@4e0b9e76[Running, pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 684]
2025-06-10 09:06:38.510 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->eb7b885b-548b-4cf8-9c65-477a23bda32d
2025-06-10 09:06:38.511 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-10 09:06:38.511 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-10 09:06:38.511 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-10 09:06:40.287 [com.alibaba.nacos.client.Worker.8] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-06-10 09:07:07.811 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 09:07:07.851 [main] INFO  top.dl.GatewayApplication - Starting GatewayApplication using Java 17.0.6 with PID 7928 (D:\study\shixun\iot-app-backend\iot-cloud-gateway\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 09:07:07.852 [main] INFO  top.dl.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 09:07:07.891 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 09:07:07.892 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 09:07:08.834 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=bb97293c-5f9d-33e2-bb2b-9bc2013db92c
2025-06-10 09:07:10.118 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-06-10 09:07:10.118 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-06-10 09:07:10.118 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-06-10 09:07:10.118 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-06-10 09:07:10.119 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-06-10 09:07:10.119 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-06-10 09:07:10.119 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-06-10 09:07:10.119 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-06-10 09:07:10.119 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-06-10 09:07:10.119 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-06-10 09:07:10.119 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-06-10 09:07:10.119 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-06-10 09:07:10.119 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-06-10 09:07:10.119 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-06-10 09:07:10.460 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 09:07:11.012 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer - Netty started on port 8080 (http)
2025-06-10 09:07:11.371 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 09:07:11.371 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 09:07:11.372 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 09:07:11.379 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 09:07:11.384 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 09:07:11.384 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 09:07:11.455 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 95c0787e-2e11-4563-a890-10f06a53d4bc
2025-06-10 09:07:11.457 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->95c0787e-2e11-4563-a890-10f06a53d4bc
2025-06-10 09:07:11.458 [main] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 09:07:11.458 [main] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 09:07:11.458 [main] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 09:07:11.459 [main] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 09:07:11.459 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 09:07:11.476 [main] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749517631465_127.0.0.1_60474
2025-06-10 09:07:11.476 [main] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 09:07:11.476 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Notify connected event to listeners.
2025-06-10 09:07:11.476 [main] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$438/0x0000000801016b88
2025-06-10 09:07:11.476 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 09:07:11.477 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-gateway with instance Instance{instanceId='null', ip='10.20.47.212', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 09:07:11.488 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-gateway 10.20.47.212:8080 register finished
2025-06-10 09:07:11.546 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-10 09:07:11.546 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-content, group:DEFAULT_GROUP, clusters: 
2025-06-10 09:07:11.546 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 09:07:11.546 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-10 09:07:11.546 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-10 09:07:11.546 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-10 09:07:11.546 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-10 09:07:11.546 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 09:07:11.546 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-10 09:07:11.546 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-content, group:DEFAULT_GROUP, cluster: 
2025-06-10 09:07:11.546 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 09:07:11.547 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-10 09:07:11.547 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-10 09:07:11.547 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-content, group:DEFAULT_GROUP, clusters: 
2025-06-10 09:07:11.547 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 09:07:11.547 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-content, group:DEFAULT_GROUP, cluster: 
2025-06-10 09:07:11.563 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 09:07:11.563 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-gateway -> []
2025-06-10 09:07:11.563 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 09:07:11.563 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 09:07:11.563 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 09:07:11.563 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 09:07:11.563 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 09:07:11.572 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 09:07:11.572 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 09:07:11.572 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 09:07:11.572 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-gateway -> []
2025-06-10 09:07:11.572 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-10 09:07:11.572 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-10 09:07:11.572 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-content -> []
2025-06-10 09:07:11.649 [main] INFO  c.a.c.n.discovery.NacosDiscoveryHeartBeatPublisher - Start nacos heartBeat task scheduler.
2025-06-10 09:07:11.676 [main] INFO  top.dl.GatewayApplication - Started GatewayApplication in 5.494 seconds (process running for 6.393)
2025-06-10 09:07:11.685 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 09:07:11.686 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 09:07:11.690 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 09:07:11.692 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 09:07:11.692 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 09:07:11.694 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 09:07:11.694 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 09:07:11.694 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 09:07:12.070 [nacos-grpc-client-executor-127.0.0.1-7] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Receive server push request, request = NotifySubscriberRequest, requestId = 51
2025-06-10 09:07:12.070 [nacos-grpc-client-executor-127.0.0.1-7] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Ack server push request, request = NotifySubscriberRequest, requestId = 51
2025-06-10 09:07:12.072 [nacos-grpc-client-executor-127.0.0.1-8] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Receive server push request, request = NotifySubscriberRequest, requestId = 52
2025-06-10 09:07:12.073 [nacos-grpc-client-executor-127.0.0.1-8] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Ack server push request, request = NotifySubscriberRequest, requestId = 52
2025-06-10 09:07:12.076 [nacos-grpc-client-executor-127.0.0.1-9] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Receive server push request, request = NotifySubscriberRequest, requestId = 53
2025-06-10 09:07:12.077 [nacos-grpc-client-executor-127.0.0.1-9] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.47.212#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.47.212","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:07:12.077 [nacos-grpc-client-executor-127.0.0.1-9] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.47.212#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.47.212","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:07:12.085 [nacos-grpc-client-executor-127.0.0.1-9] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Ack server push request, request = NotifySubscriberRequest, requestId = 53
2025-06-10 09:07:12.088 [nacos-grpc-client-executor-127.0.0.1-10] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Receive server push request, request = NotifySubscriberRequest, requestId = 54
2025-06-10 09:07:12.089 [nacos-grpc-client-executor-127.0.0.1-10] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Ack server push request, request = NotifySubscriberRequest, requestId = 54
2025-06-10 09:07:22.933 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 09:07:22.989 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 2288 (D:\study\shixun\iot-app-backend\iot-cloud-iot\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 09:07:22.990 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 09:07:23.034 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 09:07:23.034 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 09:07:24.775 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 09:07:24.780 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 09:07:24.827 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-06-10 09:07:25.127 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-10 09:07:25.140 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-10 09:07:25.406 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=3d44f949-1067-3b87-b463-4d9922c6a3d6
2025-06-10 09:07:26.612 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-10 09:07:26.628 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-10 09:07:26.630 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 09:07:26.630 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 09:07:26.744 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 09:07:26.745 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3709 ms
2025-06-10 09:07:27.089 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 09:07:27.907 [redisson-netty-2-8] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 09:07:30.226 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 09:07:30.615 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-10 09:07:30.779 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 09:07:31.491 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@67441705
2025-06-10 09:07:31.493 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 09:07:31.494 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 09:07:31.494 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 09:07:32.994 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 09:07:33.493 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-10 09:07:34.753 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-10 09:07:35.468 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 09:07:35.542 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 21016 (D:\study\shixun\iot-app-backend\iot-cloud-user\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 09:07:35.545 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 09:07:35.608 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 09:07:35.608 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 09:07:36.834 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-10 09:07:36.834 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-10 09:07:36.835 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-10 09:07:36.835 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-10 09:07:36.836 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-10 09:07:36.836 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-10 09:07:36.836 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-10 09:07:36.836 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-10 09:07:36.836 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-10 09:07:37.224 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-10 09:07:37.224 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-10 09:07:37.236 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-10 09:07:37.243 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 09:07:37.244 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 09:07:37.244 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 09:07:37.253 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 09:07:37.259 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 09:07:37.260 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 09:07:37.335 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 0d243fce-3a50-4ee5-8206-7895bf624c3a
2025-06-10 09:07:37.338 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->0d243fce-3a50-4ee5-8206-7895bf624c3a
2025-06-10 09:07:37.338 [main] INFO  com.alibaba.nacos.common.remote.client - [0d243fce-3a50-4ee5-8206-7895bf624c3a] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 09:07:37.338 [main] INFO  com.alibaba.nacos.common.remote.client - [0d243fce-3a50-4ee5-8206-7895bf624c3a] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 09:07:37.340 [main] INFO  com.alibaba.nacos.common.remote.client - [0d243fce-3a50-4ee5-8206-7895bf624c3a] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 09:07:37.341 [main] INFO  com.alibaba.nacos.common.remote.client - [0d243fce-3a50-4ee5-8206-7895bf624c3a] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 09:07:37.341 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 09:07:37.358 [main] INFO  com.alibaba.nacos.common.remote.client - [0d243fce-3a50-4ee5-8206-7895bf624c3a] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749517657348_127.0.0.1_58087
2025-06-10 09:07:37.358 [main] INFO  com.alibaba.nacos.common.remote.client - [0d243fce-3a50-4ee5-8206-7895bf624c3a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 09:07:37.358 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [0d243fce-3a50-4ee5-8206-7895bf624c3a] Notify connected event to listeners.
2025-06-10 09:07:37.358 [main] INFO  com.alibaba.nacos.common.remote.client - [0d243fce-3a50-4ee5-8206-7895bf624c3a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x0000000801025b88
2025-06-10 09:07:37.358 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 09:07:37.361 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.47.212', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 09:07:37.373 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.47.212:8083 register finished
2025-06-10 09:07:37.681 [main] INFO  top.dl.IotApplication - Started IotApplication in 16.588 seconds (process running for 17.629)
2025-06-10 09:07:37.706 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 09:07:37.707 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 09:07:37.710 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 09:07:37.736 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 09:07:37.737 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 09:07:37.742 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 09:07:37.742 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 09:07:37.742 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 09:07:37.798 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 09:07:37.803 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 09:07:37.862 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
2025-06-10 09:07:37.943 [nacos-grpc-client-executor-127.0.0.1-36] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Receive server push request, request = NotifySubscriberRequest, requestId = 55
2025-06-10 09:07:37.943 [nacos-grpc-client-executor-127.0.0.1-36] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:07:37.944 [nacos-grpc-client-executor-127.0.0.1-36] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.47.212#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.47.212","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:07:37.953 [RMI TCP Connection(5)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 09:07:37.953 [RMI TCP Connection(5)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 09:07:37.958 [RMI TCP Connection(5)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-06-10 09:07:37.960 [nacos-grpc-client-executor-127.0.0.1-36] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Ack server push request, request = NotifySubscriberRequest, requestId = 55
2025-06-10 09:07:38.422 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-10 09:07:39.778 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-10 09:07:39.795 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-10 09:07:39.798 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 09:07:39.799 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 09:07:39.933 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 09:07:39.934 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4321 ms
2025-06-10 09:07:40.344 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 09:07:40.895 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 09:07:42.943 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:07:43.026 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:07:43.040 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 09:07:43.074 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:07:43.139 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:07:43.197 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:07:43.271 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:07:43.333 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 09:07:43.582 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-10 09:07:43.633 [main] INFO  top.dl.ContentApplication - Starting ContentApplication using Java 17.0.6 with PID 27248 (D:\study\shixun\iot-app-backend\iot-cloud-content\target\classes started by 橙子 in D:\study\shixun\iot-app-backend)
2025-06-10 09:07:43.635 [main] INFO  top.dl.ContentApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-10 09:07:43.684 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-10 09:07:43.685 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-10 09:07:43.738 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@622e39d
2025-06-10 09:07:43.741 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 09:07:43.742 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 09:07:43.742 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 09:07:44.542 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Found 2 AuthenticationProvider beans, with names [daoAuthenticationProvider, mobileAuthenticationProvider]. Global Authentication Manager will not be configured with AuthenticationProviders. Consider publishing a single AuthenticationProvider bean, or wiring your Providers directly using the DSL.
2025-06-10 09:07:44.544 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-10 09:07:45.202 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-10 09:07:45.205 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-10 09:07:45.246 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-06-10 09:07:45.573 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 09:07:45.612 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4cd02779-edee-334a-90cf-ec937e525064
2025-06-10 09:07:46.571 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-06-10 09:07:46.582 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-06-10 09:07:46.584 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-10 09:07:46.584 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-10 09:07:46.683 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-10 09:07:46.683 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2996 ms
2025-06-10 09:07:46.863 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-06-10 09:07:46.874 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-06-10 09:07:46.882 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 09:07:46.882 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 09:07:46.883 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 09:07:46.888 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 09:07:46.893 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 09:07:46.893 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 09:07:46.962 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 5c63b2eb-dc63-42c3-9512-de1f2d64b528
2025-06-10 09:07:46.964 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->5c63b2eb-dc63-42c3-9512-de1f2d64b528
2025-06-10 09:07:46.965 [main] INFO  com.alibaba.nacos.common.remote.client - [5c63b2eb-dc63-42c3-9512-de1f2d64b528] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 09:07:46.965 [main] INFO  com.alibaba.nacos.common.remote.client - [5c63b2eb-dc63-42c3-9512-de1f2d64b528] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 09:07:46.965 [main] INFO  com.alibaba.nacos.common.remote.client - [5c63b2eb-dc63-42c3-9512-de1f2d64b528] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 09:07:46.966 [main] INFO  com.alibaba.nacos.common.remote.client - [5c63b2eb-dc63-42c3-9512-de1f2d64b528] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 09:07:46.966 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 09:07:46.978 [main] INFO  com.alibaba.nacos.common.remote.client - [5c63b2eb-dc63-42c3-9512-de1f2d64b528] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749517666971_127.0.0.1_54735
2025-06-10 09:07:46.978 [main] INFO  com.alibaba.nacos.common.remote.client - [5c63b2eb-dc63-42c3-9512-de1f2d64b528] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 09:07:46.978 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [5c63b2eb-dc63-42c3-9512-de1f2d64b528] Notify connected event to listeners.
2025-06-10 09:07:46.978 [main] INFO  com.alibaba.nacos.common.remote.client - [5c63b2eb-dc63-42c3-9512-de1f2d64b528] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x000000080102c440
2025-06-10 09:07:46.978 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 09:07:46.980 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-user with instance Instance{instanceId='null', ip='10.20.47.212', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 09:07:46.984 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-10 09:07:46.990 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-user 10.20.47.212:8082 register finished
2025-06-10 09:07:47.174 [main] INFO  top.dl.UserApplication - Started UserApplication in 14.315 seconds (process running for 15.643)
2025-06-10 09:07:47.186 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 09:07:47.186 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 09:07:47.188 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 09:07:47.199 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 09:07:47.199 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 09:07:47.201 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 09:07:47.201 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 09:07:47.201 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 09:07:47.446 [RMI TCP Connection(2)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 09:07:47.446 [RMI TCP Connection(2)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 09:07:47.449 [RMI TCP Connection(2)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-10 09:07:47.507 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 09:07:47.529 [nacos-grpc-client-executor-127.0.0.1-48] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Receive server push request, request = NotifySubscriberRequest, requestId = 56
2025-06-10 09:07:47.529 [nacos-grpc-client-executor-127.0.0.1-48] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:07:47.530 [nacos-grpc-client-executor-127.0.0.1-48] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:07:47.539 [nacos-grpc-client-executor-127.0.0.1-48] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Ack server push request, request = NotifySubscriberRequest, requestId = 56
2025-06-10 09:07:49.762 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 43.142.252.113/43.142.252.113:6379
2025-06-10 09:07:50.037 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-10 09:07:50.457 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@a47a011
2025-06-10 09:07:50.459 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-10 09:07:50.460 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-10 09:07:50.460 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-10 09:07:51.382 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-10 09:07:51.606 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-10 09:07:52.661 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-10 09:07:52.680 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:07:52.789 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:07:52.858 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:07:52.903 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:07:52.958 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:07:53.059 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:07:54.059 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-06-10 09:07:54.075 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-06-10 09:07:54.081 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-10 09:07:54.082 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-10 09:07:54.082 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-10 09:07:54.089 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-10 09:07:54.095 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-10 09:07:54.095 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-10 09:07:54.167 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 392da179-203b-4614-880c-c02891bc0079
2025-06-10 09:07:54.170 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->392da179-203b-4614-880c-c02891bc0079
2025-06-10 09:07:54.170 [main] INFO  com.alibaba.nacos.common.remote.client - [392da179-203b-4614-880c-c02891bc0079] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-10 09:07:54.170 [main] INFO  com.alibaba.nacos.common.remote.client - [392da179-203b-4614-880c-c02891bc0079] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-10 09:07:54.171 [main] INFO  com.alibaba.nacos.common.remote.client - [392da179-203b-4614-880c-c02891bc0079] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-10 09:07:54.171 [main] INFO  com.alibaba.nacos.common.remote.client - [392da179-203b-4614-880c-c02891bc0079] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-10 09:07:54.173 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-10 09:07:54.194 [main] INFO  com.alibaba.nacos.common.remote.client - [392da179-203b-4614-880c-c02891bc0079] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749517674179_127.0.0.1_52745
2025-06-10 09:07:54.194 [main] INFO  com.alibaba.nacos.common.remote.client - [392da179-203b-4614-880c-c02891bc0079] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-10 09:07:54.194 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [392da179-203b-4614-880c-c02891bc0079] Notify connected event to listeners.
2025-06-10 09:07:54.194 [main] INFO  com.alibaba.nacos.common.remote.client - [392da179-203b-4614-880c-c02891bc0079] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x0000000801014800
2025-06-10 09:07:54.194 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-10 09:07:54.196 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-content with instance Instance{instanceId='null', ip='10.20.47.212', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-10 09:07:54.211 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-content 10.20.47.212:8081 register finished
2025-06-10 09:07:54.393 [main] INFO  top.dl.ContentApplication - Started ContentApplication in 12.778 seconds (process running for 13.804)
2025-06-10 09:07:54.405 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-10 09:07:54.405 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-10 09:07:54.406 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-10 09:07:54.417 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 09:07:54.417 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-10 09:07:54.418 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-10 09:07:54.418 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-10 09:07:54.418 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-10 09:07:54.686 [RMI TCP Connection(3)-10.20.47.212] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-10 09:07:54.686 [RMI TCP Connection(3)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-10 09:07:54.688 [RMI TCP Connection(3)-10.20.47.212] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-10 09:07:54.715 [nacos-grpc-client-executor-127.0.0.1-50] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Receive server push request, request = NotifySubscriberRequest, requestId = 57
2025-06-10 09:07:54.715 [nacos-grpc-client-executor-127.0.0.1-50] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.47.212#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.47.212","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:07:54.715 [nacos-grpc-client-executor-127.0.0.1-50] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.47.212#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.47.212","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-10 09:07:54.725 [nacos-grpc-client-executor-127.0.0.1-50] INFO  com.alibaba.nacos.common.remote.client - [95c0787e-2e11-4563-a890-10f06a53d4bc] Ack server push request, request = NotifySubscriberRequest, requestId = 57
2025-06-10 09:07:58.376 [http-nio-8083-exec-1] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 09:07:58.402 [http-nio-8083-exec-1] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 09:07:58.485 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-10 09:07:58.486 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-10 09:07:58.496 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 09:07:58.497 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.47.212#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.47.212","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-10 09:07:58.915 [http-nio-8083-exec-1] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=10000)
2025-06-10 09:07:58.918 [http-nio-8083-exec-1] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-10 09:07:59.074 [nacos-grpc-client-executor-127.0.0.1-17] INFO  com.alibaba.nacos.common.remote.client - [0d243fce-3a50-4ee5-8206-7895bf624c3a] Receive server push request, request = NotifySubscriberRequest, requestId = 58
2025-06-10 09:07:59.075 [nacos-grpc-client-executor-127.0.0.1-17] INFO  com.alibaba.nacos.common.remote.client - [0d243fce-3a50-4ee5-8206-7895bf624c3a] Ack server push request, request = NotifySubscriberRequest, requestId = 58
2025-06-10 09:07:59.151 [http-nio-8083-exec-4] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 09:07:59.151 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 09:07:59.176 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=10000)
2025-06-10 09:07:59.176 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-10 09:08:02.608 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:08:02.640 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:08:02.674 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:08:02.731 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:08:02.802 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:08:02.849 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:08:12.630 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:08:12.717 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:08:12.752 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:08:12.812 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:08:12.870 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:08:12.952 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:08:19.341 [http-nio-8082-exec-8] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDk2OTA0OTksImlhdCI6MTc0OTUxNzY5OSwidXNlcklkIjoxMn0.WgK8Pi8kwk51i00Pu0vroHZk0KDp_t5cQudeHCt8Deg
2025-06-10 09:08:19.341 [http-nio-8082-exec-5] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDk2OTA0OTksImlhdCI6MTc0OTUxNzY5OSwidXNlcklkIjoxMn0.WgK8Pi8kwk51i00Pu0vroHZk0KDp_t5cQudeHCt8Deg
2025-06-10 09:08:19.589 [http-nio-8083-exec-3] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":12}
2025-06-10 09:08:19.589 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - 解析到的 userId: 12
2025-06-10 09:08:19.657 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=12, username=minder, nickname=min, mobile=15906146066, avatar=https://ctynt-oss.oss-cn-hangzhou.aliyuncs.com/20250606/pnS8idkBqQ2X5f5f60aabd349fd53540f59c11d3478e_40920.jpg, gender=0, tenantId=10001)
2025-06-10 09:08:19.657 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10001
2025-06-10 09:08:22.654 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:08:22.716 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:08:22.768 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:08:22.821 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:08:22.863 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:08:22.903 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:08:32.686 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:08:32.746 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:08:32.887 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:08:32.911 [http-nio-8083-exec-2] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":12}
2025-06-10 09:08:32.911 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - 解析到的 userId: 12
2025-06-10 09:08:32.972 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:08:33.064 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=12, username=minder, nickname=min, mobile=15906146066, avatar=https://ctynt-oss.oss-cn-hangzhou.aliyuncs.com/20250606/pnS8idkBqQ2X5f5f60aabd349fd53540f59c11d3478e_40920.jpg, gender=0, tenantId=10001)
2025-06-10 09:08:33.064 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10001
2025-06-10 09:08:33.078 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:08:33.148 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:08:39.102 [http-nio-8083-exec-5] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":12}
2025-06-10 09:08:39.102 [http-nio-8083-exec-5] INFO  top.dl.controller.DeviceController - 解析到的 userId: 12
2025-06-10 09:08:39.297 [http-nio-8083-exec-5] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=12, username=minder, nickname=min, mobile=15906146066, avatar=https://ctynt-oss.oss-cn-hangzhou.aliyuncs.com/20250606/pnS8idkBqQ2X5f5f60aabd349fd53540f59c11d3478e_40920.jpg, gender=0, tenantId=10001)
2025-06-10 09:08:39.297 [http-nio-8083-exec-5] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10001
2025-06-10 09:08:42.672 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:08:42.738 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:08:42.858 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:08:42.922 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:08:43.030 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:08:43.117 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:08:52.701 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:08:52.736 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:08:52.774 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:08:52.812 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:08:52.865 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:08:52.933 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:09:02.680 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:09:02.738 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:09:02.776 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:09:02.876 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:09:02.979 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:09:03.048 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:09:03.565 [http-nio-8082-exec-4] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDk2OTA1NDMsImlhdCI6MTc0OTUxNzc0MywidXNlcklkIjo5fQ.wqknibxXsyPsPSeOp_7KkR_uusjsDrzsGCYYGAoLA8Y
2025-06-10 09:09:03.565 [http-nio-8082-exec-3] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDk2OTA1NDMsImlhdCI6MTc0OTUxNzc0MywidXNlcklkIjo5fQ.wqknibxXsyPsPSeOp_7KkR_uusjsDrzsGCYYGAoLA8Y
2025-06-10 09:09:03.762 [http-nio-8083-exec-6] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":9}
2025-06-10 09:09:03.762 [http-nio-8083-exec-6] INFO  top.dl.controller.DeviceController - 解析到的 userId: 9
2025-06-10 09:09:03.823 [http-nio-8083-exec-6] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=9, username=cry, nickname=oranges, mobile=15380938171, avatar=https://hyzhu-oss.oss-cn-hangzhou.aliyuncs.com/20250606/Uht29lqCotBl9ae21f87abe4be70434a3d05d2ad34e2_3365.png, gender=2, tenantId=10000)
2025-06-10 09:09:03.823 [http-nio-8083-exec-6] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-10 09:09:12.648 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:09:12.679 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:09:12.708 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:09:12.744 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:09:12.834 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:09:12.891 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:09:22.612 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:09:22.655 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:09:22.720 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:09:22.770 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:09:22.805 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:09:22.996 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:09:32.705 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:09:32.806 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:09:32.878 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:09:32.947 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:09:33.065 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:09:33.151 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:09:42.663 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:09:42.705 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:09:42.746 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:09:42.801 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:09:42.877 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:09:42.916 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:09:52.679 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:09:52.766 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:09:52.847 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:09:52.899 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:09:52.960 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:09:53.024 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:10:02.812 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:10:02.889 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:10:03.024 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:10:03.152 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:10:03.221 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:10:03.281 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
2025-06-10 09:10:12.623 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_16 -> true,null,null
2025-06-10 09:10:12.695 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,null,null
2025-06-10 09:10:12.778 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-10 09:10:12.844 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_5 -> true,0.0,0.0
2025-06-10 09:10:12.991 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> true,null,null
2025-06-10 09:10:13.072 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_17 -> true,null,null
