2025-06-05 14:56:51.019 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-05 14:56:51.080 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 3884 (E:\桌面\iot-cloud-group2\iot-cloud-iot\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-05 14:56:51.082 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 14:56:51.128 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:56:51.128 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:56:52.707 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-05 14:56:52.711 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-05 14:56:52.752 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-06-05 14:56:52.933 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-05 14:56:52.948 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-05 14:56:53.147 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=e9d53df2-7b9a-3446-a788-b94d054d7b7a
2025-06-05 14:56:54.491 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-05 14:56:54.495 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-05 14:56:54.504 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-05 14:56:54.526 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-05 14:56:54.529 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-05 14:56:54.529 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-05 14:56:54.653 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-05 14:56:54.654 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3523 ms
2025-06-05 14:56:55.000 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-05 14:56:55.069 [main] INFO  top.dl.GatewayApplication - Starting GatewayApplication using Java 17.0.6 with PID 15724 (E:\桌面\iot-cloud-group2\iot-cloud-gateway\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-05 14:56:55.071 [main] INFO  top.dl.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 14:56:55.091 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-05 14:56:55.123 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:56:55.124 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:56:55.929 [redisson-netty-2-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-05 14:56:56.013 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-05 14:56:56.413 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-05 14:56:56.507 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-05 14:56:56.597 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=bb97293c-5f9d-33e2-bb2b-9bc2013db92c
2025-06-05 14:56:56.789 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@60f6d689
2025-06-05 14:56:56.790 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-05 14:56:56.792 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-05 14:56:56.792 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-05 14:56:58.694 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-05 14:57:00.218 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-06-05 14:57:00.218 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-06-05 14:57:00.219 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-06-05 14:57:00.219 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-06-05 14:57:00.219 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-06-05 14:57:00.219 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-06-05 14:57:00.219 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-06-05 14:57:00.219 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-06-05 14:57:00.219 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-06-05 14:57:00.219 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-06-05 14:57:00.219 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-06-05 14:57:00.219 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-06-05 14:57:00.220 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-06-05 14:57:00.220 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-06-05 14:57:00.533 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-05 14:57:00.984 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-05 14:57:01.084 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-05 14:57:01.157 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 36856 (E:\桌面\iot-cloud-group2\iot-cloud-user\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-05 14:57:01.158 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 14:57:01.215 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:57:01.216 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:57:02.788 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-05 14:57:02.788 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-05 14:57:02.788 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-05 14:57:02.788 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-05 14:57:02.789 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-05 14:57:02.789 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-05 14:57:02.789 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-05 14:57:02.789 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-05 14:57:02.789 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-05 14:57:02.806 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-05 14:57:02.811 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-05 14:57:02.873 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 0 Redis repository interfaces.
2025-06-05 14:57:03.187 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-05 14:57:03.188 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-05 14:57:03.200 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-05 14:57:03.207 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-05 14:57:03.207 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-05 14:57:03.207 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-05 14:57:03.213 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-05 14:57:03.214 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-05 14:57:03.219 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-05 14:57:03.219 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-05 14:57:03.261 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-05 14:57:03.303 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 9b52e78a-cf2a-4b55-ab1f-94b303a37bf6
2025-06-05 14:57:03.307 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->9b52e78a-cf2a-4b55-ab1f-94b303a37bf6
2025-06-05 14:57:03.307 [main] INFO  com.alibaba.nacos.common.remote.client - [9b52e78a-cf2a-4b55-ab1f-94b303a37bf6] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-05 14:57:03.307 [main] INFO  com.alibaba.nacos.common.remote.client - [9b52e78a-cf2a-4b55-ab1f-94b303a37bf6] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-05 14:57:03.307 [main] INFO  com.alibaba.nacos.common.remote.client - [9b52e78a-cf2a-4b55-ab1f-94b303a37bf6] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-05 14:57:03.308 [main] INFO  com.alibaba.nacos.common.remote.client - [9b52e78a-cf2a-4b55-ab1f-94b303a37bf6] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-05 14:57:03.308 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-05 14:57:03.322 [main] INFO  com.alibaba.nacos.common.remote.client - [9b52e78a-cf2a-4b55-ab1f-94b303a37bf6] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749106623314_127.0.0.1_53733
2025-06-05 14:57:03.322 [main] INFO  com.alibaba.nacos.common.remote.client - [9b52e78a-cf2a-4b55-ab1f-94b303a37bf6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-05 14:57:03.322 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [9b52e78a-cf2a-4b55-ab1f-94b303a37bf6] Notify connected event to listeners.
2025-06-05 14:57:03.322 [main] INFO  com.alibaba.nacos.common.remote.client - [9b52e78a-cf2a-4b55-ab1f-94b303a37bf6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x00000008010276e8
2025-06-05 14:57:03.322 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-05 14:57:03.324 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-05 14:57:03.336 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.221.62:8083 register finished
2025-06-05 14:57:03.750 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-05 14:57:03.825 [main] INFO  top.dl.ContentApplication - Starting ContentApplication using Java 17.0.6 with PID 31288 (E:\桌面\iot-cloud-group2\iot-cloud-content\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-05 14:57:03.827 [main] INFO  top.dl.ContentApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 14:57:03.888 [main] INFO  top.dl.IotApplication - Started IotApplication in 15.882 seconds (process running for 17.025)
2025-06-05 14:57:03.895 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:57:03.896 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:57:03.902 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-05 14:57:03.902 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-05 14:57:03.906 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-05 14:57:03.918 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 14:57:03.920 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-05 14:57:03.922 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-05 14:57:03.922 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 14:57:03.922 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-05 14:57:04.569 [RMI TCP Connection(20)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-05 14:57:04.569 [RMI TCP Connection(20)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-05 14:57:04.573 [RMI TCP Connection(20)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-06-05 14:57:04.790 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-05 14:57:04.798 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-05 14:57:04.810 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-05 14:57:04.844 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-05 14:57:04.849 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-05 14:57:04.850 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-05 14:57:04.996 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-05 14:57:04.998 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3779 ms
2025-06-05 14:57:05.477 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-05 14:57:06.431 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-05 14:57:06.537 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-05 14:57:06.648 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-05 14:57:06.653 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-05 14:57:06.720 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 0 Redis repository interfaces.
2025-06-05 14:57:06.981 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-05 14:57:07.261 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=52a84b74-3ae4-361a-a66c-ae5f3a600006
2025-06-05 14:57:07.296 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@7843b65e
2025-06-05 14:57:07.299 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-05 14:57:07.300 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-05 14:57:07.300 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-05 14:57:08.508 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-06-05 14:57:08.512 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-05 14:57:08.518 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-05 14:57:08.522 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Found 2 AuthenticationProvider beans, with names [daoAuthenticationProvider, mobileAuthenticationProvider]. Global Authentication Manager will not be configured with AuthenticationProviders. Consider publishing a single AuthenticationProvider bean, or wiring your Providers directly using the DSL.
2025-06-05 14:57:08.524 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-05 14:57:08.541 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-06-05 14:57:08.545 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-05 14:57:08.545 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-05 14:57:08.634 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-05 14:57:08.634 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4735 ms
2025-06-05 14:57:08.972 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-05 14:57:09.546 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-05 14:57:09.613 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-05 14:57:09.962 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-05 14:57:10.224 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@cfb462
2025-06-05 14:57:10.226 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-05 14:57:10.227 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-05 14:57:10.228 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-05 14:57:10.238 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-05 14:57:11.479 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-05 14:57:11.687 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-05 14:57:11.930 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-06-05 14:57:11.942 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-06-05 14:57:11.949 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-05 14:57:11.949 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-05 14:57:11.949 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-05 14:57:11.957 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-05 14:57:11.963 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-05 14:57:11.963 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-05 14:57:12.041 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of b614725e-6e13-40ca-87b0-4e2742cc87a2
2025-06-05 14:57:12.045 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->b614725e-6e13-40ca-87b0-4e2742cc87a2
2025-06-05 14:57:12.046 [main] INFO  com.alibaba.nacos.common.remote.client - [b614725e-6e13-40ca-87b0-4e2742cc87a2] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-05 14:57:12.046 [main] INFO  com.alibaba.nacos.common.remote.client - [b614725e-6e13-40ca-87b0-4e2742cc87a2] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-05 14:57:12.046 [main] INFO  com.alibaba.nacos.common.remote.client - [b614725e-6e13-40ca-87b0-4e2742cc87a2] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-05 14:57:12.047 [main] INFO  com.alibaba.nacos.common.remote.client - [b614725e-6e13-40ca-87b0-4e2742cc87a2] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-05 14:57:12.047 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-05 14:57:12.060 [main] INFO  com.alibaba.nacos.common.remote.client - [b614725e-6e13-40ca-87b0-4e2742cc87a2] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749106632051_127.0.0.1_53820
2025-06-05 14:57:12.060 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [b614725e-6e13-40ca-87b0-4e2742cc87a2] Notify connected event to listeners.
2025-06-05 14:57:12.060 [main] INFO  com.alibaba.nacos.common.remote.client - [b614725e-6e13-40ca-87b0-4e2742cc87a2] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-05 14:57:12.060 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-05 14:57:12.060 [main] INFO  com.alibaba.nacos.common.remote.client - [b614725e-6e13-40ca-87b0-4e2742cc87a2] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000800ff4800
2025-06-05 14:57:12.062 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-user with instance Instance{instanceId='null', ip='10.20.221.62', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-05 14:57:12.075 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-user 10.20.221.62:8082 register finished
2025-06-05 14:57:12.571 [main] INFO  top.dl.UserApplication - Started UserApplication in 15.762 seconds (process running for 17.39)
2025-06-05 14:57:12.582 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-05 14:57:12.582 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-05 14:57:12.585 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-05 14:57:12.597 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 14:57:12.598 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-05 14:57:12.599 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-05 14:57:12.600 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 14:57:12.600 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-05 14:57:12.761 [RMI TCP Connection(15)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-05 14:57:12.762 [RMI TCP Connection(15)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-05 14:57:12.763 [RMI TCP Connection(15)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-05 14:57:13.395 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-05 14:57:15.040 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-06-05 14:57:15.053 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-05 14:57:15.056 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-05 14:57:15.061 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-05 14:57:15.062 [main] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-05 14:57:15.062 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-05 14:57:15.110 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-05 14:57:19.322 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-05 14:57:19.365 [main] INFO  top.dl.GatewayApplication - Starting GatewayApplication using Java 17.0.6 with PID 24408 (E:\桌面\iot-cloud-group2\iot-cloud-gateway\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-05 14:57:19.366 [main] INFO  top.dl.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 14:57:19.407 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:57:19.407 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:57:20.351 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=bb97293c-5f9d-33e2-bb2b-9bc2013db92c
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-06-05 14:57:22.862 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-06-05 14:57:23.121 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-05 14:57:25.727 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-05 14:57:42.624 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-05 14:57:42.624 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-user with instance: Instance{instanceId='null', ip='10.20.221.62', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-05 14:57:42.631 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-05 14:57:42.633 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-05 14:57:42.633 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-05 14:57:42.633 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-05 14:57:42.634 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-05 14:57:42.634 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-05 14:57:42.634 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-05 14:57:42.634 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-05 14:57:42.634 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-05 14:57:42.634 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-05 14:57:42.634 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-05 14:57:42.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-05 14:57:42.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->b614725e-6e13-40ca-87b0-4e2742cc87a2
2025-06-05 14:57:42.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@3ac19b83[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 10]
2025-06-05 14:57:42.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-05 14:57:42.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7604efe2[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-05 14:57:42.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749106632051_127.0.0.1_53820
2025-06-05 14:57:42.643 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@6230aac3[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 15]
2025-06-05 14:57:42.643 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->b614725e-6e13-40ca-87b0-4e2742cc87a2
2025-06-05 14:57:42.643 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-05 14:57:42.644 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-05 14:57:42.644 [nacos-grpc-client-executor-127.0.0.1-15] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749106632051_127.0.0.1_53820]Ignore complete event,isRunning:false,isAbandon=false
2025-06-05 14:57:42.644 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-05 14:57:42.649 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-05 14:57:42.651 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-05 14:57:42.659 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-05 14:57:42.660 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-05 14:57:42.660 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-05 14:57:47.668 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-05 14:57:47.668 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-05 14:57:47.668 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-05 14:57:47.668 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-05 14:57:47.668 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-05 14:57:47.668 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-05 14:57:47.669 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-05 14:57:47.669 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-05 14:57:47.669 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-05 14:57:47.669 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-05 14:57:47.672 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-05 14:57:47.673 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-05 14:57:47.677 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->9b52e78a-cf2a-4b55-ab1f-94b303a37bf6
2025-06-05 14:57:47.678 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@221e9a87[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 14]
2025-06-05 14:57:47.679 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-05 14:57:47.679 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@18b027d7[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-05 14:57:47.679 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749106623314_127.0.0.1_53733
2025-06-05 14:57:47.679 [nacos-grpc-client-executor-127.0.0.1-18] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749106623314_127.0.0.1_53733]Ignore complete event,isRunning:false,isAbandon=false
2025-06-05 14:57:47.683 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@6f7bc850[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 19]
2025-06-05 14:57:47.683 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->9b52e78a-cf2a-4b55-ab1f-94b303a37bf6
2025-06-05 14:57:47.683 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-05 14:57:47.683 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-05 14:57:47.684 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-05 14:57:47.686 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-05 14:57:47.688 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-05 14:57:47.693 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-05 14:57:47.693 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-05 14:57:47.693 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-05 14:58:57.369 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-05 14:58:57.409 [main] INFO  top.dl.GatewayApplication - Starting GatewayApplication using Java 17.0.6 with PID 27488 (E:\桌面\iot-cloud-group2\iot-cloud-gateway\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-05 14:58:57.410 [main] INFO  top.dl.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 14:58:57.446 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:58:57.447 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:58:58.383 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=bb97293c-5f9d-33e2-bb2b-9bc2013db92c
2025-06-05 14:59:00.787 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-06-05 14:59:00.787 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-06-05 14:59:00.788 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-06-05 14:59:00.788 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-06-05 14:59:00.788 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-06-05 14:59:00.788 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-06-05 14:59:00.788 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-06-05 14:59:00.788 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-06-05 14:59:00.788 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-06-05 14:59:00.788 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-06-05 14:59:00.788 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-06-05 14:59:00.788 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-06-05 14:59:00.788 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-06-05 14:59:00.788 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-06-05 14:59:01.025 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-05 14:59:01.516 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer - Netty started on port 8080 (http)
2025-06-05 14:59:02.352 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-05 14:59:02.352 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-05 14:59:02.353 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-05 14:59:02.357 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-05 14:59:02.361 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-05 14:59:02.361 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-05 14:59:02.435 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 373a018e-85e7-4d7d-b503-75615148553b
2025-06-05 14:59:02.437 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->373a018e-85e7-4d7d-b503-75615148553b
2025-06-05 14:59:02.437 [main] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-05 14:59:02.437 [main] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-05 14:59:02.437 [main] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-05 14:59:02.438 [main] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-05 14:59:02.438 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-05 14:59:02.445 [main] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749106742441_127.0.0.1_53932
2025-06-05 14:59:02.445 [main] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-05 14:59:02.445 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Notify connected event to listeners.
2025-06-05 14:59:02.445 [main] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$438/0x0000000800ff7a80
2025-06-05 14:59:02.445 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-05 14:59:02.447 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-gateway with instance Instance{instanceId='null', ip='10.20.221.62', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-05 14:59:02.454 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-gateway 10.20.221.62:8080 register finished
2025-06-05 14:59:02.507 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-05 14:59:02.507 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-05 14:59:02.507 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-05 14:59:02.507 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-05 14:59:02.507 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-05 14:59:02.507 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-05 14:59:02.507 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-05 14:59:02.507 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-05 14:59:02.507 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-05 14:59:02.507 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-05 14:59:02.507 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-05 14:59:02.507 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-05 14:59:02.519 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-05 14:59:02.519 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-05 14:59:02.519 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-05 14:59:02.520 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.221.62#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.221.62","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 14:59:02.528 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-05 14:59:02.528 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.221.62#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.221.62","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 14:59:02.528 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-05 14:59:02.528 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-05 14:59:02.576 [main] INFO  c.a.c.n.discovery.NacosDiscoveryHeartBeatPublisher - Start nacos heartBeat task scheduler.
2025-06-05 14:59:02.598 [main] INFO  top.dl.GatewayApplication - Started GatewayApplication in 7.672 seconds (process running for 8.633)
2025-06-05 14:59:02.605 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-05 14:59:02.605 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-05 14:59:02.607 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-05 14:59:02.608 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 14:59:02.608 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-05 14:59:02.610 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-05 14:59:02.610 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 14:59:02.611 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-05 14:59:03.010 [nacos-grpc-client-executor-127.0.0.1-19] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 65
2025-06-05 14:59:03.010 [nacos-grpc-client-executor-127.0.0.1-19] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 65
2025-06-05 14:59:03.113 [nacos-grpc-client-executor-127.0.0.1-20] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 67
2025-06-05 14:59:03.113 [nacos-grpc-client-executor-127.0.0.1-20] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 67
2025-06-05 14:59:03.115 [nacos-grpc-client-executor-127.0.0.1-21] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 66
2025-06-05 14:59:03.115 [nacos-grpc-client-executor-127.0.0.1-21] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 66
2025-06-05 14:59:12.668 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-05 14:59:12.734 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 26536 (E:\桌面\iot-cloud-group2\iot-cloud-user\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-05 14:59:12.736 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 14:59:12.793 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:59:12.794 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:59:14.593 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-05 14:59:14.596 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-05 14:59:14.645 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-06-05 14:59:14.981 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-05 14:59:15.960 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-05 14:59:15.962 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-05 14:59:15.968 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-05 14:59:15.977 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-05 14:59:15.979 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-05 14:59:15.979 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-05 14:59:16.068 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-05 14:59:16.068 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3272 ms
2025-06-05 14:59:16.356 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-05 14:59:16.875 [redisson-netty-2-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-05 14:59:16.926 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-05 14:59:17.241 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-05 14:59:17.540 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@6ade4ac6
2025-06-05 14:59:17.541 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-05 14:59:17.542 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-05 14:59:17.542 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-05 14:59:18.620 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Found 2 AuthenticationProvider beans, with names [daoAuthenticationProvider, mobileAuthenticationProvider]. Global Authentication Manager will not be configured with AuthenticationProviders. Consider publishing a single AuthenticationProvider bean, or wiring your Providers directly using the DSL.
2025-06-05 14:59:18.622 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-05 14:59:20.124 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-05 14:59:21.684 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-06-05 14:59:21.695 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-06-05 14:59:21.703 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-05 14:59:21.703 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-05 14:59:21.703 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-05 14:59:21.710 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-05 14:59:21.715 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-05 14:59:21.715 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-05 14:59:21.791 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 6b787fa8-cae4-4862-bddc-3e5ec3f87458
2025-06-05 14:59:21.793 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->6b787fa8-cae4-4862-bddc-3e5ec3f87458
2025-06-05 14:59:21.793 [main] INFO  com.alibaba.nacos.common.remote.client - [6b787fa8-cae4-4862-bddc-3e5ec3f87458] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-05 14:59:21.794 [main] INFO  com.alibaba.nacos.common.remote.client - [6b787fa8-cae4-4862-bddc-3e5ec3f87458] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-05 14:59:21.794 [main] INFO  com.alibaba.nacos.common.remote.client - [6b787fa8-cae4-4862-bddc-3e5ec3f87458] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-05 14:59:21.795 [main] INFO  com.alibaba.nacos.common.remote.client - [6b787fa8-cae4-4862-bddc-3e5ec3f87458] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-05 14:59:21.795 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-05 14:59:21.806 [main] INFO  com.alibaba.nacos.common.remote.client - [6b787fa8-cae4-4862-bddc-3e5ec3f87458] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749106761800_127.0.0.1_53986
2025-06-05 14:59:21.806 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [6b787fa8-cae4-4862-bddc-3e5ec3f87458] Notify connected event to listeners.
2025-06-05 14:59:21.806 [main] INFO  com.alibaba.nacos.common.remote.client - [6b787fa8-cae4-4862-bddc-3e5ec3f87458] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-05 14:59:21.806 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-05 14:59:21.807 [main] INFO  com.alibaba.nacos.common.remote.client - [6b787fa8-cae4-4862-bddc-3e5ec3f87458] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801024c40
2025-06-05 14:59:21.808 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-user with instance Instance{instanceId='null', ip='10.20.221.62', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-05 14:59:21.817 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-user 10.20.221.62:8082 register finished
2025-06-05 14:59:22.253 [main] INFO  top.dl.UserApplication - Started UserApplication in 12.503 seconds (process running for 13.776)
2025-06-05 14:59:22.265 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-05 14:59:22.265 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-05 14:59:22.267 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-05 14:59:22.279 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 14:59:22.279 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-05 14:59:22.281 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-05 14:59:22.281 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 14:59:22.281 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-05 14:59:22.397 [nacos-grpc-client-executor-127.0.0.1-34] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 68
2025-06-05 14:59:22.397 [nacos-grpc-client-executor-127.0.0.1-34] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.221.62#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.221.62","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 14:59:22.398 [nacos-grpc-client-executor-127.0.0.1-34] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.221.62#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.221.62","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 14:59:22.399 [nacos-grpc-client-executor-127.0.0.1-34] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 68
2025-06-05 14:59:22.587 [RMI TCP Connection(11)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-05 14:59:22.587 [RMI TCP Connection(11)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-05 14:59:22.588 [RMI TCP Connection(11)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-05 14:59:30.183 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-05 14:59:30.230 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 32592 (E:\桌面\iot-cloud-group2\iot-cloud-iot\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-05 14:59:30.230 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 14:59:30.268 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:59:30.268 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-05 14:59:31.509 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-05 14:59:31.512 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-05 14:59:31.553 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-06-05 14:59:31.714 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-05 14:59:31.725 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-05 14:59:31.888 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=e9d53df2-7b9a-3446-a788-b94d054d7b7a
2025-06-05 14:59:32.867 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-05 14:59:32.869 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-05 14:59:32.874 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-05 14:59:32.882 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-05 14:59:32.883 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-05 14:59:32.884 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-05 14:59:32.951 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-05 14:59:32.951 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2680 ms
2025-06-05 14:59:33.217 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-05 14:59:33.704 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-05 14:59:33.753 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-05 14:59:34.001 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-05 14:59:34.062 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-05 14:59:34.297 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f959640
2025-06-05 14:59:34.299 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-05 14:59:34.300 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-05 14:59:34.300 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-05 14:59:35.470 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-05 14:59:36.881 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-05 14:59:38.362 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-05 14:59:38.362 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-05 14:59:38.362 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-05 14:59:38.362 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-05 14:59:38.362 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-05 14:59:38.362 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-05 14:59:38.363 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-05 14:59:38.363 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-05 14:59:38.363 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-05 14:59:38.770 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-05 14:59:38.770 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-05 14:59:38.782 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-05 14:59:38.789 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-05 14:59:38.789 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-05 14:59:38.789 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-05 14:59:38.794 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-05 14:59:38.798 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-05 14:59:38.799 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-05 14:59:38.873 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 760e7640-0c07-4bfb-9947-11f6d91fe679
2025-06-05 14:59:38.875 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->760e7640-0c07-4bfb-9947-11f6d91fe679
2025-06-05 14:59:38.876 [main] INFO  com.alibaba.nacos.common.remote.client - [760e7640-0c07-4bfb-9947-11f6d91fe679] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-05 14:59:38.876 [main] INFO  com.alibaba.nacos.common.remote.client - [760e7640-0c07-4bfb-9947-11f6d91fe679] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-05 14:59:38.876 [main] INFO  com.alibaba.nacos.common.remote.client - [760e7640-0c07-4bfb-9947-11f6d91fe679] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-05 14:59:38.877 [main] INFO  com.alibaba.nacos.common.remote.client - [760e7640-0c07-4bfb-9947-11f6d91fe679] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-05 14:59:38.877 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-05 14:59:38.885 [main] INFO  com.alibaba.nacos.common.remote.client - [760e7640-0c07-4bfb-9947-11f6d91fe679] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749106778880_127.0.0.1_54030
2025-06-05 14:59:38.886 [main] INFO  com.alibaba.nacos.common.remote.client - [760e7640-0c07-4bfb-9947-11f6d91fe679] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-05 14:59:38.886 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [760e7640-0c07-4bfb-9947-11f6d91fe679] Notify connected event to listeners.
2025-06-05 14:59:38.886 [main] INFO  com.alibaba.nacos.common.remote.client - [760e7640-0c07-4bfb-9947-11f6d91fe679] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x00000008010070a0
2025-06-05 14:59:38.886 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-05 14:59:38.887 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-05 14:59:38.895 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.221.62:8083 register finished
2025-06-05 14:59:39.345 [main] INFO  top.dl.IotApplication - Started IotApplication in 11.761 seconds (process running for 12.821)
2025-06-05 14:59:39.355 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-05 14:59:39.356 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-05 14:59:39.358 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-05 14:59:39.367 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 14:59:39.367 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-05 14:59:39.369 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-05 14:59:39.369 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 14:59:39.369 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-05 14:59:39.428 [nacos-grpc-client-executor-127.0.0.1-46] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 69
2025-06-05 14:59:39.429 [nacos-grpc-client-executor-127.0.0.1-46] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 14:59:39.429 [nacos-grpc-client-executor-127.0.0.1-46] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 14:59:39.431 [nacos-grpc-client-executor-127.0.0.1-46] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 69
2025-06-05 14:59:39.897 [RMI TCP Connection(5)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-05 14:59:39.897 [RMI TCP Connection(5)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-05 14:59:39.898 [RMI TCP Connection(5)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-05 15:00:19.107 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-05 15:00:19.107 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-05 15:00:19.108 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-05 15:00:19.108 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-05 15:00:19.108 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-05 15:00:19.108 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-05 15:00:19.108 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-05 15:00:19.108 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-05 15:00:19.108 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-05 15:00:19.108 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-05 15:00:19.112 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-05 15:00:19.113 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-05 15:00:19.119 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-05 15:00:19.120 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-05 15:00:19.120 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-05 15:00:19.121 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-05 15:00:19.121 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-05 15:00:19.121 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-05 15:00:19.121 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-05 15:00:19.121 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-05 15:00:19.121 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-05 15:00:19.121 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-05 15:00:19.121 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-05 15:00:19.121 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-05 15:00:19.121 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->760e7640-0c07-4bfb-9947-11f6d91fe679
2025-06-05 15:00:19.121 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@277fbb9a[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 13]
2025-06-05 15:00:19.121 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-05 15:00:19.122 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@52bfb203[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-05 15:00:19.122 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749106778880_127.0.0.1_54030
2025-06-05 15:00:19.123 [nacos-grpc-client-executor-127.0.0.1-17] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749106778880_127.0.0.1_54030]Ignore complete event,isRunning:false,isAbandon=false
2025-06-05 15:00:19.126 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@7eff636a[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 18]
2025-06-05 15:00:19.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->760e7640-0c07-4bfb-9947-11f6d91fe679
2025-06-05 15:00:19.127 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-05 15:00:19.127 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-05 15:00:19.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-05 15:00:19.130 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-05 15:00:19.133 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-05 15:00:19.137 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-05 15:00:19.137 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-05 15:00:19.137 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-05 15:00:19.708 [nacos-grpc-client-executor-127.0.0.1-62] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 70
2025-06-05 15:00:19.709 [nacos-grpc-client-executor-127.0.0.1-62] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 15:00:19.709 [nacos-grpc-client-executor-127.0.0.1-62] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-05 15:00:19.712 [nacos-grpc-client-executor-127.0.0.1-62] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 70
2025-06-05 15:00:27.456 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-05 15:00:27.513 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 36732 (E:\桌面\iot-cloud-group2\iot-cloud-iot\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-05 15:00:27.515 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:00:27.565 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-05 15:00:27.565 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-05 15:00:29.073 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-05 15:00:29.076 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-05 15:00:29.119 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2025-06-05 15:00:29.290 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-05 15:00:29.301 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-05 15:00:29.510 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=3cd950dc-f59b-3f2d-be5a-c19081397ed3
2025-06-05 15:00:30.611 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-05 15:00:30.615 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-05 15:00:30.619 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-05 15:00:30.629 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-05 15:00:30.631 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-05 15:00:30.632 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-05 15:00:30.710 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-05 15:00:30.711 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3143 ms
2025-06-05 15:00:31.022 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-05 15:00:31.565 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-05 15:00:31.622 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-05 15:00:31.918 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-05 15:00:32.008 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-05 15:00:32.278 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d160056
2025-06-05 15:00:32.281 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-05 15:00:32.281 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-05 15:00:32.282 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-05 15:00:33.800 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-05 15:00:35.346 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-05 15:00:36.934 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-05 15:00:36.934 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-05 15:00:36.934 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-05 15:00:36.934 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-05 15:00:36.935 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-05 15:00:36.935 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-05 15:00:36.935 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-05 15:00:36.935 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-05 15:00:36.935 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-05 15:00:37.307 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-05 15:00:37.307 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-05 15:00:37.321 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-05 15:00:37.328 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-05 15:00:37.328 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-05 15:00:37.328 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-05 15:00:37.334 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-05 15:00:37.337 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-05 15:00:37.337 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-05 15:00:37.409 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of be19af6b-69cc-447d-95f8-019b56e99c58
2025-06-05 15:00:37.412 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->be19af6b-69cc-447d-95f8-019b56e99c58
2025-06-05 15:00:37.412 [main] INFO  com.alibaba.nacos.common.remote.client - [be19af6b-69cc-447d-95f8-019b56e99c58] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-05 15:00:37.412 [main] INFO  com.alibaba.nacos.common.remote.client - [be19af6b-69cc-447d-95f8-019b56e99c58] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-05 15:00:37.412 [main] INFO  com.alibaba.nacos.common.remote.client - [be19af6b-69cc-447d-95f8-019b56e99c58] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-05 15:00:37.413 [main] INFO  com.alibaba.nacos.common.remote.client - [be19af6b-69cc-447d-95f8-019b56e99c58] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-05 15:00:37.414 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-05 15:00:37.424 [main] INFO  com.alibaba.nacos.common.remote.client - [be19af6b-69cc-447d-95f8-019b56e99c58] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749106837417_127.0.0.1_53728
2025-06-05 15:00:37.424 [main] INFO  com.alibaba.nacos.common.remote.client - [be19af6b-69cc-447d-95f8-019b56e99c58] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-05 15:00:37.424 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [be19af6b-69cc-447d-95f8-019b56e99c58] Notify connected event to listeners.
2025-06-05 15:00:37.424 [main] INFO  com.alibaba.nacos.common.remote.client - [be19af6b-69cc-447d-95f8-019b56e99c58] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801024800
2025-06-05 15:00:37.424 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-05 15:00:37.426 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-05 15:00:37.434 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.221.62:8083 register finished
2025-06-05 15:00:37.911 [main] INFO  top.dl.IotApplication - Started IotApplication in 13.582 seconds (process running for 14.711)
2025-06-05 15:00:37.922 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-05 15:00:37.922 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-05 15:00:37.925 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-05 15:00:37.934 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 15:00:37.935 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-05 15:00:37.937 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-05 15:00:37.937 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 15:00:37.937 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-05 15:00:37.987 [nacos-grpc-client-executor-127.0.0.1-75] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 71
2025-06-05 15:00:37.987 [nacos-grpc-client-executor-127.0.0.1-75] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 15:00:37.989 [nacos-grpc-client-executor-127.0.0.1-75] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 15:00:37.991 [nacos-grpc-client-executor-127.0.0.1-75] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 71
2025-06-05 15:00:38.306 [RMI TCP Connection(8)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-05 15:00:38.307 [RMI TCP Connection(8)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-05 15:00:38.308 [RMI TCP Connection(8)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-05 15:24:28.910 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:24:28.930 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:24:28.948 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:24:28.966 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> false
2025-06-05 15:24:28.982 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:24:28.999 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:24:29.020 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:24:29.050 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:24:35.902 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:24:35.916 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:24:35.934 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:24:35.967 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> false
2025-06-05 15:24:51.437 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:24:51.569 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:24:51.602 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:24:51.624 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:24:56.715 [http-nio-8083-exec-1] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 278 ms
2025-06-05 15:25:00.442 [http-nio-8082-exec-2] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 251 ms
2025-06-05 15:25:05.012 [http-nio-8082-exec-9] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDkyODExMDQsImlhdCI6MTc0OTEwODMwNCwidXNlcklkIjoxfQ.sxI-eH3O6YLIQd4I6x3r4Qt1JMyBiaQD5JD2KYVJh7M
2025-06-05 15:25:11.418 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:25:11.639 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:25:11.663 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:25:11.683 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:25:31.418 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:25:31.723 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:25:31.750 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:25:31.770 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:25:51.440 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:25:51.638 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:25:51.660 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:25:51.675 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:26:11.477 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:26:11.664 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:26:11.685 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:26:11.739 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:26:31.456 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:26:31.740 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:26:31.757 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:26:31.773 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:26:51.610 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:26:51.804 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:26:51.831 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:26:51.858 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:27:11.480 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:27:11.866 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:27:11.915 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:27:11.940 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:27:14.944 [http-nio-8082-exec-1] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDkyODEyMzQsImlhdCI6MTc0OTEwODQzNCwidXNlcklkIjoxfQ.Bu7T1catjKhIGS1-0Py4SXgSb8z8tq2eKxnFcO1CMig
2025-06-05 15:27:31.460 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:27:31.747 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:27:31.773 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:27:31.801 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:27:51.743 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:27:52.020 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:27:52.036 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:27:52.053 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:28:11.483 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:28:11.668 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:28:11.683 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:28:11.702 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:28:31.499 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:28:31.783 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:28:31.804 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:28:31.816 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:28:51.540 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:28:51.802 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:28:51.825 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:28:51.839 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:29:11.502 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:29:11.712 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:29:11.727 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:29:11.742 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:29:31.489 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:29:31.764 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:29:31.781 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:29:31.795 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:29:51.491 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:29:51.596 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:29:51.611 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:29:51.627 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:30:45.744 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-05 15:30:45.745 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-05 15:30:45.745 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-05 15:30:45.745 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-05 15:30:45.745 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-05 15:30:45.745 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-05 15:30:45.745 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-05 15:30:45.745 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-05 15:30:45.745 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-05 15:30:45.745 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-05 15:30:45.750 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-05 15:30:45.750 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-05 15:30:45.754 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-05 15:30:45.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-05 15:30:45.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-05 15:30:45.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-05 15:30:45.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-05 15:30:45.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-05 15:30:45.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-05 15:30:45.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-05 15:30:45.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-05 15:30:45.757 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-05 15:30:45.757 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-05 15:30:45.757 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-05 15:30:45.757 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->be19af6b-69cc-447d-95f8-019b56e99c58
2025-06-05 15:30:45.757 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@65413e95[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 601]
2025-06-05 15:30:45.757 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-05 15:30:45.757 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@392c026[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-05 15:30:45.757 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749106837417_127.0.0.1_53728
2025-06-05 15:30:45.758 [nacos-grpc-client-executor-127.0.0.1-357] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749106837417_127.0.0.1_53728]Ignore complete event,isRunning:false,isAbandon=false
2025-06-05 15:30:45.764 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@5ea32085[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 358]
2025-06-05 15:30:45.765 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->be19af6b-69cc-447d-95f8-019b56e99c58
2025-06-05 15:30:45.765 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-05 15:30:45.765 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-05 15:30:45.765 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-05 15:30:45.770 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-05 15:30:45.772 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-05 15:30:45.774 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-05 15:30:45.774 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-05 15:30:45.774 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-05 15:30:46.316 [nacos-grpc-client-executor-127.0.0.1-833] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 72
2025-06-05 15:30:46.316 [nacos-grpc-client-executor-127.0.0.1-833] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 15:30:46.317 [nacos-grpc-client-executor-127.0.0.1-833] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-05 15:30:46.319 [nacos-grpc-client-executor-127.0.0.1-833] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 72
2025-06-05 15:30:56.762 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-05 15:30:56.810 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 36972 (E:\桌面\iot-cloud-group2\iot-cloud-iot\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-05 15:30:56.811 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:30:56.851 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-05 15:30:56.851 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-05 15:30:58.169 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-05 15:30:58.173 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-05 15:30:58.212 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-06-05 15:30:58.375 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-05 15:30:58.388 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-05 15:30:58.571 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=3cd950dc-f59b-3f2d-be5a-c19081397ed3
2025-06-05 15:30:59.651 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-05 15:30:59.655 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-05 15:30:59.661 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-05 15:30:59.674 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-05 15:30:59.676 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-05 15:30:59.676 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-05 15:30:59.752 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-05 15:30:59.752 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2899 ms
2025-06-05 15:31:00.046 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-05 15:31:00.538 [redisson-netty-2-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-05 15:31:00.597 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-05 15:31:00.854 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-05 15:31:00.982 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-05 15:31:01.206 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ac1544f
2025-06-05 15:31:01.208 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-05 15:31:01.209 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-05 15:31:01.209 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-05 15:31:02.372 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-05 15:31:03.782 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-05 15:31:05.379 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-05 15:31:05.379 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-05 15:31:05.379 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-05 15:31:05.379 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-05 15:31:05.379 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-05 15:31:05.379 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-05 15:31:05.379 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-05 15:31:05.379 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-05 15:31:05.379 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-05 15:31:05.754 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-05 15:31:05.754 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-05 15:31:05.767 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-05 15:31:05.773 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-05 15:31:05.774 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-05 15:31:05.774 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-05 15:31:05.782 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-05 15:31:05.787 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-05 15:31:05.787 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-05 15:31:05.864 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 5fa5b4c7-3c46-4130-bdc1-a5f870702f7c
2025-06-05 15:31:05.866 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->5fa5b4c7-3c46-4130-bdc1-a5f870702f7c
2025-06-05 15:31:05.866 [main] INFO  com.alibaba.nacos.common.remote.client - [5fa5b4c7-3c46-4130-bdc1-a5f870702f7c] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-05 15:31:05.866 [main] INFO  com.alibaba.nacos.common.remote.client - [5fa5b4c7-3c46-4130-bdc1-a5f870702f7c] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-05 15:31:05.866 [main] INFO  com.alibaba.nacos.common.remote.client - [5fa5b4c7-3c46-4130-bdc1-a5f870702f7c] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-05 15:31:05.867 [main] INFO  com.alibaba.nacos.common.remote.client - [5fa5b4c7-3c46-4130-bdc1-a5f870702f7c] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-05 15:31:05.867 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-05 15:31:05.878 [main] INFO  com.alibaba.nacos.common.remote.client - [5fa5b4c7-3c46-4130-bdc1-a5f870702f7c] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749108665871_127.0.0.1_63222
2025-06-05 15:31:05.878 [main] INFO  com.alibaba.nacos.common.remote.client - [5fa5b4c7-3c46-4130-bdc1-a5f870702f7c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-05 15:31:05.878 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [5fa5b4c7-3c46-4130-bdc1-a5f870702f7c] Notify connected event to listeners.
2025-06-05 15:31:05.878 [main] INFO  com.alibaba.nacos.common.remote.client - [5fa5b4c7-3c46-4130-bdc1-a5f870702f7c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801024800
2025-06-05 15:31:05.879 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-05 15:31:05.880 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-05 15:31:05.890 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.221.62:8083 register finished
2025-06-05 15:31:06.349 [main] INFO  top.dl.IotApplication - Started IotApplication in 12.36 seconds (process running for 13.632)
2025-06-05 15:31:06.360 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-05 15:31:06.360 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-05 15:31:06.363 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-05 15:31:06.372 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 15:31:06.372 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-05 15:31:06.374 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-05 15:31:06.374 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 15:31:06.374 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-05 15:31:06.424 [nacos-grpc-client-executor-127.0.0.1-844] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 73
2025-06-05 15:31:06.424 [nacos-grpc-client-executor-127.0.0.1-844] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 15:31:06.424 [nacos-grpc-client-executor-127.0.0.1-844] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 15:31:06.427 [nacos-grpc-client-executor-127.0.0.1-844] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 73
2025-06-05 15:31:06.668 [RMI TCP Connection(5)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-05 15:31:06.669 [RMI TCP Connection(5)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-05 15:31:06.669 [RMI TCP Connection(5)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-05 15:31:09.449 [http-nio-8083-exec-1] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 250 ms
2025-06-05 15:31:11.889 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:31:11.913 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:31:11.929 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:31:11.946 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:31:19.983 [http-nio-8082-exec-8] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDkyODE0NzksImlhdCI6MTc0OTEwODY3OSwidXNlcklkIjoxfQ.WXa2qmY16P6KE3mPfMVAGUNjD4S3--ZHYzHxf0OM_5k
2025-06-05 15:31:31.515 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:31:31.827 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:31:31.844 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:31:31.861 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:31:51.658 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:31:52.052 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:31:52.070 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:31:52.088 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:32:11.544 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:32:11.688 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:32:11.710 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:32:11.770 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:32:31.571 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:32:31.787 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:32:31.806 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:32:31.825 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:32:51.546 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:32:52.059 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:32:52.082 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:32:52.101 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:33:11.547 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:33:11.707 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:33:11.721 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:33:11.741 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:33:31.545 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:33:31.768 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:33:31.783 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:33:31.798 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:33:51.595 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:33:51.686 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:33:51.702 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:33:51.717 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:34:11.540 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:34:11.915 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:34:11.930 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:34:11.948 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:34:31.591 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:34:31.787 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:34:31.816 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:34:31.830 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:34:51.543 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:34:51.844 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:34:51.864 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:34:51.887 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:35:11.607 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:35:11.704 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:35:11.719 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:35:11.951 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:35:31.574 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:35:31.801 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:35:31.817 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:35:31.831 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:35:51.551 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:35:51.841 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:35:51.854 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:35:51.867 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:36:11.613 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:36:11.719 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:36:11.735 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:36:11.752 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:36:31.596 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:36:31.784 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:36:31.795 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:36:31.807 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:36:51.604 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:36:51.860 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:36:51.877 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:36:52.110 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:37:11.620 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:37:11.927 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:37:11.941 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:37:11.953 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:37:31.620 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:37:31.802 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:37:31.815 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:37:31.828 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:37:51.623 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:37:51.883 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:37:51.906 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:37:51.924 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:38:11.792 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:38:11.949 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:38:11.962 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:38:11.976 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:38:31.650 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:38:31.840 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:38:31.902 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:38:31.933 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:38:51.649 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:38:51.877 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:38:51.895 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:38:51.912 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:39:11.642 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:39:11.943 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:39:11.956 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:39:11.968 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:39:31.624 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:39:31.807 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:39:31.821 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:39:31.834 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:39:51.618 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:39:51.928 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:39:51.942 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:39:51.960 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:40:11.665 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:40:11.954 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:40:11.964 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:40:11.977 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:40:31.671 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:40:31.828 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:40:31.849 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:40:31.869 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:40:51.667 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:40:51.935 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:40:51.948 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:40:51.959 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:41:11.694 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:41:12.005 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:41:12.022 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:41:12.039 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:41:31.672 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_light -> false
2025-06-05 15:41:31.854 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_dht -> true
2025-06-05 15:41:31.877 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_buzzer -> false
2025-06-05 15:41:32.110 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_ir_sensor -> true
2025-06-05 15:42:05.762 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:42:05.775 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:42:05.788 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:42:05.801 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false
2025-06-05 15:42:20.221 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:42:20.309 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:42:20.323 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:42:20.333 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:42:40.253 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:42:40.439 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:42:40.455 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:42:40.471 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:43:00.216 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:43:00.510 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:43:00.521 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:43:00.536 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:43:20.466 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:43:20.481 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:43:20.492 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:43:20.506 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false
2025-06-05 15:43:33.918 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:43:34.143 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:43:34.158 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:43:34.175 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:43:53.911 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:43:54.169 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:43:54.186 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:43:54.201 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:44:13.924 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:44:14.018 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:44:14.033 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:44:14.056 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:44:33.916 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:44:34.098 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:44:34.111 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:44:34.128 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:44:53.943 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:44:54.170 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:44:54.180 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:44:54.190 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:45:13.950 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:45:14.452 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:45:14.505 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:45:14.520 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:45:33.948 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:45:34.107 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:45:34.118 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:45:34.131 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:45:53.960 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:45:54.194 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:45:54.229 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:45:54.240 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:46:13.999 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:46:14.255 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:46:14.272 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:46:14.286 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:46:34.134 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:46:34.325 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:46:34.336 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:46:34.348 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:46:53.973 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:46:54.185 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:46:54.194 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:46:54.254 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:47:14.000 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:47:14.257 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:47:14.272 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:47:14.484 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:47:34.159 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:47:34.174 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:47:34.190 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:47:34.203 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:47:40.948 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-05 15:47:40.948 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-05 15:47:40.949 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-05 15:47:40.950 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-05 15:47:40.950 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-05 15:47:40.950 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-05 15:47:40.950 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-05 15:47:40.950 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-05 15:47:40.950 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-05 15:47:40.950 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-05 15:47:40.954 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-05 15:47:40.954 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-05 15:47:40.966 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-05 15:47:40.968 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-05 15:47:40.968 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-05 15:47:40.968 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-05 15:47:40.968 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-05 15:47:40.968 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-05 15:47:40.969 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-05 15:47:40.969 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-05 15:47:40.969 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-05 15:47:40.969 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-05 15:47:40.969 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-05 15:47:40.969 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-05 15:47:40.969 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->5fa5b4c7-3c46-4130-bdc1-a5f870702f7c
2025-06-05 15:47:40.969 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@7861da6a[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 330]
2025-06-05 15:47:40.969 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-05 15:47:40.969 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@37b0ce06[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-05 15:47:40.969 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749108665871_127.0.0.1_63222
2025-06-05 15:47:40.970 [nacos-grpc-client-executor-127.0.0.1-203] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749108665871_127.0.0.1_63222]Ignore complete event,isRunning:false,isAbandon=false
2025-06-05 15:47:40.973 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@4d759ae9[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 204]
2025-06-05 15:47:40.973 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->5fa5b4c7-3c46-4130-bdc1-a5f870702f7c
2025-06-05 15:47:40.974 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-05 15:47:40.974 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-05 15:47:40.974 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-05 15:47:40.977 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-05 15:47:40.979 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-05 15:47:40.984 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-05 15:47:40.985 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-05 15:47:40.985 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-05 15:47:41.501 [nacos-grpc-client-executor-127.0.0.1-1236] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 74
2025-06-05 15:47:41.502 [nacos-grpc-client-executor-127.0.0.1-1236] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 15:47:41.503 [nacos-grpc-client-executor-127.0.0.1-1236] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-05 15:47:41.504 [nacos-grpc-client-executor-127.0.0.1-1236] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 74
2025-06-05 15:47:49.419 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-05 15:47:49.466 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 25848 (E:\桌面\iot-cloud-group2\iot-cloud-iot\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-05 15:47:49.469 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:47:49.510 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-05 15:47:49.510 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-05 15:47:50.797 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-05 15:47:50.801 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-05 15:47:50.841 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-06-05 15:47:51.005 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-05 15:47:51.017 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-05 15:47:51.202 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=3cd950dc-f59b-3f2d-be5a-c19081397ed3
2025-06-05 15:47:52.297 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-05 15:47:52.310 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-05 15:47:52.316 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-05 15:47:52.325 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-05 15:47:52.327 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-05 15:47:52.327 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-05 15:47:52.397 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-05 15:47:52.397 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2884 ms
2025-06-05 15:47:52.670 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-05 15:47:53.172 [redisson-netty-2-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-05 15:47:53.229 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-05 15:47:53.483 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-05 15:47:53.608 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-05 15:47:53.965 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@6aeb769d
2025-06-05 15:47:53.967 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-05 15:47:53.968 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-05 15:47:53.969 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-05 15:47:55.191 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-05 15:47:56.677 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-05 15:47:58.256 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-05 15:47:58.256 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-05 15:47:58.256 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-05 15:47:58.256 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-05 15:47:58.256 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-05 15:47:58.256 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-05 15:47:58.257 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-05 15:47:58.257 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-05 15:47:58.257 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-05 15:47:58.668 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-05 15:47:58.668 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-05 15:47:58.682 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-05 15:47:58.688 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-05 15:47:58.689 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-05 15:47:58.689 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-05 15:47:58.697 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-05 15:47:58.702 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-05 15:47:58.702 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-05 15:47:58.779 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 79dffbb3-c88c-4148-b485-d6127d21d289
2025-06-05 15:47:58.782 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->79dffbb3-c88c-4148-b485-d6127d21d289
2025-06-05 15:47:58.782 [main] INFO  com.alibaba.nacos.common.remote.client - [79dffbb3-c88c-4148-b485-d6127d21d289] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-05 15:47:58.782 [main] INFO  com.alibaba.nacos.common.remote.client - [79dffbb3-c88c-4148-b485-d6127d21d289] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-05 15:47:58.783 [main] INFO  com.alibaba.nacos.common.remote.client - [79dffbb3-c88c-4148-b485-d6127d21d289] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-05 15:47:58.783 [main] INFO  com.alibaba.nacos.common.remote.client - [79dffbb3-c88c-4148-b485-d6127d21d289] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-05 15:47:58.783 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-05 15:47:58.796 [main] INFO  com.alibaba.nacos.common.remote.client - [79dffbb3-c88c-4148-b485-d6127d21d289] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749109678787_127.0.0.1_62303
2025-06-05 15:47:58.796 [main] INFO  com.alibaba.nacos.common.remote.client - [79dffbb3-c88c-4148-b485-d6127d21d289] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-05 15:47:58.796 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [79dffbb3-c88c-4148-b485-d6127d21d289] Notify connected event to listeners.
2025-06-05 15:47:58.796 [main] INFO  com.alibaba.nacos.common.remote.client - [79dffbb3-c88c-4148-b485-d6127d21d289] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801026b88
2025-06-05 15:47:58.796 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-05 15:47:58.798 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-05 15:47:58.808 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.221.62:8083 register finished
2025-06-05 15:47:59.317 [main] INFO  top.dl.IotApplication - Started IotApplication in 12.531 seconds (process running for 13.656)
2025-06-05 15:47:59.321 [nacos-grpc-client-executor-127.0.0.1-1239] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 75
2025-06-05 15:47:59.321 [nacos-grpc-client-executor-127.0.0.1-1239] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 15:47:59.322 [nacos-grpc-client-executor-127.0.0.1-1239] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 15:47:59.323 [nacos-grpc-client-executor-127.0.0.1-1239] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 75
2025-06-05 15:47:59.327 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-05 15:47:59.327 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-05 15:47:59.330 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-05 15:47:59.340 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 15:47:59.340 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-05 15:47:59.343 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-05 15:47:59.343 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 15:47:59.344 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-05 15:47:59.708 [RMI TCP Connection(6)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-05 15:47:59.708 [RMI TCP Connection(6)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-05 15:47:59.711 [RMI TCP Connection(6)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-05 15:48:14.402 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:48:14.439 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:48:14.453 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:48:14.494 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:48:34.142 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:48:34.349 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:48:34.374 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:48:34.393 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:48:54.021 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:48:54.219 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:48:54.244 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:48:54.297 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:49:14.032 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:49:14.297 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:49:14.323 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:49:14.343 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:49:34.233 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:49:34.394 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:49:34.444 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:49:34.736 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:49:54.088 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:49:54.217 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:49:54.261 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:49:54.286 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:50:14.037 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:50:14.188 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:50:14.215 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:50:14.231 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:50:34.024 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:50:34.144 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:50:34.234 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:50:34.287 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:50:54.048 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:50:54.259 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:50:54.278 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:50:54.537 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:51:14.063 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:51:14.312 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:51:14.341 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:51:14.375 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:51:34.051 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:51:34.374 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:51:34.388 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:51:34.405 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:51:54.132 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:51:54.155 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:51:54.172 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:51:54.232 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:52:14.048 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:52:14.128 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:52:14.150 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:52:14.180 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:52:34.081 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:52:34.384 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:52:34.397 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:52:34.443 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:52:54.084 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:52:54.287 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:52:54.317 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:52:54.351 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:53:14.067 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:53:14.320 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:53:14.374 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:53:14.389 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:53:34.072 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:53:34.184 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:53:34.235 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:53:34.252 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:53:54.247 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:53:54.261 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:53:54.302 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:53:54.319 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:54:14.124 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:54:14.358 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:54:14.403 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:54:14.418 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:54:34.151 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:54:34.379 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:54:34.396 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:54:34.435 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:54:54.212 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:54:54.273 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:54:54.326 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:54:54.343 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:55:14.143 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:55:14.370 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:55:14.423 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:55:14.435 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:55:34.134 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:55:34.286 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:55:34.390 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:55:34.438 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:55:54.244 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:55:54.509 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:55:54.582 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:55:54.612 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:56:14.215 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:56:14.690 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:56:14.792 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:56:14.810 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:56:34.190 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:56:34.427 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:56:34.506 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:56:34.535 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:57:01.805 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:57:01.821 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:57:01.891 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:57:01.908 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false
2025-06-05 15:57:11.598 [http-nio-8083-exec-3] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 316 ms
2025-06-05 15:57:16.076 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:57:16.183 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:57:16.244 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:57:16.280 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:57:22.572 [http-nio-8082-exec-2] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDkyODMwNDIsImlhdCI6MTc0OTExMDI0MiwidXNlcklkIjoxfQ.Q23bO63Z4nKYAlsrIXvLE-_Sau2-yrYbkUQfB3iSeLo
2025-06-05 15:57:36.120 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:57:36.272 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:57:36.308 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:57:36.329 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:57:52.541 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:57:52.582 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:57:52.597 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:57:52.633 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false
2025-06-05 15:58:04.876 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:58:05.134 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:58:05.149 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:58:05.224 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:58:24.892 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:58:25.022 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:58:25.049 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:58:25.091 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:58:44.909 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:58:45.070 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:58:45.119 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:58:45.140 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:59:05.044 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:59:05.334 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:59:05.367 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:59:05.405 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:59:24.927 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:59:25.048 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:59:25.067 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:59:25.313 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 15:59:44.949 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 15:59:45.091 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 15:59:45.186 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 15:59:45.333 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 16:00:04.941 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 16:00:05.145 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 16:00:05.165 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 16:00:05.233 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 16:00:24.922 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 16:00:25.007 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 16:00:25.022 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 16:00:25.087 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 16:00:44.923 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 16:00:45.272 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 16:00:45.299 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 16:00:45.311 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 16:01:04.924 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 16:01:05.162 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 16:01:05.201 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 16:01:05.252 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 16:01:24.912 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 16:01:25.235 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 16:01:25.252 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 16:01:25.270 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 16:01:45.479 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 16:01:45.781 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 16:01:45.828 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 16:01:45.853 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 16:02:04.948 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 16:02:05.159 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 16:02:05.237 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 16:02:05.251 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 16:02:25.026 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 16:02:25.278 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 16:02:25.429 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 16:02:25.450 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 16:02:44.982 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 16:02:45.266 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 16:02:45.299 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 16:02:45.319 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 16:03:04.982 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 16:03:05.222 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 16:03:05.242 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 16:03:05.274 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 16:03:25.250 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false
2025-06-05 16:03:25.275 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true
2025-06-05 16:03:25.346 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false
2025-06-05 16:03:25.445 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true
2025-06-05 16:03:30.584 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-05 16:03:30.584 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-05 16:03:30.584 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-05 16:03:30.585 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-05 16:03:30.586 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-05 16:03:30.586 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-05 16:03:30.586 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-05 16:03:30.586 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-05 16:03:30.586 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-05 16:03:30.586 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-05 16:03:30.590 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-05 16:03:30.590 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-05 16:03:30.594 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-05 16:03:30.595 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-05 16:03:30.595 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-05 16:03:30.595 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-05 16:03:30.595 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-05 16:03:30.595 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-05 16:03:30.595 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-05 16:03:30.604 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-05 16:03:30.604 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-05 16:03:30.604 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-05 16:03:30.604 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-05 16:03:30.604 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-05 16:03:30.604 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->79dffbb3-c88c-4148-b485-d6127d21d289
2025-06-05 16:03:30.604 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@3c29c18f[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 309]
2025-06-05 16:03:30.605 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-05 16:03:30.605 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@63d37438[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-05 16:03:30.605 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749109678787_127.0.0.1_62303
2025-06-05 16:03:30.605 [nacos-grpc-client-executor-127.0.0.1-191] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749109678787_127.0.0.1_62303]Ignore complete event,isRunning:false,isAbandon=false
2025-06-05 16:03:30.608 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@28858a34[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 192]
2025-06-05 16:03:30.609 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->79dffbb3-c88c-4148-b485-d6127d21d289
2025-06-05 16:03:30.609 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-05 16:03:30.609 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-05 16:03:30.609 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-05 16:03:30.612 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-05 16:03:30.615 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-05 16:03:30.617 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-05 16:03:30.617 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-05 16:03:30.617 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-05 16:03:31.199 [nacos-grpc-client-executor-127.0.0.1-1601] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 76
2025-06-05 16:03:31.199 [nacos-grpc-client-executor-127.0.0.1-1601] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 16:03:31.201 [nacos-grpc-client-executor-127.0.0.1-1601] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-05 16:03:31.202 [nacos-grpc-client-executor-127.0.0.1-1601] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 76
2025-06-05 16:03:39.332 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-05 16:03:39.380 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 18992 (E:\桌面\iot-cloud-group2\iot-cloud-iot\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-05 16:03:39.381 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 16:03:39.422 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-05 16:03:39.422 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-05 16:03:40.886 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-05 16:03:40.891 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-05 16:03:40.931 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-06-05 16:03:41.104 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-05 16:03:41.117 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-05 16:03:41.292 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=3cd950dc-f59b-3f2d-be5a-c19081397ed3
2025-06-05 16:03:42.397 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-05 16:03:42.402 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-05 16:03:42.410 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-05 16:03:42.422 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-05 16:03:42.425 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-05 16:03:42.425 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-05 16:03:42.540 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-05 16:03:42.542 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3116 ms
2025-06-05 16:03:42.880 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-05 16:03:43.473 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-05 16:03:43.535 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-05 16:03:43.822 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-05 16:03:43.970 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-05 16:03:44.383 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@e9c5db9
2025-06-05 16:03:44.384 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-05 16:03:44.386 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-05 16:03:44.386 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-05 16:03:45.659 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-05 16:03:47.216 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-05 16:03:48.816 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-05 16:03:48.818 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-05 16:03:48.818 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-05 16:03:48.818 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-05 16:03:48.818 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-05 16:03:48.818 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-05 16:03:48.818 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-05 16:03:48.818 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-05 16:03:48.818 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-05 16:03:49.262 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-05 16:03:49.262 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-05 16:03:49.274 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-05 16:03:49.281 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-05 16:03:49.282 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-05 16:03:49.282 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-05 16:03:49.288 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-05 16:03:49.292 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-05 16:03:49.292 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-05 16:03:49.363 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 3579c628-4247-480e-9d98-ecfbfc8508c2
2025-06-05 16:03:49.365 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->3579c628-4247-480e-9d98-ecfbfc8508c2
2025-06-05 16:03:49.365 [main] INFO  com.alibaba.nacos.common.remote.client - [3579c628-4247-480e-9d98-ecfbfc8508c2] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-05 16:03:49.365 [main] INFO  com.alibaba.nacos.common.remote.client - [3579c628-4247-480e-9d98-ecfbfc8508c2] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-05 16:03:49.367 [main] INFO  com.alibaba.nacos.common.remote.client - [3579c628-4247-480e-9d98-ecfbfc8508c2] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-05 16:03:49.367 [main] INFO  com.alibaba.nacos.common.remote.client - [3579c628-4247-480e-9d98-ecfbfc8508c2] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-05 16:03:49.367 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-05 16:03:49.376 [main] INFO  com.alibaba.nacos.common.remote.client - [3579c628-4247-480e-9d98-ecfbfc8508c2] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749110629371_127.0.0.1_62402
2025-06-05 16:03:49.376 [main] INFO  com.alibaba.nacos.common.remote.client - [3579c628-4247-480e-9d98-ecfbfc8508c2] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-05 16:03:49.376 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [3579c628-4247-480e-9d98-ecfbfc8508c2] Notify connected event to listeners.
2025-06-05 16:03:49.376 [main] INFO  com.alibaba.nacos.common.remote.client - [3579c628-4247-480e-9d98-ecfbfc8508c2] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x00000008010270a0
2025-06-05 16:03:49.376 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-05 16:03:49.378 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-05 16:03:49.388 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.221.62:8083 register finished
2025-06-05 16:03:49.888 [main] INFO  top.dl.IotApplication - Started IotApplication in 13.179 seconds (process running for 14.269)
2025-06-05 16:03:49.900 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-05 16:03:49.900 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-05 16:03:49.902 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-05 16:03:49.912 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 16:03:49.913 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-05 16:03:49.916 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-05 16:03:49.916 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-05 16:03:49.916 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-05 16:03:49.972 [nacos-grpc-client-executor-127.0.0.1-1610] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 77
2025-06-05 16:03:49.974 [nacos-grpc-client-executor-127.0.0.1-1610] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 16:03:49.974 [nacos-grpc-client-executor-127.0.0.1-1610] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 16:03:49.976 [nacos-grpc-client-executor-127.0.0.1-1610] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 77
2025-06-05 16:03:50.185 [RMI TCP Connection(9)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-05 16:03:50.185 [RMI TCP Connection(9)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-05 16:03:50.188 [RMI TCP Connection(9)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-05 16:03:58.317 [http-nio-8083-exec-1] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 239 ms
2025-06-05 16:04:05.427 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> false,null,null
2025-06-05 16:04:05.481 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:04:05.540 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:04:05.590 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-05 16:04:09.539 [http-nio-8082-exec-4] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDkyODM0NDksImlhdCI6MTc0OTExMDY0OSwidXNlcklkIjoxfQ.gtNQ8Tsp2IkTvi5PPATo4WroXlZcBF10W7lxbL9596w
2025-06-05 16:04:21.238 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:04:21.406 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:04:21.440 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:04:21.465 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-05 16:04:25.007 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:04:25.090 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:04:25.146 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:04:25.164 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-05 16:04:45.037 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:04:45.231 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:04:45.278 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:04:45.342 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-05 16:05:05.000 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:05:05.233 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:05:05.312 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:05:05.438 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-05 16:05:25.034 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:05:25.280 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:05:25.295 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:05:25.313 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-05 16:05:45.003 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:05:45.187 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:05:45.223 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:05:45.243 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-05 16:06:05.206 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:06:05.401 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:06:05.450 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:06:05.538 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-05 16:06:25.074 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:06:25.337 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:06:25.351 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:06:25.406 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> true,null,null
2025-06-05 16:06:44.998 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:06:45.159 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:06:45.184 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:06:45.246 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:07:05.189 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:07:05.423 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:07:05.478 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:07:05.492 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:07:25.073 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:07:25.286 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:07:25.304 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:07:25.371 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:07:45.221 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:07:45.294 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:07:45.309 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:07:45.367 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:08:05.041 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:08:05.273 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:08:05.367 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:08:05.410 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:08:26.590 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:08:27.372 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:08:27.401 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:08:27.427 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:08:45.546 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:08:46.019 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:08:46.353 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:08:48.812 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:09:05.066 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:09:05.238 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:09:05.309 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:09:05.361 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:09:25.063 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:09:25.313 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:09:25.341 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:09:25.385 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:09:45.032 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:09:45.125 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:09:45.140 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:09:45.157 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:10:05.138 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:10:05.249 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:10:05.303 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:10:05.325 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:10:25.112 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:10:25.297 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:10:25.426 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:10:25.442 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:10:46.072 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:10:46.254 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:10:46.289 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:10:46.306 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:11:05.113 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:11:05.243 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:11:05.262 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:11:05.284 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:11:25.166 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:11:25.460 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:11:25.538 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:11:25.627 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:11:45.134 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:11:45.388 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:11:45.403 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:11:45.460 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:12:05.123 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:12:05.233 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:12:05.250 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:12:05.279 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:12:25.082 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:12:25.303 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:12:25.321 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:12:25.335 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:12:45.248 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:12:45.277 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:12:45.317 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:12:45.352 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:13:05.125 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:13:05.478 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:13:05.524 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:13:05.650 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:13:25.091 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_0 -> true,null,null
2025-06-05 16:13:26.368 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_2 -> true,0.0,0.0
2025-06-05 16:13:26.388 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_14 -> false,null,null
2025-06-05 16:13:26.429 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 设备状态更新: dev_ECFABCCA030B_12 -> false,null,null
2025-06-05 16:13:28.239 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-05 16:13:28.240 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-user with instance: Instance{instanceId='null', ip='10.20.221.62', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-05 16:13:28.264 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-05 16:13:28.265 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-05 16:13:28.266 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-05 16:13:28.266 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-05 16:13:28.266 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-05 16:13:28.266 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-05 16:13:28.266 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-05 16:13:28.266 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-05 16:13:28.266 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-05 16:13:28.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-05 16:13:28.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-05 16:13:28.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-05 16:13:28.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->6b787fa8-cae4-4862-bddc-3e5ec3f87458
2025-06-05 16:13:28.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@72e1681d[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1478]
2025-06-05 16:13:28.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-05 16:13:28.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1257c0d[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-05 16:13:28.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749106761800_127.0.0.1_53986
2025-06-05 16:13:28.269 [nacos-grpc-client-executor-127.0.0.1-861] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749106761800_127.0.0.1_53986]Ignore complete event,isRunning:false,isAbandon=false
2025-06-05 16:13:28.282 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@81ba3aa[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 862]
2025-06-05 16:13:28.282 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->6b787fa8-cae4-4862-bddc-3e5ec3f87458
2025-06-05 16:13:28.283 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-05 16:13:28.283 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-05 16:13:28.283 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-05 16:13:28.290 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-05 16:13:28.297 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-05 16:13:28.302 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-05 16:13:28.302 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-05 16:13:28.302 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-05 16:13:28.783 [nacos-grpc-client-executor-127.0.0.1-1835] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Receive server push request, request = NotifySubscriberRequest, requestId = 78
2025-06-05 16:13:28.783 [nacos-grpc-client-executor-127.0.0.1-1835] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.221.62#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.221.62","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-05 16:13:28.783 [nacos-grpc-client-executor-127.0.0.1-1835] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-05 16:13:28.785 [nacos-grpc-client-executor-127.0.0.1-1835] INFO  com.alibaba.nacos.common.remote.client - [373a018e-85e7-4d7d-b503-75615148553b] Ack server push request, request = NotifySubscriberRequest, requestId = 78
2025-06-05 16:13:29.730 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-05 16:13:29.731 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-gateway with instance: Instance{instanceId='null', ip='10.20.221.62', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-05 16:13:29.735 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-05 16:13:29.736 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-05 16:13:29.737 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-05 16:13:29.737 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-05 16:13:29.737 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-05 16:13:29.737 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-05 16:13:29.737 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-05 16:13:29.737 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-05 16:13:29.737 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-05 16:13:29.737 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-05 16:13:29.737 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-05 16:13:29.738 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-05 16:13:29.738 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->373a018e-85e7-4d7d-b503-75615148553b
2025-06-05 16:13:29.738 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@1f6b005[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1485]
2025-06-05 16:13:29.738 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-05 16:13:29.738 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1b859c85[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-05 16:13:29.738 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749106742441_127.0.0.1_53932
2025-06-05 16:13:29.741 [nacos-grpc-client-executor-127.0.0.1-1837] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749106742441_127.0.0.1_53932]Ignore complete event,isRunning:false,isAbandon=false
2025-06-05 16:13:29.745 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@7cb714fb[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 1860]
2025-06-05 16:13:29.745 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->373a018e-85e7-4d7d-b503-75615148553b
2025-06-05 16:13:29.745 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-05 16:13:29.745 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-05 16:13:29.746 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-05 16:13:33.257 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-05 16:13:33.257 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-05 16:13:33.257 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-05 16:13:33.259 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-05 16:13:33.259 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-05 16:13:33.259 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-05 16:13:33.259 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-05 16:13:33.259 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-05 16:13:33.259 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-05 16:13:33.259 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-05 16:13:33.263 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-05 16:13:33.264 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-05 16:13:33.265 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->3579c628-4247-480e-9d98-ecfbfc8508c2
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@226fe519[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 194]
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@3a92902[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-05 16:13:33.268 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749110629371_127.0.0.1_62402
2025-06-05 16:13:33.269 [nacos-grpc-client-executor-127.0.0.1-122] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749110629371_127.0.0.1_62402]Ignore complete event,isRunning:false,isAbandon=false
2025-06-05 16:13:33.273 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@51a6baba[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 123]
2025-06-05 16:13:33.274 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->3579c628-4247-480e-9d98-ecfbfc8508c2
2025-06-05 16:13:33.274 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-05 16:13:33.274 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-05 16:13:33.274 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-05 16:13:33.278 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-05 16:13:33.279 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-05 16:13:33.284 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-05 16:13:33.284 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-05 16:13:33.284 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-06 13:44:02.775 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-06 13:44:02.830 [main] INFO  top.dl.GatewayApplication - Starting GatewayApplication using Java 17.0.6 with PID 33520 (E:\桌面\iot-cloud-group2\iot-cloud-gateway\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-06 13:44:02.833 [main] INFO  top.dl.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-06 13:44:02.882 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-06 13:44:02.882 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-06 13:44:04.237 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=bb97293c-5f9d-33e2-bb2b-9bc2013db92c
2025-06-06 13:44:07.070 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-06-06 13:44:07.070 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-06-06 13:44:07.070 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-06-06 13:44:07.070 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-06-06 13:44:07.071 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-06-06 13:44:07.071 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-06-06 13:44:07.071 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-06-06 13:44:07.071 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-06-06 13:44:07.071 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-06-06 13:44:07.071 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-06-06 13:44:07.071 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-06-06 13:44:07.071 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-06-06 13:44:07.071 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-06-06 13:44:07.071 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-06-06 13:44:07.388 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-06 13:44:08.028 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer - Netty started on port 8080 (http)
2025-06-06 13:44:08.988 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-06 13:44:08.988 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-06 13:44:08.988 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-06 13:44:08.995 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-06 13:44:08.999 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-06 13:44:09.001 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-06 13:44:09.083 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 956338f1-d343-4427-aa3b-3b7b0f70e5c8
2025-06-06 13:44:09.085 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->956338f1-d343-4427-aa3b-3b7b0f70e5c8
2025-06-06 13:44:09.085 [main] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-06 13:44:09.085 [main] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-06 13:44:09.085 [main] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-06 13:44:09.086 [main] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-06 13:44:09.086 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-06 13:44:09.100 [main] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749188649091_127.0.0.1_53570
2025-06-06 13:44:09.101 [main] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-06 13:44:09.101 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Notify connected event to listeners.
2025-06-06 13:44:09.101 [main] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$438/0x000000080102e358
2025-06-06 13:44:09.101 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-06 13:44:09.102 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-gateway with instance Instance{instanceId='null', ip='10.20.221.62', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-06 13:44:09.115 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-gateway 10.20.221.62:8080 register finished
2025-06-06 13:44:09.178 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-06 13:44:09.178 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-06 13:44:09.178 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-06 13:44:09.178 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-06 13:44:09.193 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.221.62#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.221.62","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-06 13:44:09.193 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.221.62#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.221.62","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-06 13:44:09.206 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.221.62#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.221.62","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-06 13:44:09.206 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.221.62#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.221.62","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-06 13:44:09.266 [main] INFO  c.a.c.n.discovery.NacosDiscoveryHeartBeatPublisher - Start nacos heartBeat task scheduler.
2025-06-06 13:44:09.297 [main] INFO  top.dl.GatewayApplication - Started GatewayApplication in 9.668 seconds (process running for 11.09)
2025-06-06 13:44:09.305 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-06 13:44:09.305 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-06 13:44:09.307 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-06 13:44:09.308 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 13:44:09.308 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-06 13:44:09.312 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-06 13:44:09.312 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 13:44:09.312 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-06 13:44:09.617 [nacos-grpc-client-executor-127.0.0.1-3] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Receive server push request, request = NotifySubscriberRequest, requestId = 6
2025-06-06 13:44:09.618 [nacos-grpc-client-executor-127.0.0.1-3] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Ack server push request, request = NotifySubscriberRequest, requestId = 6
2025-06-06 13:44:25.967 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-06 13:44:26.049 [main] INFO  top.dl.ContentApplication - Starting ContentApplication using Java 17.0.6 with PID 32540 (E:\桌面\iot-cloud-group2\iot-cloud-content\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-06 13:44:26.051 [main] INFO  top.dl.ContentApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-06 13:44:26.111 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-06 13:44:26.111 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-06 13:44:27.857 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-06 13:44:27.862 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-06 13:44:27.925 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2025-06-06 13:44:28.398 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=52a84b74-3ae4-361a-a66c-ae5f3a600006
2025-06-06 13:44:29.786 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-06-06 13:44:29.790 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-06 13:44:29.796 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-06 13:44:29.809 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-06-06 13:44:29.811 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-06 13:44:29.811 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-06 13:44:29.911 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-06 13:44:29.911 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3797 ms
2025-06-06 13:44:30.285 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-06 13:44:30.903 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-06 13:44:30.935 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-06 13:44:46.159 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-06 13:44:46.231 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 30920 (E:\桌面\iot-cloud-group2\iot-cloud-user\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-06 13:44:46.234 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-06 13:44:46.289 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-06 13:44:46.289 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-06 13:44:47.977 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-06 13:44:47.981 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-06 13:44:48.039 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2025-06-06 13:44:48.414 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-06 13:44:49.594 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-06 13:44:49.598 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-06 13:44:49.604 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-06 13:44:49.615 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-06 13:44:49.617 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-06 13:44:49.617 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-06 13:44:49.714 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-06 13:44:49.715 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3422 ms
2025-06-06 13:44:50.075 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-06 13:44:50.671 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-06 13:44:50.701 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-06 13:45:10.353 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-06 13:45:10.432 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 12228 (E:\桌面\iot-cloud-group2\iot-cloud-user\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-06 13:45:10.433 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-06 13:45:10.489 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-06 13:45:10.490 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-06 13:45:12.142 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-06 13:45:12.145 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-06 13:45:12.198 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
2025-06-06 13:45:12.613 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-06 13:45:13.817 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-06 13:45:13.820 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-06 13:45:13.825 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-06 13:45:13.835 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-06 13:45:13.839 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-06 13:45:13.839 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-06 13:45:13.941 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-06 13:45:13.942 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3446 ms
2025-06-06 13:45:14.320 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-06 13:45:14.920 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-06 13:45:15.003 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-06 13:45:15.397 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-06 13:45:15.685 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@112f8f8f
2025-06-06 13:45:15.687 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-06 13:45:15.688 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-06 13:45:15.688 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-06 13:45:16.933 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Found 2 AuthenticationProvider beans, with names [daoAuthenticationProvider, mobileAuthenticationProvider]. Global Authentication Manager will not be configured with AuthenticationProviders. Consider publishing a single AuthenticationProvider bean, or wiring your Providers directly using the DSL.
2025-06-06 13:45:16.935 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 13:45:18.733 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-06 13:45:20.580 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-06-06 13:45:20.595 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-06-06 13:45:20.605 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-06 13:45:20.605 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-06 13:45:20.606 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-06 13:45:20.614 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-06 13:45:20.622 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-06 13:45:20.622 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-06 13:45:20.702 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 7d4d1938-415e-40b1-a912-8bb526c88dfb
2025-06-06 13:45:20.706 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->7d4d1938-415e-40b1-a912-8bb526c88dfb
2025-06-06 13:45:20.706 [main] INFO  com.alibaba.nacos.common.remote.client - [7d4d1938-415e-40b1-a912-8bb526c88dfb] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-06 13:45:20.706 [main] INFO  com.alibaba.nacos.common.remote.client - [7d4d1938-415e-40b1-a912-8bb526c88dfb] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-06 13:45:20.706 [main] INFO  com.alibaba.nacos.common.remote.client - [7d4d1938-415e-40b1-a912-8bb526c88dfb] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-06 13:45:20.707 [main] INFO  com.alibaba.nacos.common.remote.client - [7d4d1938-415e-40b1-a912-8bb526c88dfb] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-06 13:45:20.707 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-06 13:45:20.721 [main] INFO  com.alibaba.nacos.common.remote.client - [7d4d1938-415e-40b1-a912-8bb526c88dfb] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749188720712_127.0.0.1_53851
2025-06-06 13:45:20.722 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [7d4d1938-415e-40b1-a912-8bb526c88dfb] Notify connected event to listeners.
2025-06-06 13:45:20.722 [main] INFO  com.alibaba.nacos.common.remote.client - [7d4d1938-415e-40b1-a912-8bb526c88dfb] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-06 13:45:20.722 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-06 13:45:20.722 [main] INFO  com.alibaba.nacos.common.remote.client - [7d4d1938-415e-40b1-a912-8bb526c88dfb] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801024800
2025-06-06 13:45:20.724 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-user with instance Instance{instanceId='null', ip='10.20.221.62', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-06 13:45:20.735 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-user 10.20.221.62:8082 register finished
2025-06-06 13:45:21.222 [main] INFO  top.dl.UserApplication - Started UserApplication in 14.141 seconds (process running for 15.71)
2025-06-06 13:45:21.236 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-06 13:45:21.236 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-06 13:45:21.239 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-06 13:45:21.254 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 13:45:21.254 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-06 13:45:21.256 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-06 13:45:21.257 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 13:45:21.257 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-06 13:45:21.602 [RMI TCP Connection(2)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 13:45:21.602 [RMI TCP Connection(2)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-06 13:45:21.604 [RMI TCP Connection(2)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-06 13:45:39.313 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-06 13:45:39.313 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-06 13:45:39.314 [boundedElastic-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-06 13:45:39.314 [boundedElastic-1] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-06 13:45:39.318 [boundedElastic-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.221.62#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.221.62","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-06 13:45:39.318 [boundedElastic-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.221.62#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.221.62","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-06 13:45:39.923 [nacos-grpc-client-executor-127.0.0.1-73] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Receive server push request, request = NotifySubscriberRequest, requestId = 7
2025-06-06 13:45:39.924 [nacos-grpc-client-executor-127.0.0.1-73] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Ack server push request, request = NotifySubscriberRequest, requestId = 7
2025-06-06 13:45:41.328 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-06 13:45:41.383 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 19724 (E:\桌面\iot-cloud-group2\iot-cloud-iot\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-06 13:45:41.386 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-06 13:45:41.430 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-06 13:45:41.431 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-06 13:45:42.988 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-06 13:45:42.993 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-06 13:45:43.046 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-06-06 13:45:43.265 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-06 13:45:43.281 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-06 13:45:43.496 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=1b8f6d89-77b6-3eea-8d2d-06926d2ea790
2025-06-06 13:45:44.812 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-06 13:45:44.815 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-06 13:45:44.820 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-06 13:45:44.832 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-06 13:45:44.833 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-06 13:45:44.834 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-06 13:45:44.916 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-06 13:45:44.916 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3483 ms
2025-06-06 13:45:45.324 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-06 13:45:45.943 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-06 13:45:46.020 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-06 13:45:46.348 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-06 13:45:46.501 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-06 13:45:46.783 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@427946b9
2025-06-06 13:45:46.785 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-06 13:45:46.787 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-06 13:45:46.787 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-06 13:45:48.317 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-06 13:45:50.032 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-06 13:45:51.849 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-06 13:45:51.850 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-06 13:45:51.850 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-06 13:45:51.852 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-06 13:45:51.852 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-06 13:45:51.852 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-06 13:45:51.852 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-06 13:45:51.852 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-06 13:45:51.852 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-06 13:45:52.221 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-06 13:45:52.221 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-06 13:45:52.237 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-06 13:45:52.251 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-06 13:45:52.251 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-06 13:45:52.251 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-06 13:45:52.259 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-06 13:45:52.266 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-06 13:45:52.266 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-06 13:45:52.342 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 4cd4460c-759d-494f-a6fe-e5285b06ba00
2025-06-06 13:45:52.345 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->4cd4460c-759d-494f-a6fe-e5285b06ba00
2025-06-06 13:45:52.345 [main] INFO  com.alibaba.nacos.common.remote.client - [4cd4460c-759d-494f-a6fe-e5285b06ba00] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-06 13:45:52.347 [main] INFO  com.alibaba.nacos.common.remote.client - [4cd4460c-759d-494f-a6fe-e5285b06ba00] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-06 13:45:52.347 [main] INFO  com.alibaba.nacos.common.remote.client - [4cd4460c-759d-494f-a6fe-e5285b06ba00] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-06 13:45:52.348 [main] INFO  com.alibaba.nacos.common.remote.client - [4cd4460c-759d-494f-a6fe-e5285b06ba00] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-06 13:45:52.348 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-06 13:45:52.359 [main] INFO  com.alibaba.nacos.common.remote.client - [4cd4460c-759d-494f-a6fe-e5285b06ba00] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749188752351_127.0.0.1_53990
2025-06-06 13:45:52.359 [main] INFO  com.alibaba.nacos.common.remote.client - [4cd4460c-759d-494f-a6fe-e5285b06ba00] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-06 13:45:52.359 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [4cd4460c-759d-494f-a6fe-e5285b06ba00] Notify connected event to listeners.
2025-06-06 13:45:52.359 [main] INFO  com.alibaba.nacos.common.remote.client - [4cd4460c-759d-494f-a6fe-e5285b06ba00] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$431/0x0000000800fdcc40
2025-06-06 13:45:52.359 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-06 13:45:52.362 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-06 13:45:52.372 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.221.62:8083 register finished
2025-06-06 13:45:52.903 [main] INFO  top.dl.IotApplication - Started IotApplication in 14.837 seconds (process running for 16.442)
2025-06-06 13:45:52.918 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-06 13:45:52.918 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-06 13:45:52.920 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-06 13:45:52.932 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 13:45:52.933 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-06 13:45:52.935 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-06 13:45:52.935 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 13:45:52.935 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-06 13:45:54.823 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-06 13:45:54.823 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-06 13:45:54.823 [boundedElastic-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-06 13:45:54.823 [boundedElastic-2] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-06 13:45:54.827 [boundedElastic-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-06 13:45:54.828 [boundedElastic-1] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-06 13:45:54.834 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-06 13:45:54.835 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-06 13:45:55.332 [nacos-grpc-client-executor-127.0.0.1-86] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Receive server push request, request = NotifySubscriberRequest, requestId = 8
2025-06-06 13:45:55.333 [nacos-grpc-client-executor-127.0.0.1-86] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Ack server push request, request = NotifySubscriberRequest, requestId = 8
2025-06-06 13:46:00.098 [http-nio-8083-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 13:46:00.098 [http-nio-8083-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-06 13:46:00.101 [http-nio-8083-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-06-06 13:46:00.586 [http-nio-8083-exec-1] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 384 ms
2025-06-06 13:46:05.205 [http-nio-8082-exec-3] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 313 ms
2025-06-06 13:46:10.602 [http-nio-8082-exec-4] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDkzNjE1NjksImlhdCI6MTc0OTE4ODc2OSwidXNlcklkIjoxfQ.dK9jZNuDyBzanSnFH4YBwLjEGqELzQMJI9piUl0sIIE
2025-06-06 15:07:09.719 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-06 15:07:09.719 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-06 15:07:09.720 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-06 15:07:09.720 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-06 15:07:09.720 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-06 15:07:09.720 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-06 15:07:09.720 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-06 15:07:09.720 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-06 15:07:09.720 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-06 15:07:09.721 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-06 15:07:09.727 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-06 15:07:09.728 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-06 15:07:09.736 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-06 15:07:09.738 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-06 15:07:09.738 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-06 15:07:09.738 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-06 15:07:09.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-06 15:07:09.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-06 15:07:09.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-06 15:07:09.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-06 15:07:09.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-06 15:07:09.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-06 15:07:09.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-06 15:07:09.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-06 15:07:09.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->4cd4460c-759d-494f-a6fe-e5285b06ba00
2025-06-06 15:07:09.740 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@45a7e200[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1625]
2025-06-06 15:07:09.740 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-06 15:07:09.740 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@6ac5d170[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-06 15:07:09.740 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749188752351_127.0.0.1_53990
2025-06-06 15:07:09.742 [nacos-grpc-client-executor-127.0.0.1-944] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749188752351_127.0.0.1_53990]Ignore complete event,isRunning:false,isAbandon=false
2025-06-06 15:07:09.750 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@5b8820c[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 945]
2025-06-06 15:07:09.750 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->4cd4460c-759d-494f-a6fe-e5285b06ba00
2025-06-06 15:07:09.750 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-06 15:07:09.750 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-06 15:07:09.750 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-06 15:07:09.757 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-06 15:07:09.761 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-06 15:07:09.764 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-06 15:07:09.764 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-06 15:07:09.764 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-06 15:07:09.768 [com.alibaba.nacos.client.Worker.14] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-06-06 15:07:10.247 [nacos-grpc-client-executor-127.0.0.1-2073] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Receive server push request, request = NotifySubscriberRequest, requestId = 9
2025-06-06 15:07:10.255 [nacos-grpc-client-executor-127.0.0.1-2073] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-06 15:07:10.256 [nacos-grpc-client-executor-127.0.0.1-2073] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-06 15:07:10.260 [nacos-grpc-client-executor-127.0.0.1-2073] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Ack server push request, request = NotifySubscriberRequest, requestId = 9
2025-06-06 15:07:27.004 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-06 15:07:27.070 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 23764 (E:\桌面\iot-cloud-group2\iot-cloud-iot\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-06 15:07:27.072 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-06 15:07:27.127 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-06 15:07:27.127 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-06 15:07:28.958 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-06 15:07:28.964 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-06 15:07:29.020 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
2025-06-06 15:07:29.290 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-06 15:07:29.309 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-06 15:07:29.564 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=0c2755cb-574d-3bab-a96d-314862616c80
2025-06-06 15:07:30.958 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-06 15:07:30.961 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-06 15:07:30.967 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-06 15:07:30.980 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-06 15:07:30.982 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-06 15:07:30.983 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-06 15:07:31.073 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-06 15:07:31.073 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3943 ms
2025-06-06 15:07:31.559 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-06 15:07:32.232 [redisson-netty-2-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-06 15:07:32.313 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-06 15:07:32.628 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-06 15:07:32.790 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-06 15:07:33.138 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@7234db3
2025-06-06 15:07:33.141 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-06 15:07:33.141 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-06 15:07:33.141 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-06 15:07:34.790 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-06 15:07:36.594 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-06 15:07:38.485 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-06 15:07:38.487 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-06 15:07:38.487 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-06 15:07:38.487 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-06 15:07:38.487 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-06 15:07:38.487 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-06 15:07:38.487 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-06 15:07:38.488 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-06 15:07:38.488 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-06 15:07:38.860 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-06 15:07:38.861 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-06 15:07:38.874 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-06 15:07:38.886 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-06 15:07:38.886 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-06 15:07:38.887 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-06 15:07:38.894 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-06 15:07:38.900 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-06 15:07:38.900 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-06 15:07:38.978 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of a730f9b5-8fd2-4e8f-8a66-7b190250932c
2025-06-06 15:07:38.982 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->a730f9b5-8fd2-4e8f-8a66-7b190250932c
2025-06-06 15:07:38.982 [main] INFO  com.alibaba.nacos.common.remote.client - [a730f9b5-8fd2-4e8f-8a66-7b190250932c] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-06 15:07:38.982 [main] INFO  com.alibaba.nacos.common.remote.client - [a730f9b5-8fd2-4e8f-8a66-7b190250932c] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-06 15:07:38.982 [main] INFO  com.alibaba.nacos.common.remote.client - [a730f9b5-8fd2-4e8f-8a66-7b190250932c] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-06 15:07:38.983 [main] INFO  com.alibaba.nacos.common.remote.client - [a730f9b5-8fd2-4e8f-8a66-7b190250932c] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-06 15:07:38.983 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-06 15:07:39.000 [main] INFO  com.alibaba.nacos.common.remote.client - [a730f9b5-8fd2-4e8f-8a66-7b190250932c] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749193658988_127.0.0.1_64829
2025-06-06 15:07:39.000 [main] INFO  com.alibaba.nacos.common.remote.client - [a730f9b5-8fd2-4e8f-8a66-7b190250932c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-06 15:07:39.000 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [a730f9b5-8fd2-4e8f-8a66-7b190250932c] Notify connected event to listeners.
2025-06-06 15:07:39.000 [main] INFO  com.alibaba.nacos.common.remote.client - [a730f9b5-8fd2-4e8f-8a66-7b190250932c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801026fd8
2025-06-06 15:07:39.000 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-06 15:07:39.002 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-06 15:07:39.015 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.221.62:8083 register finished
2025-06-06 15:07:39.546 [nacos-grpc-client-executor-127.0.0.1-2087] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Receive server push request, request = NotifySubscriberRequest, requestId = 10
2025-06-06 15:07:39.546 [nacos-grpc-client-executor-127.0.0.1-2087] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-06 15:07:39.546 [nacos-grpc-client-executor-127.0.0.1-2087] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-06 15:07:39.548 [nacos-grpc-client-executor-127.0.0.1-2087] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Ack server push request, request = NotifySubscriberRequest, requestId = 10
2025-06-06 15:07:39.572 [main] INFO  top.dl.IotApplication - Started IotApplication in 16.3 seconds (process running for 18.657)
2025-06-06 15:07:39.585 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-06 15:07:39.586 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-06 15:07:39.589 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-06 15:07:39.604 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 15:07:39.605 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-06 15:07:39.608 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-06 15:07:39.608 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 15:07:39.609 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-06 15:07:40.146 [RMI TCP Connection(7)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 15:07:40.146 [RMI TCP Connection(7)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-06 15:07:40.150 [RMI TCP Connection(7)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-06-06 15:08:32.975 [http-nio-8083-exec-1] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 390 ms
2025-06-06 15:16:36.079 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-06 15:16:36.080 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-user with instance: Instance{instanceId='null', ip='10.20.221.62', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-06 15:16:36.099 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-06 15:16:36.101 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-06 15:16:36.101 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-06 15:16:36.101 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-06 15:16:36.101 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-06 15:16:36.101 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-06 15:16:36.102 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-06 15:16:36.102 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-06 15:16:36.102 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-06 15:16:36.102 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-06 15:16:36.102 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-06 15:16:36.104 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-06 15:16:36.104 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->7d4d1938-415e-40b1-a912-8bb526c88dfb
2025-06-06 15:16:36.104 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@22d00b63[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1824]
2025-06-06 15:16:36.104 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-06 15:16:36.104 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@56e765a[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-06 15:16:36.104 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749188720712_127.0.0.1_53851
2025-06-06 15:16:36.106 [nacos-grpc-client-executor-127.0.0.1-1065] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749188720712_127.0.0.1_53851]Ignore complete event,isRunning:false,isAbandon=false
2025-06-06 15:16:36.122 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@70cc627d[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 1066]
2025-06-06 15:16:36.122 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->7d4d1938-415e-40b1-a912-8bb526c88dfb
2025-06-06 15:16:36.123 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-06 15:16:36.123 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-06 15:16:36.123 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-06 15:16:36.131 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-06 15:16:36.136 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-06 15:16:36.142 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-06 15:16:36.142 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-06 15:16:36.142 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-06 15:16:36.611 [nacos-grpc-client-executor-127.0.0.1-2311] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Receive server push request, request = NotifySubscriberRequest, requestId = 11
2025-06-06 15:16:36.613 [nacos-grpc-client-executor-127.0.0.1-2311] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.221.62#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.221.62","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-06 15:16:36.613 [nacos-grpc-client-executor-127.0.0.1-2311] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-06 15:16:36.614 [nacos-grpc-client-executor-127.0.0.1-2311] INFO  com.alibaba.nacos.common.remote.client - [956338f1-d343-4427-aa3b-3b7b0f70e5c8] Ack server push request, request = NotifySubscriberRequest, requestId = 11
2025-06-06 15:16:37.569 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-06 15:16:37.569 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-gateway with instance: Instance{instanceId='null', ip='10.20.221.62', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-06 15:16:37.587 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-06 15:16:37.588 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-06 15:16:37.589 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-06 15:16:37.589 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-06 15:16:37.589 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-06 15:16:37.589 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-06 15:16:37.589 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-06 15:16:37.589 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-06 15:16:37.589 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-06 15:16:37.590 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-06 15:16:37.590 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-06 15:16:37.590 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-06 15:16:37.590 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->956338f1-d343-4427-aa3b-3b7b0f70e5c8
2025-06-06 15:16:37.590 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@3801adc9[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1849]
2025-06-06 15:16:37.590 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-06 15:16:37.590 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7e126be[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-06 15:16:37.590 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749188649091_127.0.0.1_53570
2025-06-06 15:16:37.592 [nacos-grpc-client-executor-127.0.0.1-2313] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749188649091_127.0.0.1_53570]Ignore complete event,isRunning:false,isAbandon=false
2025-06-06 15:16:37.601 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@43149155[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 2320]
2025-06-06 15:16:37.601 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->956338f1-d343-4427-aa3b-3b7b0f70e5c8
2025-06-06 15:16:37.602 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-06 15:16:37.602 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-06 15:16:37.602 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-06 15:16:41.059 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-06 15:16:41.059 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-06 15:16:41.059 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-06 15:16:41.060 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-06 15:16:41.060 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-06 15:16:41.060 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-06 15:16:41.060 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-06 15:16:41.060 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-06 15:16:41.060 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-06 15:16:41.060 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-06 15:16:41.064 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-06 15:16:41.065 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-06 15:16:41.069 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-06 15:16:41.069 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-06 15:16:41.070 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-06 15:16:41.071 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-06 15:16:41.071 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-06 15:16:41.071 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-06 15:16:41.071 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-06 15:16:41.071 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-06 15:16:41.071 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-06 15:16:41.071 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-06 15:16:41.071 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-06 15:16:41.072 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-06 15:16:41.072 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->a730f9b5-8fd2-4e8f-8a66-7b190250932c
2025-06-06 15:16:41.072 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@6354ec7e[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 180]
2025-06-06 15:16:41.072 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-06 15:16:41.072 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@a547773[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-06 15:16:41.072 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749193658988_127.0.0.1_64829
2025-06-06 15:16:41.073 [nacos-grpc-client-executor-127.0.0.1-117] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749193658988_127.0.0.1_64829]Ignore complete event,isRunning:false,isAbandon=false
2025-06-06 15:16:41.077 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@5fbba040[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 118]
2025-06-06 15:16:41.077 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->a730f9b5-8fd2-4e8f-8a66-7b190250932c
2025-06-06 15:16:41.078 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-06 15:16:41.078 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-06 15:16:41.078 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-06 15:16:41.083 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-06 15:16:41.085 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-06 15:16:41.093 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-06 15:16:41.093 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-06 15:16:41.093 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-06 17:37:06.572 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-06 17:37:06.618 [main] INFO  top.dl.GatewayApplication - Starting GatewayApplication using Java 17.0.6 with PID 31956 (E:\桌面\iot-cloud-group2\iot-cloud-gateway\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-06 17:37:06.620 [main] INFO  top.dl.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-06 17:37:06.663 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-06 17:37:06.663 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-06 17:37:07.785 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=bb97293c-5f9d-33e2-bb2b-9bc2013db92c
2025-06-06 17:37:10.539 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-06-06 17:37:10.539 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-06-06 17:37:10.539 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-06-06 17:37:10.539 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-06-06 17:37:10.539 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-06-06 17:37:10.539 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-06-06 17:37:10.539 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-06-06 17:37:10.539 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-06-06 17:37:10.540 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-06-06 17:37:10.540 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-06-06 17:37:10.540 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-06-06 17:37:10.540 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-06-06 17:37:10.540 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-06-06 17:37:10.540 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-06-06 17:37:10.830 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-06 17:37:11.451 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer - Netty started on port 8080 (http)
2025-06-06 17:37:12.449 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-06 17:37:12.449 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-06 17:37:12.450 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-06 17:37:12.456 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-06 17:37:12.460 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-06 17:37:12.461 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-06 17:37:12.549 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of f6311cea-e3ad-4875-9991-e8c483176587
2025-06-06 17:37:12.551 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->f6311cea-e3ad-4875-9991-e8c483176587
2025-06-06 17:37:12.551 [main] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-06 17:37:12.551 [main] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-06 17:37:12.552 [main] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-06 17:37:12.552 [main] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-06 17:37:12.552 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-06 17:37:12.567 [main] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749202632559_127.0.0.1_57909
2025-06-06 17:37:12.568 [main] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-06 17:37:12.568 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Notify connected event to listeners.
2025-06-06 17:37:12.568 [main] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$438/0x000000080102e560
2025-06-06 17:37:12.568 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-06 17:37:12.569 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-gateway with instance Instance{instanceId='null', ip='10.20.221.62', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-06 17:37:12.585 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-gateway 10.20.221.62:8080 register finished
2025-06-06 17:37:12.645 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-06 17:37:12.645 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-06 17:37:12.645 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-06 17:37:12.645 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-06 17:37:12.657 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.221.62#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.221.62","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 17:37:12.657 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.221.62#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.221.62","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 17:37:12.668 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.221.62#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.221.62","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 17:37:12.668 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.221.62#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.221.62","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 17:37:12.724 [main] INFO  c.a.c.n.discovery.NacosDiscoveryHeartBeatPublisher - Start nacos heartBeat task scheduler.
2025-06-06 17:37:12.753 [main] INFO  top.dl.GatewayApplication - Started GatewayApplication in 9.076 seconds (process running for 10.305)
2025-06-06 17:37:12.769 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-06 17:37:12.770 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-06 17:37:12.772 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-06 17:37:12.774 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 17:37:12.774 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-06 17:37:12.777 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-06 17:37:12.777 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 17:37:12.777 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-06 17:37:13.135 [nacos-grpc-client-executor-127.0.0.1-9] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Receive server push request, request = NotifySubscriberRequest, requestId = 15
2025-06-06 17:37:13.136 [nacos-grpc-client-executor-127.0.0.1-9] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Ack server push request, request = NotifySubscriberRequest, requestId = 15
2025-06-06 17:37:19.761 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-06 17:37:19.826 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 30692 (E:\桌面\iot-cloud-group2\iot-cloud-iot\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-06 17:37:19.827 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-06 17:37:19.888 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-06 17:37:19.889 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-06 17:37:22.038 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-06 17:37:22.045 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-06 17:37:22.101 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 0 Redis repository interfaces.
2025-06-06 17:37:22.330 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-06 17:37:22.348 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-06 17:37:22.583 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=0c2755cb-574d-3bab-a96d-314862616c80
2025-06-06 17:37:23.933 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-06 17:37:23.937 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-06 17:37:23.943 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-06 17:37:23.954 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-06 17:37:23.957 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-06 17:37:23.957 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-06 17:37:24.048 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-06 17:37:24.049 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4157 ms
2025-06-06 17:37:24.412 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-06 17:37:25.032 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-06 17:37:25.116 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-06 17:37:25.435 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-06 17:37:25.601 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-06 17:37:25.877 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@2972b493
2025-06-06 17:37:25.881 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-06 17:37:25.881 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-06 17:37:25.881 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-06 17:37:25.886 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-06 17:37:25.966 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.6 with PID 35136 (E:\桌面\iot-cloud-group2\iot-cloud-user\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-06 17:37:25.968 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-06 17:37:26.029 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-06 17:37:26.029 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-06 17:37:27.538 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-06 17:37:27.812 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-06 17:37:27.816 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-06 17:37:27.871 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2025-06-06 17:37:28.261 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=6d782f41-ab7e-3806-aaa0-5bdcdd9b3fdc
2025-06-06 17:37:29.337 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-06 17:37:29.527 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-06 17:37:29.531 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-06 17:37:29.537 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-06 17:37:29.551 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-06 17:37:29.553 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-06 17:37:29.554 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-06 17:37:29.656 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-06 17:37:29.656 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3624 ms
2025-06-06 17:37:30.036 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-06 17:37:30.669 [redisson-netty-2-6] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-06 17:37:30.751 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-06 17:37:31.120 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-06 17:37:31.352 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-06 17:37:31.353 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-06 17:37:31.353 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-06 17:37:31.353 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-06 17:37:31.353 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-06 17:37:31.353 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-06 17:37:31.353 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-06 17:37:31.354 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-06 17:37:31.354 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-06 17:37:31.407 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@56c26b21
2025-06-06 17:37:31.409 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-06 17:37:31.411 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-06 17:37:31.411 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-06 17:37:31.741 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-06 17:37:31.741 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-06 17:37:31.755 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-06 17:37:31.762 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-06 17:37:31.762 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-06 17:37:31.762 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-06 17:37:31.769 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-06 17:37:31.776 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-06 17:37:31.776 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-06 17:37:31.850 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of c949d36d-cd34-4088-a8fc-229124a129d8
2025-06-06 17:37:31.852 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->c949d36d-cd34-4088-a8fc-229124a129d8
2025-06-06 17:37:31.853 [main] INFO  com.alibaba.nacos.common.remote.client - [c949d36d-cd34-4088-a8fc-229124a129d8] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-06 17:37:31.853 [main] INFO  com.alibaba.nacos.common.remote.client - [c949d36d-cd34-4088-a8fc-229124a129d8] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-06 17:37:31.853 [main] INFO  com.alibaba.nacos.common.remote.client - [c949d36d-cd34-4088-a8fc-229124a129d8] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-06 17:37:31.853 [main] INFO  com.alibaba.nacos.common.remote.client - [c949d36d-cd34-4088-a8fc-229124a129d8] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-06 17:37:31.854 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-06 17:37:31.865 [main] INFO  com.alibaba.nacos.common.remote.client - [c949d36d-cd34-4088-a8fc-229124a129d8] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749202651859_127.0.0.1_58047
2025-06-06 17:37:31.865 [main] INFO  com.alibaba.nacos.common.remote.client - [c949d36d-cd34-4088-a8fc-229124a129d8] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-06 17:37:31.865 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [c949d36d-cd34-4088-a8fc-229124a129d8] Notify connected event to listeners.
2025-06-06 17:37:31.865 [main] INFO  com.alibaba.nacos.common.remote.client - [c949d36d-cd34-4088-a8fc-229124a129d8] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801024800
2025-06-06 17:37:31.865 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-06 17:37:31.866 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-06 17:37:31.879 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.221.62:8083 register finished
2025-06-06 17:37:32.447 [main] INFO  top.dl.IotApplication - Started IotApplication in 15.865 seconds (process running for 17.332)
2025-06-06 17:37:32.459 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-06 17:37:32.459 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-06 17:37:32.461 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-06 17:37:32.473 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 17:37:32.473 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-06 17:37:32.475 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-06 17:37:32.475 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 17:37:32.475 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-06 17:37:32.629 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Found 2 AuthenticationProvider beans, with names [daoAuthenticationProvider, mobileAuthenticationProvider]. Global Authentication Manager will not be configured with AuthenticationProviders. Consider publishing a single AuthenticationProvider bean, or wiring your Providers directly using the DSL.
2025-06-06 17:37:32.630 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 17:37:32.848 [RMI TCP Connection(8)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 17:37:32.849 [RMI TCP Connection(8)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-06 17:37:32.852 [RMI TCP Connection(8)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-06-06 17:37:34.492 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-06 17:37:36.274 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-06-06 17:37:36.287 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-06-06 17:37:36.296 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-06 17:37:36.296 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-06 17:37:36.297 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-06 17:37:36.305 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-06 17:37:36.310 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-06 17:37:36.311 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-06 17:37:36.384 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of a34f678d-92b3-4e28-9f04-8701e42d8675
2025-06-06 17:37:36.387 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->a34f678d-92b3-4e28-9f04-8701e42d8675
2025-06-06 17:37:36.388 [main] INFO  com.alibaba.nacos.common.remote.client - [a34f678d-92b3-4e28-9f04-8701e42d8675] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-06 17:37:36.388 [main] INFO  com.alibaba.nacos.common.remote.client - [a34f678d-92b3-4e28-9f04-8701e42d8675] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-06 17:37:36.388 [main] INFO  com.alibaba.nacos.common.remote.client - [a34f678d-92b3-4e28-9f04-8701e42d8675] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-06 17:37:36.389 [main] INFO  com.alibaba.nacos.common.remote.client - [a34f678d-92b3-4e28-9f04-8701e42d8675] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-06 17:37:36.389 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-06 17:37:36.399 [main] INFO  com.alibaba.nacos.common.remote.client - [a34f678d-92b3-4e28-9f04-8701e42d8675] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749202656394_127.0.0.1_58067
2025-06-06 17:37:36.399 [main] INFO  com.alibaba.nacos.common.remote.client - [a34f678d-92b3-4e28-9f04-8701e42d8675] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-06 17:37:36.399 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [a34f678d-92b3-4e28-9f04-8701e42d8675] Notify connected event to listeners.
2025-06-06 17:37:36.399 [main] INFO  com.alibaba.nacos.common.remote.client - [a34f678d-92b3-4e28-9f04-8701e42d8675] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000800ff5228
2025-06-06 17:37:36.399 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-06 17:37:36.402 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-user with instance Instance{instanceId='null', ip='10.20.221.62', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-06 17:37:36.412 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-user 10.20.221.62:8082 register finished
2025-06-06 17:37:36.894 [main] INFO  top.dl.UserApplication - Started UserApplication in 14.51 seconds (process running for 16.206)
2025-06-06 17:37:36.905 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-06 17:37:36.905 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-06 17:37:36.908 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-06 17:37:36.922 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 17:37:36.922 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-06 17:37:36.924 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-06 17:37:36.925 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 17:37:36.925 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-06 17:37:37.278 [RMI TCP Connection(4)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 17:37:37.278 [RMI TCP Connection(4)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-06 17:37:37.280 [RMI TCP Connection(4)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-06 17:37:42.742 [boundedElastic-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-06 17:37:42.743 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-06 17:37:42.743 [boundedElastic-2] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-06 17:37:42.743 [boundedElastic-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-06 17:37:42.743 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-06 17:37:42.743 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-06 17:37:42.743 [boundedElastic-1] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-06 17:37:42.743 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-06 17:37:42.748 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.221.62#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.221.62","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 17:37:42.750 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.221.62#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.221.62","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 17:37:42.750 [boundedElastic-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 17:37:42.750 [boundedElastic-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 17:37:43.263 [nacos-grpc-client-executor-127.0.0.1-53] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Receive server push request, request = NotifySubscriberRequest, requestId = 16
2025-06-06 17:37:43.264 [nacos-grpc-client-executor-127.0.0.1-53] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Ack server push request, request = NotifySubscriberRequest, requestId = 16
2025-06-06 17:37:43.266 [nacos-grpc-client-executor-127.0.0.1-54] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Receive server push request, request = NotifySubscriberRequest, requestId = 17
2025-06-06 17:37:43.267 [nacos-grpc-client-executor-127.0.0.1-54] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Ack server push request, request = NotifySubscriberRequest, requestId = 17
2025-06-06 17:37:49.496 [http-nio-8083-exec-1] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 383 ms
2025-06-06 17:37:54.198 [http-nio-8082-exec-5] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 357 ms
2025-06-06 17:38:08.564 [http-nio-8082-exec-2] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDkzNzU0ODcsImlhdCI6MTc0OTIwMjY4NywidXNlcklkIjoxfQ.ujgpqXdB_wEU2fSPuCm6dvfty7z8rPO7GpMzleRU6Tg
2025-06-06 17:56:06.953 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-06 17:56:06.955 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-06 17:56:06.955 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-06 17:56:06.955 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-06 17:56:06.955 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-06 17:56:06.955 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-06 17:56:06.955 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-06 17:56:06.955 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-06 17:56:06.955 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-06 17:56:06.955 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-06 17:56:06.960 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-06 17:56:06.960 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-06 17:56:06.965 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-06 17:56:06.966 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-06 17:56:06.966 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-06 17:56:06.966 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-06 17:56:06.966 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-06 17:56:06.966 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-06 17:56:06.966 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-06 17:56:06.966 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-06 17:56:06.966 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-06 17:56:06.967 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-06 17:56:06.967 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-06 17:56:06.967 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-06 17:56:06.967 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->c949d36d-cd34-4088-a8fc-229124a129d8
2025-06-06 17:56:06.967 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@62a594b2[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 371]
2025-06-06 17:56:06.967 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-06 17:56:06.967 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@3fb0a52d[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-06 17:56:06.967 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749202651859_127.0.0.1_58047
2025-06-06 17:56:06.969 [nacos-grpc-client-executor-127.0.0.1-227] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749202651859_127.0.0.1_58047]Ignore complete event,isRunning:false,isAbandon=false
2025-06-06 17:56:06.976 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@52918b07[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 228]
2025-06-06 17:56:06.976 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->c949d36d-cd34-4088-a8fc-229124a129d8
2025-06-06 17:56:06.976 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-06 17:56:06.977 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-06 17:56:06.977 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-06 17:56:06.980 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-06 17:56:06.982 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-06 17:56:06.990 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-06 17:56:06.990 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-06 17:56:06.990 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-06 17:56:07.488 [nacos-grpc-client-executor-127.0.0.1-539] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Receive server push request, request = NotifySubscriberRequest, requestId = 18
2025-06-06 17:56:07.489 [nacos-grpc-client-executor-127.0.0.1-539] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 17:56:07.489 [nacos-grpc-client-executor-127.0.0.1-539] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-06 17:56:07.492 [nacos-grpc-client-executor-127.0.0.1-539] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Ack server push request, request = NotifySubscriberRequest, requestId = 18
2025-06-06 17:56:17.640 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-06 17:56:17.717 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 22548 (E:\桌面\iot-cloud-group2\iot-cloud-iot\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-06 17:56:17.719 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-06 17:56:17.784 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-06 17:56:17.784 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-06 17:56:19.487 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-06 17:56:19.491 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-06 17:56:19.540 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2025-06-06 17:56:19.752 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-06 17:56:19.766 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-06 17:56:19.982 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=0c2755cb-574d-3bab-a96d-314862616c80
2025-06-06 17:56:21.224 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-06 17:56:21.227 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-06 17:56:21.233 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-06 17:56:21.245 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-06 17:56:21.247 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-06 17:56:21.248 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-06 17:56:21.340 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-06 17:56:21.340 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3552 ms
2025-06-06 17:56:21.690 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-06 17:56:22.278 [redisson-netty-2-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-06 17:56:22.358 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-06 17:56:22.693 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-06 17:56:22.854 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-06 17:56:23.169 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c32aa7e
2025-06-06 17:56:23.173 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-06 17:56:23.174 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-06 17:56:23.175 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-06 17:56:24.754 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-06 17:56:26.512 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-06 17:56:28.297 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-06 17:56:28.298 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-06 17:56:28.298 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-06 17:56:28.298 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-06 17:56:28.298 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-06 17:56:28.298 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-06 17:56:28.299 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-06 17:56:28.299 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-06 17:56:28.299 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-06 17:56:28.672 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-06 17:56:28.672 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-06 17:56:28.686 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-06 17:56:28.693 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-06 17:56:28.693 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-06 17:56:28.693 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-06 17:56:28.700 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-06 17:56:28.706 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-06 17:56:28.706 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-06 17:56:28.782 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 60859d8c-bc04-48db-98e1-9f2efc74dd70
2025-06-06 17:56:28.785 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->60859d8c-bc04-48db-98e1-9f2efc74dd70
2025-06-06 17:56:28.785 [main] INFO  com.alibaba.nacos.common.remote.client - [60859d8c-bc04-48db-98e1-9f2efc74dd70] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-06 17:56:28.785 [main] INFO  com.alibaba.nacos.common.remote.client - [60859d8c-bc04-48db-98e1-9f2efc74dd70] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-06 17:56:28.786 [main] INFO  com.alibaba.nacos.common.remote.client - [60859d8c-bc04-48db-98e1-9f2efc74dd70] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-06 17:56:28.786 [main] INFO  com.alibaba.nacos.common.remote.client - [60859d8c-bc04-48db-98e1-9f2efc74dd70] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-06 17:56:28.786 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-06 17:56:28.797 [main] INFO  com.alibaba.nacos.common.remote.client - [60859d8c-bc04-48db-98e1-9f2efc74dd70] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749203788791_127.0.0.1_50834
2025-06-06 17:56:28.798 [main] INFO  com.alibaba.nacos.common.remote.client - [60859d8c-bc04-48db-98e1-9f2efc74dd70] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-06 17:56:28.798 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [60859d8c-bc04-48db-98e1-9f2efc74dd70] Notify connected event to listeners.
2025-06-06 17:56:28.798 [main] INFO  com.alibaba.nacos.common.remote.client - [60859d8c-bc04-48db-98e1-9f2efc74dd70] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801024800
2025-06-06 17:56:28.798 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-06 17:56:28.800 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-06 17:56:28.810 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.221.62:8083 register finished
2025-06-06 17:56:29.356 [main] INFO  top.dl.IotApplication - Started IotApplication in 14.982 seconds (process running for 16.358)
2025-06-06 17:56:29.360 [nacos-grpc-client-executor-127.0.0.1-550] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Receive server push request, request = NotifySubscriberRequest, requestId = 19
2025-06-06 17:56:29.360 [nacos-grpc-client-executor-127.0.0.1-550] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 17:56:29.362 [nacos-grpc-client-executor-127.0.0.1-550] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 17:56:29.363 [nacos-grpc-client-executor-127.0.0.1-550] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Ack server push request, request = NotifySubscriberRequest, requestId = 19
2025-06-06 17:56:29.369 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-06 17:56:29.369 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-06 17:56:29.371 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-06 17:56:29.388 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 17:56:29.388 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-06 17:56:29.392 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-06 17:56:29.392 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 17:56:29.392 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-06 17:56:29.835 [RMI TCP Connection(9)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 17:56:29.836 [RMI TCP Connection(9)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-06 17:56:29.838 [RMI TCP Connection(9)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-06 17:56:51.601 [http-nio-8083-exec-1] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 372 ms
2025-06-06 17:56:56.616 [http-nio-8082-exec-9] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDkzNzY2MTYsImlhdCI6MTc0OTIwMzgxNiwidXNlcklkIjoxfQ.B02Hk7PjPZI9KfFYA221GiofRZCF_uDkjmel-hwIBn4
2025-06-06 17:57:25.035 [http-nio-8083-exec-4] INFO  top.dl.service.impl.SceneServiceImpl - list:[SceneVO(id=1, userId=2, name=123, description=123, type=1, devices=[], tenantId=1, createTime=2025-06-06T17:39:01, updateTime=2025-06-06T17:39:01)]
2025-06-06 18:00:30.153 [http-nio-8083-exec-6] INFO  top.dl.service.impl.SceneServiceImpl - list:[SceneVO(id=1, userId=2, name=123, description=123, type=1, devices=[], tenantId=1, createTime=2025-06-06T17:39:01, updateTime=2025-06-06T17:39:01)]
2025-06-06 18:06:32.629 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-06 18:06:32.630 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-06 18:06:32.630 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-06 18:06:32.630 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-06 18:06:32.630 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-06 18:06:32.630 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-06 18:06:32.630 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-06 18:06:32.630 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-06 18:06:32.630 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-06 18:06:32.630 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-06 18:06:32.635 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-06 18:06:32.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-06 18:06:32.639 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-06 18:06:32.640 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-06 18:06:32.641 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-06 18:06:32.641 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-06 18:06:32.641 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-06 18:06:32.641 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-06 18:06:32.641 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-06 18:06:32.641 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-06 18:06:32.641 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-06 18:06:32.641 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-06 18:06:32.641 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-06 18:06:32.642 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-06 18:06:32.642 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->60859d8c-bc04-48db-98e1-9f2efc74dd70
2025-06-06 18:06:32.642 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@6604b23d[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 201]
2025-06-06 18:06:32.642 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-06 18:06:32.642 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@15101bd[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-06 18:06:32.642 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749203788791_127.0.0.1_50834
2025-06-06 18:06:32.647 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@62e7e488[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 126]
2025-06-06 18:06:32.647 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->60859d8c-bc04-48db-98e1-9f2efc74dd70
2025-06-06 18:06:32.648 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-06 18:06:32.648 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-06 18:06:32.648 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-06 18:06:32.651 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-06 18:06:32.654 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-06 18:06:32.660 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-06 18:06:32.660 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-06 18:06:32.660 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-06 18:06:33.244 [nacos-grpc-client-executor-127.0.0.1-801] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Receive server push request, request = NotifySubscriberRequest, requestId = 20
2025-06-06 18:06:33.244 [nacos-grpc-client-executor-127.0.0.1-801] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 18:06:33.245 [nacos-grpc-client-executor-127.0.0.1-801] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-06 18:06:33.246 [nacos-grpc-client-executor-127.0.0.1-801] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Ack server push request, request = NotifySubscriberRequest, requestId = 20
2025-06-06 18:06:39.044 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-06 18:06:39.104 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.6 with PID 35360 (E:\桌面\iot-cloud-group2\iot-cloud-iot\target\classes started by tyx in E:\桌面\iot-cloud-group2)
2025-06-06 18:06:39.106 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-06 18:06:39.155 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-06 18:06:39.156 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-06 18:06:40.691 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-06 18:06:40.696 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-06 18:06:40.747 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-06-06 18:06:40.956 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-06 18:06:40.968 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-06 18:06:41.174 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=0c2755cb-574d-3bab-a96d-314862616c80
2025-06-06 18:06:42.369 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-06 18:06:42.372 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-06 18:06:42.377 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-06 18:06:42.388 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-06 18:06:42.390 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-06 18:06:42.390 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-06 18:06:42.477 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-06 18:06:42.478 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3319 ms
2025-06-06 18:06:42.832 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-06 18:06:43.393 [redisson-netty-2-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2025-06-06 18:06:43.466 [redisson-netty-2-20] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for localhost/127.0.0.1:6379
2025-06-06 18:06:43.782 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-06 18:06:43.934 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-06 18:06:44.179 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@418f0f27
2025-06-06 18:06:44.183 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-06 18:06:44.184 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-06 18:06:44.184 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-06 18:06:45.662 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-06 18:06:47.348 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-06 18:06:49.159 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-06 18:06:49.159 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-06 18:06:49.160 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-06 18:06:49.160 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-06 18:06:49.160 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-06 18:06:49.160 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-06 18:06:49.160 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-06 18:06:49.160 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-06 18:06:49.160 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-06 18:06:49.525 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-06 18:06:49.526 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-06 18:06:49.537 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-06 18:06:49.545 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-06 18:06:49.546 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-06 18:06:49.546 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-06 18:06:49.553 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-06 18:06:49.557 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-06 18:06:49.557 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-06 18:06:49.635 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 5b58731e-09ca-480e-a710-6bcbcf810a0d
2025-06-06 18:06:49.639 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->5b58731e-09ca-480e-a710-6bcbcf810a0d
2025-06-06 18:06:49.639 [main] INFO  com.alibaba.nacos.common.remote.client - [5b58731e-09ca-480e-a710-6bcbcf810a0d] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-06 18:06:49.639 [main] INFO  com.alibaba.nacos.common.remote.client - [5b58731e-09ca-480e-a710-6bcbcf810a0d] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-06 18:06:49.640 [main] INFO  com.alibaba.nacos.common.remote.client - [5b58731e-09ca-480e-a710-6bcbcf810a0d] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-06 18:06:49.641 [main] INFO  com.alibaba.nacos.common.remote.client - [5b58731e-09ca-480e-a710-6bcbcf810a0d] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-06 18:06:49.641 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-06 18:06:49.654 [main] INFO  com.alibaba.nacos.common.remote.client - [5b58731e-09ca-480e-a710-6bcbcf810a0d] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749204409647_127.0.0.1_55242
2025-06-06 18:06:49.654 [main] INFO  com.alibaba.nacos.common.remote.client - [5b58731e-09ca-480e-a710-6bcbcf810a0d] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-06 18:06:49.654 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [5b58731e-09ca-480e-a710-6bcbcf810a0d] Notify connected event to listeners.
2025-06-06 18:06:49.654 [main] INFO  com.alibaba.nacos.common.remote.client - [5b58731e-09ca-480e-a710-6bcbcf810a0d] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000000801025a70
2025-06-06 18:06:49.654 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-06 18:06:49.656 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-06 18:06:49.666 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.221.62:8083 register finished
2025-06-06 18:06:50.164 [main] INFO  top.dl.IotApplication - Started IotApplication in 14.105 seconds (process running for 15.585)
2025-06-06 18:06:50.175 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-06 18:06:50.175 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-06 18:06:50.177 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-06 18:06:50.186 [nacos-grpc-client-executor-127.0.0.1-813] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Receive server push request, request = NotifySubscriberRequest, requestId = 21
2025-06-06 18:06:50.186 [nacos-grpc-client-executor-127.0.0.1-813] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 18:06:50.187 [nacos-grpc-client-executor-127.0.0.1-813] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.221.62#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.221.62","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 18:06:50.188 [nacos-grpc-client-executor-127.0.0.1-813] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Ack server push request, request = NotifySubscriberRequest, requestId = 21
2025-06-06 18:06:50.189 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 18:06:50.191 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-06 18:06:50.193 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-06 18:06:50.193 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-06 18:06:50.193 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-06 18:06:50.309 [RMI TCP Connection(1)-26.148.247.186] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 18:06:50.309 [RMI TCP Connection(1)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-06 18:06:50.312 [RMI TCP Connection(1)-26.148.247.186] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-06-06 18:07:24.604 [http-nio-8083-exec-1] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 378 ms
2025-06-06 18:07:27.106 [http-nio-8083-exec-2] INFO  top.dl.service.impl.SceneServiceImpl - list:[SceneVO(id=1, userId=2, name=123, description=123, type=1, devices=[DeviceVO(id=85, deviceId=dev_ECFABCCA030B_12, name=蜂鸣器, type=3, status=0, isSwitched=null, temperature=null, humidity=null, createTime=null), DeviceVO(id=82, deviceId=dev_ECFABCCA030B_0, name=nam, type=1, status=1, isSwitched=null, temperature=null, humidity=null, createTime=null)], tenantId=1, createTime=2025-06-06T17:39:01, updateTime=2025-06-06T17:39:01)]
2025-06-06 18:08:21.453 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-06 18:08:21.453 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-user with instance: Instance{instanceId='null', ip='10.20.221.62', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-06 18:08:21.459 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-06 18:08:21.460 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-06 18:08:21.460 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-06 18:08:21.460 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-06 18:08:21.460 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-06 18:08:21.460 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-06 18:08:21.462 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-06 18:08:21.462 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-06 18:08:21.462 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-06 18:08:21.462 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-06 18:08:21.462 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-06 18:08:21.462 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-06 18:08:21.462 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->a34f678d-92b3-4e28-9f04-8701e42d8675
2025-06-06 18:08:21.463 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@9bdcd0e[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 614]
2025-06-06 18:08:21.463 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-06 18:08:21.463 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@761df6fc[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-06 18:08:21.463 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749202656394_127.0.0.1_58067
2025-06-06 18:08:21.464 [nacos-grpc-client-executor-127.0.0.1-371] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749202656394_127.0.0.1_58067]Ignore complete event,isRunning:false,isAbandon=false
2025-06-06 18:08:21.470 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@49630992[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 372]
2025-06-06 18:08:21.470 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->a34f678d-92b3-4e28-9f04-8701e42d8675
2025-06-06 18:08:21.471 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-06 18:08:21.471 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-06 18:08:21.471 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-06 18:08:21.477 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-06 18:08:21.481 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-06 18:08:21.484 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-06 18:08:21.484 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-06 18:08:21.484 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-06 18:08:21.974 [nacos-grpc-client-executor-127.0.0.1-849] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Receive server push request, request = NotifySubscriberRequest, requestId = 22
2025-06-06 18:08:21.974 [nacos-grpc-client-executor-127.0.0.1-849] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.221.62#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.221.62","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-06 18:08:21.974 [nacos-grpc-client-executor-127.0.0.1-849] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-user -> []
2025-06-06 18:08:21.977 [nacos-grpc-client-executor-127.0.0.1-849] INFO  com.alibaba.nacos.common.remote.client - [f6311cea-e3ad-4875-9991-e8c483176587] Ack server push request, request = NotifySubscriberRequest, requestId = 22
2025-06-06 18:08:22.956 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-06 18:08:22.956 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-gateway with instance: Instance{instanceId='null', ip='10.20.221.62', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-06 18:08:22.960 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-06 18:08:22.961 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-06 18:08:22.961 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-06 18:08:22.961 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->f6311cea-e3ad-4875-9991-e8c483176587
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@45281bf9[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 623]
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1c1915ae[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-06 18:08:22.962 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749202632559_127.0.0.1_57909
2025-06-06 18:08:22.963 [nacos-grpc-client-executor-127.0.0.1-851] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749202632559_127.0.0.1_57909]Ignore complete event,isRunning:false,isAbandon=false
2025-06-06 18:08:22.967 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@7bfabfd6[Running, pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 864]
2025-06-06 18:08:22.967 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->f6311cea-e3ad-4875-9991-e8c483176587
2025-06-06 18:08:22.968 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-06 18:08:22.968 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-06 18:08:22.968 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-06 18:08:26.497 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-06 18:08:26.497 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-06 18:08:26.497 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-06 18:08:26.497 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-06 18:08:26.497 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-06 18:08:26.497 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-06 18:08:26.499 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-06 18:08:26.499 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-06 18:08:26.499 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-06 18:08:26.499 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-06 18:08:26.503 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-06 18:08:26.503 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.221.62', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-06 18:08:26.508 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->5b58731e-09ca-480e-a710-6bcbcf810a0d
2025-06-06 18:08:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@22a5b02c[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 32]
2025-06-06 18:08:26.510 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-06 18:08:26.510 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5c93f2a7[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-06 18:08:26.510 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749204409647_127.0.0.1_55242
2025-06-06 18:08:26.511 [nacos-grpc-client-executor-127.0.0.1-28] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749204409647_127.0.0.1_55242]Ignore complete event,isRunning:false,isAbandon=false
2025-06-06 18:08:26.516 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@19b86d84[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 29]
2025-06-06 18:08:26.516 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->5b58731e-09ca-480e-a710-6bcbcf810a0d
2025-06-06 18:08:26.517 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-06 18:08:26.517 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-06 18:08:26.517 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-06 18:08:26.521 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-06 18:08:26.524 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-06 18:08:26.530 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-06 18:08:26.530 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-06 18:08:26.530 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
