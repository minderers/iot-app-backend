2025-06-12 10:20:41.267 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-12 10:20:41.309 [main] INFO  top.dl.GatewayApplication - Starting GatewayApplication using Java 17.0.8 with PID 18388 (D:\后端工程化2\iot-cloud-group2\iot-cloud-gateway\target\classes started by minderers in D:\后端工程化2\iot-cloud-group2)
2025-06-12 10:20:41.309 [main] INFO  top.dl.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-12 10:20:41.349 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:20:41.349 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:20:42.213 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=bb97293c-5f9d-33e2-bb2b-9bc2013db92c
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-06-12 10:20:43.244 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-06-12 10:20:43.496 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-12 10:20:43.844 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer - Netty started on port 8080 (http)
2025-06-12 10:20:44.128 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-12 10:20:44.128 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-12 10:20:44.128 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-12 10:20:44.140 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-12 10:20:44.142 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-12 10:20:44.144 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-12 10:20:44.239 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1
2025-06-12 10:20:44.239 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1
2025-06-12 10:20:44.239 [main] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-12 10:20:44.239 [main] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-12 10:20:44.239 [main] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-12 10:20:44.239 [main] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-12 10:20:44.239 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-12 10:20:44.260 [main] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749694844251_127.0.0.1_53921
2025-06-12 10:20:44.260 [main] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-12 10:20:44.260 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Notify connected event to listeners.
2025-06-12 10:20:44.260 [main] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$426/0x000001832a3dcc40
2025-06-12 10:20:44.260 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-12 10:20:44.260 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-gateway with instance Instance{instanceId='null', ip='10.20.10.229', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-12 10:20:44.288 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-gateway 10.20.10.229:8080 register finished
2025-06-12 10:20:44.349 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:20:44.349 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:20:44.349 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:20:44.349 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:20:44.389 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.10.229#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.10.229","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:20:44.389 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.10.229#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.10.229","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:20:44.403 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.10.229#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.10.229","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:20:44.403 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.10.229#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.10.229","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:20:44.460 [main] INFO  c.a.c.n.discovery.NacosDiscoveryHeartBeatPublisher - Start nacos heartBeat task scheduler.
2025-06-12 10:20:44.490 [main] INFO  top.dl.GatewayApplication - Started GatewayApplication in 5.122 seconds (process running for 9.285)
2025-06-12 10:20:44.490 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-12 10:20:44.490 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-12 10:20:44.490 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-12 10:20:44.490 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:20:44.490 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-12 10:20:44.506 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-12 10:20:44.506 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:20:44.506 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-12 10:20:44.811 [nacos-grpc-client-executor-127.0.0.1-44] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Receive server push request, request = NotifySubscriberRequest, requestId = 1
2025-06-12 10:20:44.827 [nacos-grpc-client-executor-127.0.0.1-44] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Ack server push request, request = NotifySubscriberRequest, requestId = 1
2025-06-12 10:20:46.104 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-12 10:20:46.150 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.8 with PID 12080 (D:\后端工程化2\iot-cloud-group2\iot-cloud-iot\target\classes started by minderers in D:\后端工程化2\iot-cloud-group2)
2025-06-12 10:20:46.151 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-12 10:20:46.193 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:20:46.193 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:20:46.847 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-12 10:20:51.539 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-12 10:20:51.583 [main] INFO  top.dl.UserApplication - Starting UserApplication using Java 17.0.8 with PID 15520 (D:\后端工程化2\iot-cloud-group2\iot-cloud-user\target\classes started by minderers in D:\后端工程化2\iot-cloud-group2)
2025-06-12 10:20:51.585 [main] INFO  top.dl.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-12 10:20:51.625 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:20:51.625 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:20:52.679 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-12 10:20:52.682 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-12 10:20:52.708 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-06-12 10:20:52.919 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=15b4cf50-7807-3b0c-8484-9c980d4eab5f
2025-06-12 10:20:53.395 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-12 10:20:53.450 [main] INFO  top.dl.ContentApplication - Starting ContentApplication using Java 17.0.8 with PID 29956 (D:\后端工程化2\iot-cloud-group2\iot-cloud-content\target\classes started by minderers in D:\后端工程化2\iot-cloud-group2)
2025-06-12 10:20:53.451 [main] INFO  top.dl.ContentApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-12 10:20:53.502 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:20:53.503 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:20:53.785 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-06-12 10:20:53.788 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-12 10:20:53.792 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-12 10:20:53.800 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8082"]
2025-06-12 10:20:53.801 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-12 10:20:53.802 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-12 10:20:53.857 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-12 10:20:53.858 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2230 ms
2025-06-12 10:20:54.083 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-12 10:20:54.325 [redisson-netty-2-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-06-12 10:20:54.400 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-06-12 10:20:54.526 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-12 10:20:54.528 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-12 10:20:54.550 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-06-12 10:20:54.616 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-12 10:20:54.792 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4cd02779-edee-334a-90cf-ec937e525064
2025-06-12 10:20:54.803 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@318ca53a
2025-06-12 10:20:54.804 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-12 10:20:54.805 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-12 10:20:54.805 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-12 10:20:55.493 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-06-12 10:20:55.496 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-12 10:20:55.499 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-12 10:20:55.507 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-06-12 10:20:55.508 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Found 2 AuthenticationProvider beans, with names [daoAuthenticationProvider, mobileAuthenticationProvider]. Global Authentication Manager will not be configured with AuthenticationProviders. Consider publishing a single AuthenticationProvider bean, or wiring your Providers directly using the DSL.
2025-06-12 10:20:55.509 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-12 10:20:55.509 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-12 10:20:55.509 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-12 10:20:55.571 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-12 10:20:55.571 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2066 ms
2025-06-12 10:20:55.811 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-12 10:20:56.035 [redisson-netty-2-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-06-12 10:20:56.102 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-06-12 10:20:56.240 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-12 10:20:56.308 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-12 10:20:56.477 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f959640
2025-06-12 10:20:56.478 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-12 10:20:56.479 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-12 10:20:56.479 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-12 10:20:57.202 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-12 10:20:57.257 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8082"]
2025-06-12 10:20:57.266 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-06-12 10:20:57.271 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-12 10:20:57.272 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-12 10:20:57.272 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-12 10:20:57.276 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-12 10:20:57.279 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-12 10:20:57.280 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-12 10:20:57.372 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 6c5972ab-279d-44ab-bb7d-86ba82fbd91f
2025-06-12 10:20:57.372 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-12 10:20:57.375 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->6c5972ab-279d-44ab-bb7d-86ba82fbd91f
2025-06-12 10:20:57.375 [main] INFO  com.alibaba.nacos.common.remote.client - [6c5972ab-279d-44ab-bb7d-86ba82fbd91f] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-12 10:20:57.375 [main] INFO  com.alibaba.nacos.common.remote.client - [6c5972ab-279d-44ab-bb7d-86ba82fbd91f] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-12 10:20:57.375 [main] INFO  com.alibaba.nacos.common.remote.client - [6c5972ab-279d-44ab-bb7d-86ba82fbd91f] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-12 10:20:57.376 [main] INFO  com.alibaba.nacos.common.remote.client - [6c5972ab-279d-44ab-bb7d-86ba82fbd91f] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-12 10:20:57.376 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-12 10:20:57.389 [main] INFO  com.alibaba.nacos.common.remote.client - [6c5972ab-279d-44ab-bb7d-86ba82fbd91f] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749694857380_127.0.0.1_54025
2025-06-12 10:20:57.389 [main] INFO  com.alibaba.nacos.common.remote.client - [6c5972ab-279d-44ab-bb7d-86ba82fbd91f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-12 10:20:57.389 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [6c5972ab-279d-44ab-bb7d-86ba82fbd91f] Notify connected event to listeners.
2025-06-12 10:20:57.389 [main] INFO  com.alibaba.nacos.common.remote.client - [6c5972ab-279d-44ab-bb7d-86ba82fbd91f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$443/0x0000019a0b424800
2025-06-12 10:20:57.389 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-12 10:20:57.390 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-user with instance Instance{instanceId='null', ip='10.20.10.229', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-12 10:20:57.402 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-user 10.20.10.229:8082 register finished
2025-06-12 10:20:57.513 [main] INFO  top.dl.UserApplication - Started UserApplication in 7.472 seconds (process running for 8.196)
2025-06-12 10:20:57.522 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-12 10:20:57.523 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-12 10:20:57.524 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-12 10:20:57.531 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:20:57.532 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-12 10:20:57.532 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-12 10:20:57.533 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:20:57.533 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-12 10:20:57.921 [RMI TCP Connection(5)-10.20.10.229] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-12 10:20:57.922 [RMI TCP Connection(5)-10.20.10.229] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-12 10:20:57.924 [RMI TCP Connection(5)-10.20.10.229] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-12 10:20:58.107 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-12 10:20:59.046 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-06-12 10:20:59.053 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-06-12 10:20:59.057 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-12 10:20:59.057 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-12 10:20:59.058 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-12 10:20:59.062 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-12 10:20:59.065 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-12 10:20:59.066 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-12 10:20:59.147 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 7822cbb1-daa6-499e-a73b-f18bf61ca9fa
2025-06-12 10:20:59.149 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->7822cbb1-daa6-499e-a73b-f18bf61ca9fa
2025-06-12 10:20:59.149 [main] INFO  com.alibaba.nacos.common.remote.client - [7822cbb1-daa6-499e-a73b-f18bf61ca9fa] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-12 10:20:59.149 [main] INFO  com.alibaba.nacos.common.remote.client - [7822cbb1-daa6-499e-a73b-f18bf61ca9fa] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-12 10:20:59.149 [main] INFO  com.alibaba.nacos.common.remote.client - [7822cbb1-daa6-499e-a73b-f18bf61ca9fa] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-12 10:20:59.150 [main] INFO  com.alibaba.nacos.common.remote.client - [7822cbb1-daa6-499e-a73b-f18bf61ca9fa] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-12 10:20:59.150 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-12 10:20:59.166 [main] INFO  com.alibaba.nacos.common.remote.client - [7822cbb1-daa6-499e-a73b-f18bf61ca9fa] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749694859153_127.0.0.1_54029
2025-06-12 10:20:59.166 [main] INFO  com.alibaba.nacos.common.remote.client - [7822cbb1-daa6-499e-a73b-f18bf61ca9fa] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-12 10:20:59.166 [main] INFO  com.alibaba.nacos.common.remote.client - [7822cbb1-daa6-499e-a73b-f18bf61ca9fa] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x00000237a440c800
2025-06-12 10:20:59.166 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [7822cbb1-daa6-499e-a73b-f18bf61ca9fa] Notify connected event to listeners.
2025-06-12 10:20:59.166 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-12 10:20:59.167 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-content with instance Instance{instanceId='null', ip='10.20.10.229', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-12 10:20:59.179 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-content 10.20.10.229:8081 register finished
2025-06-12 10:20:59.283 [main] INFO  top.dl.ContentApplication - Started ContentApplication in 7.345 seconds (process running for 7.958)
2025-06-12 10:20:59.292 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-12 10:20:59.292 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-12 10:20:59.293 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-12 10:20:59.301 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:20:59.301 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-12 10:20:59.302 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-12 10:20:59.302 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:20:59.302 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-12 10:20:59.615 [RMI TCP Connection(4)-10.20.10.229] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-12 10:20:59.615 [RMI TCP Connection(4)-10.20.10.229] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-12 10:20:59.617 [RMI TCP Connection(4)-10.20.10.229] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-12 10:21:07.727 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-12 10:21:07.765 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.8 with PID 33440 (D:\后端工程化2\iot-cloud-group2\iot-cloud-iot\target\classes started by minderers in D:\后端工程化2\iot-cloud-group2)
2025-06-12 10:21:07.766 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-12 10:21:07.800 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:21:07.800 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:21:08.355 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-12 10:21:14.499 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-content, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:21:14.500 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-content, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:21:14.499 [boundedElastic-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:21:14.500 [boundedElastic-1] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:21:14.501 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:21:14.501 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:21:14.502 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-content, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:21:14.502 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-content, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:21:14.509 [boundedElastic-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.10.229#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.10.229","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:21:14.510 [boundedElastic-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.10.229#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.10.229","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:21:14.510 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.10.229#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.10.229","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:21:14.510 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.10.229#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.10.229","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:21:15.080 [nacos-grpc-client-executor-127.0.0.1-69] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Receive server push request, request = NotifySubscriberRequest, requestId = 2
2025-06-12 10:21:15.080 [nacos-grpc-client-executor-127.0.0.1-69] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Ack server push request, request = NotifySubscriberRequest, requestId = 2
2025-06-12 10:21:15.082 [nacos-grpc-client-executor-127.0.0.1-70] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Receive server push request, request = NotifySubscriberRequest, requestId = 3
2025-06-12 10:21:15.083 [nacos-grpc-client-executor-127.0.0.1-70] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Ack server push request, request = NotifySubscriberRequest, requestId = 3
2025-06-12 10:22:38.147 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-12 10:22:38.188 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.8 with PID 14452 (D:\后端工程化2\iot-cloud-group2\iot-cloud-iot\target\classes started by minderers in D:\后端工程化2\iot-cloud-group2)
2025-06-12 10:22:38.188 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-12 10:22:38.225 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:22:38.225 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:22:39.071 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-12 10:22:39.074 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-12 10:22:39.097 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-06-12 10:22:39.243 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-12 10:22:39.253 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-12 10:22:39.396 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=7af6d251-9a17-38b8-9cca-295682bfeb0b
2025-06-12 10:22:40.012 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-12 10:22:40.015 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-12 10:22:40.018 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-12 10:22:40.024 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-12 10:22:40.025 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-12 10:22:40.025 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-12 10:22:40.070 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-12 10:22:40.071 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1844 ms
2025-06-12 10:22:40.275 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-12 10:22:40.470 [redisson-netty-2-4] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-06-12 10:22:40.533 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-06-12 10:22:40.695 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-12 10:22:40.784 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-12 10:22:40.951 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f612968
2025-06-12 10:22:40.952 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-12 10:22:40.953 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-12 10:22:40.953 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-12 10:22:41.626 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-12 10:22:41.670 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-12 10:22:41.908 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-12 10:22:42.553 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-12 10:22:43.559 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-12 10:22:43.559 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-12 10:22:43.560 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-12 10:22:43.560 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-12 10:22:43.560 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-12 10:22:43.560 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-12 10:22:43.560 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-12 10:22:43.560 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-12 10:22:43.560 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-12 10:22:43.931 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-12 10:22:43.932 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-12 10:22:43.940 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-12 10:22:43.945 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-12 10:22:43.945 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-12 10:22:43.945 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-12 10:22:43.950 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-12 10:22:43.959 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-12 10:22:43.959 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-12 10:22:43.964 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - Received MQTT message headers: {mqtt_receivedRetained=true, mqtt_id=0, mqtt_duplicate=false, id=0341a88b-cb7f-dcba-fbec-41182910eb1d, mqtt_receivedTopic=device/ESP001/heartbeat, mqtt_receivedQos=0, timestamp=1749694963959}
2025-06-12 10:22:43.964 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 是否匹配:true
2025-06-12 10:22:44.033 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of b2e6f178-81a0-442e-b988-0dbfea05b166
2025-06-12 10:22:44.035 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->b2e6f178-81a0-442e-b988-0dbfea05b166
2025-06-12 10:22:44.035 [main] INFO  com.alibaba.nacos.common.remote.client - [b2e6f178-81a0-442e-b988-0dbfea05b166] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-12 10:22:44.035 [main] INFO  com.alibaba.nacos.common.remote.client - [b2e6f178-81a0-442e-b988-0dbfea05b166] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-12 10:22:44.036 [main] INFO  com.alibaba.nacos.common.remote.client - [b2e6f178-81a0-442e-b988-0dbfea05b166] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-12 10:22:44.036 [main] INFO  com.alibaba.nacos.common.remote.client - [b2e6f178-81a0-442e-b988-0dbfea05b166] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-12 10:22:44.036 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-12 10:22:44.047 [main] INFO  com.alibaba.nacos.common.remote.client - [b2e6f178-81a0-442e-b988-0dbfea05b166] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749694964040_127.0.0.1_54337
2025-06-12 10:22:44.047 [main] INFO  com.alibaba.nacos.common.remote.client - [b2e6f178-81a0-442e-b988-0dbfea05b166] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-12 10:22:44.047 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [b2e6f178-81a0-442e-b988-0dbfea05b166] Notify connected event to listeners.
2025-06-12 10:22:44.047 [main] INFO  com.alibaba.nacos.common.remote.client - [b2e6f178-81a0-442e-b988-0dbfea05b166] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x00000243554250a0
2025-06-12 10:22:44.047 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-12 10:22:44.048 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.10.229', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-12 10:22:44.057 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.10.229:8083 register finished
2025-06-12 10:22:44.084 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - MQTT 消息 - topic: device/ESP001/heartbeat, payload: {"device_id":"ESP001","status":1,"timestamp":350612}
2025-06-12 10:22:44.184 [main] INFO  top.dl.IotApplication - Started IotApplication in 7.338 seconds (process running for 7.827)
2025-06-12 10:22:44.196 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-12 10:22:44.196 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-12 10:22:44.197 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-12 10:22:44.210 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:22:44.211 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-12 10:22:44.212 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-12 10:22:44.212 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:22:44.212 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-12 10:22:44.301 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 收到设备 心跳，状态：1
2025-06-12 10:22:44.580 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:22:44.580 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:22:44.580 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:22:44.580 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:22:44.584 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:22:44.584 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:22:44.638 [RMI TCP Connection(3)-10.20.10.229] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-12 10:22:44.638 [RMI TCP Connection(3)-10.20.10.229] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-12 10:22:44.640 [RMI TCP Connection(3)-10.20.10.229] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-12 10:22:45.101 [nacos-grpc-client-executor-127.0.0.1-122] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Receive server push request, request = NotifySubscriberRequest, requestId = 4
2025-06-12 10:22:45.101 [nacos-grpc-client-executor-127.0.0.1-122] INFO  com.alibaba.nacos.common.remote.client - [6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1] Ack server push request, request = NotifySubscriberRequest, requestId = 4
2025-06-12 10:23:27.914 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-12 10:23:27.914 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-gateway with instance: Instance{instanceId='null', ip='10.20.10.229', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-12 10:23:27.920 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1
2025-06-12 10:23:27.922 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@130d15d9[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 54]
2025-06-12 10:23:27.923 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-12 10:23:27.923 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@35a78aa8[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-12 10:23:27.923 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749694844251_127.0.0.1_53921
2025-06-12 10:23:27.924 [nacos-grpc-client-executor-127.0.0.1-138] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749694844251_127.0.0.1_53921]Ignore complete event,isRunning:false,isAbandon=false
2025-06-12 10:23:27.926 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@616b45f2[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 139]
2025-06-12 10:23:27.926 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->6ebe6fec-f3fd-40a1-a7e1-3a6d7dd2bfd1
2025-06-12 10:23:27.926 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-12 10:23:27.926 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-12 10:23:27.926 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-12 10:23:31.149 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-12 10:23:31.180 [main] INFO  top.dl.GatewayApplication - Starting GatewayApplication using Java 17.0.8 with PID 30608 (D:\后端工程化2\iot-cloud-group2\iot-cloud-gateway\target\classes started by minderers in D:\后端工程化2\iot-cloud-group2)
2025-06-12 10:23:31.181 [main] INFO  top.dl.GatewayApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-12 10:23:31.211 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:23:31.211 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:23:31.899 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=bb97293c-5f9d-33e2-bb2b-9bc2013db92c
2025-06-12 10:23:32.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-06-12 10:23:32.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-06-12 10:23:32.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-06-12 10:23:32.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-06-12 10:23:32.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-06-12 10:23:32.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-06-12 10:23:32.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-06-12 10:23:32.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-06-12 10:23:32.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-06-12 10:23:32.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-06-12 10:23:32.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-06-12 10:23:32.770 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-06-12 10:23:32.770 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-06-12 10:23:32.770 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-06-12 10:23:32.964 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2025-06-12 10:23:33.272 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer - Netty started on port 8080 (http)
2025-06-12 10:23:33.455 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-12 10:23:33.456 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-12 10:23:33.456 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-12 10:23:33.460 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-12 10:23:33.462 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-12 10:23:33.463 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-12 10:23:33.534 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of a3b48719-8352-4830-8bb5-1bab22034767
2025-06-12 10:23:33.536 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->a3b48719-8352-4830-8bb5-1bab22034767
2025-06-12 10:23:33.536 [main] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-12 10:23:33.536 [main] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-12 10:23:33.536 [main] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-12 10:23:33.537 [main] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-12 10:23:33.537 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-12 10:23:33.547 [main] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749695013541_127.0.0.1_54438
2025-06-12 10:23:33.548 [main] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-12 10:23:33.548 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Notify connected event to listeners.
2025-06-12 10:23:33.548 [main] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$438/0x0000025484407a80
2025-06-12 10:23:33.548 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-12 10:23:33.549 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-gateway with instance Instance{instanceId='null', ip='10.20.10.229', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-12 10:23:33.557 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-gateway 10.20.10.229:8080 register finished
2025-06-12 10:23:33.591 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:23:33.591 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:23:33.591 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-gateway, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:23:33.591 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-content, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:23:33.592 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-content, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:23:33.592 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-content, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:23:33.591 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:23:33.591 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-gateway, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:23:33.592 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:23:33.592 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-iot, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:23:33.592 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:23:33.591 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:23:33.592 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-content, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:23:33.592 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-iot, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:23:33.592 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:23:33.592 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:23:33.608 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@iot-cloud-gateway -> []
2025-06-12 10:23:33.608 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.10.229#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.10.229","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:23:33.608 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.10.229#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.10.229","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:23:33.608 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:23:33.616 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-gateway -> []
2025-06-12 10:23:33.616 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-content -> [{"instanceId":"10.20.10.229#8081#DEFAULT#DEFAULT_GROUP@@iot-cloud-content","ip":"10.20.10.229","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-content","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:23:33.616 [boundedElastic-10] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.10.229#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.10.229","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:23:33.616 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:23:33.658 [main] INFO  c.a.c.n.discovery.NacosDiscoveryHeartBeatPublisher - Start nacos heartBeat task scheduler.
2025-06-12 10:23:33.683 [main] INFO  top.dl.GatewayApplication - Started GatewayApplication in 3.804 seconds (process running for 4.271)
2025-06-12 10:23:33.691 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-12 10:23:33.692 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-12 10:23:33.693 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-12 10:23:33.693 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:23:33.693 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-12 10:23:33.694 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-12 10:23:33.694 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:23:33.694 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-12 10:23:34.101 [nacos-grpc-client-executor-127.0.0.1-48] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Receive server push request, request = NotifySubscriberRequest, requestId = 5
2025-06-12 10:23:34.102 [nacos-grpc-client-executor-127.0.0.1-48] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.10.229#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.10.229","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:23:34.104 [nacos-grpc-client-executor-127.0.0.1-48] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-gateway -> [{"instanceId":"10.20.10.229#8080#DEFAULT#DEFAULT_GROUP@@iot-cloud-gateway","ip":"10.20.10.229","port":8080,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-gateway","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:23:34.104 [nacos-grpc-client-executor-127.0.0.1-48] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Ack server push request, request = NotifySubscriberRequest, requestId = 5
2025-06-12 10:23:34.209 [nacos-grpc-client-executor-127.0.0.1-50] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Receive server push request, request = NotifySubscriberRequest, requestId = 7
2025-06-12 10:23:34.211 [nacos-grpc-client-executor-127.0.0.1-50] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Ack server push request, request = NotifySubscriberRequest, requestId = 7
2025-06-12 10:23:34.214 [nacos-grpc-client-executor-127.0.0.1-51] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Receive server push request, request = NotifySubscriberRequest, requestId = 6
2025-06-12 10:23:34.214 [nacos-grpc-client-executor-127.0.0.1-51] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Ack server push request, request = NotifySubscriberRequest, requestId = 6
2025-06-12 10:23:34.216 [nacos-grpc-client-executor-127.0.0.1-52] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Receive server push request, request = NotifySubscriberRequest, requestId = 8
2025-06-12 10:23:34.217 [nacos-grpc-client-executor-127.0.0.1-52] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Ack server push request, request = NotifySubscriberRequest, requestId = 8
2025-06-12 10:24:24.873 [http-nio-8081-exec-1] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 257 ms
2025-06-12 10:24:28.406 [http-nio-8083-exec-1] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 230 ms
2025-06-12 10:24:34.544 [http-nio-8083-exec-2] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":1}
2025-06-12 10:24:34.558 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - 解析到的 userId: 1
2025-06-12 10:24:34.599 [http-nio-8083-exec-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:24:34.599 [http-nio-8083-exec-2] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:24:34.608 [http-nio-8083-exec-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.10.229#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.10.229","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-06-12 10:24:34.609 [http-nio-8083-exec-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.10.229#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.10.229","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-06-12 10:24:34.766 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=1, username=13585107185, nickname=ctynt, mobile=13585107185, avatar=null, gender=0, tenantId=null)
2025-06-12 10:24:35.137 [nacos-grpc-client-executor-127.0.0.1-35] INFO  com.alibaba.nacos.common.remote.client - [b2e6f178-81a0-442e-b988-0dbfea05b166] Receive server push request, request = NotifySubscriberRequest, requestId = 9
2025-06-12 10:24:35.138 [nacos-grpc-client-executor-127.0.0.1-35] INFO  com.alibaba.nacos.common.remote.client - [b2e6f178-81a0-442e-b988-0dbfea05b166] Ack server push request, request = NotifySubscriberRequest, requestId = 9
2025-06-12 10:25:10.929 [http-nio-8083-exec-4] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":1}
2025-06-12 10:25:10.929 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - 解析到的 userId: 1
2025-06-12 10:25:10.949 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=1, username=13585107185, nickname=ctynt, mobile=13585107185, avatar=null, gender=0, tenantId=null)
2025-06-12 10:25:14.305 [http-nio-8083-exec-8] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":1}
2025-06-12 10:25:14.305 [http-nio-8083-exec-8] INFO  top.dl.controller.DeviceController - 解析到的 userId: 1
2025-06-12 10:25:14.323 [http-nio-8083-exec-8] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=1, username=13585107185, nickname=ctynt, mobile=13585107185, avatar=null, gender=0, tenantId=null)
2025-06-12 10:25:14.693 [http-nio-8083-exec-6] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":1}
2025-06-12 10:25:14.693 [http-nio-8083-exec-6] INFO  top.dl.controller.DeviceController - 解析到的 userId: 1
2025-06-12 10:25:14.714 [http-nio-8083-exec-6] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=1, username=13585107185, nickname=ctynt, mobile=13585107185, avatar=null, gender=0, tenantId=null)
2025-06-12 10:27:24.469 [http-nio-8082-exec-2] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 226 ms
2025-06-12 10:27:28.457 [http-nio-8082-exec-6] INFO  top.dl.framework.security.utils.JwtUtil - 生成 JWT token:eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDk4NjgwNDcsImlhdCI6MTc0OTY5NTI0NywidXNlcklkIjoxfQ.4nptf7mmrIn7zcPs15JCoaeVGqnCtCb2OuZ3DxwJ30w
2025-06-12 10:27:49.724 [http-nio-8083-exec-5] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":1}
2025-06-12 10:27:49.724 [http-nio-8083-exec-5] INFO  top.dl.controller.DeviceController - 解析到的 userId: 1
2025-06-12 10:27:49.742 [http-nio-8083-exec-5] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=1, username=13585107185, nickname=ctynt, mobile=13585107185, avatar=null, gender=0, tenantId=null)
2025-06-12 10:27:50.999 [http-nio-8083-exec-9] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":1}
2025-06-12 10:27:51.000 [http-nio-8083-exec-9] INFO  top.dl.controller.DeviceController - 解析到的 userId: 1
2025-06-12 10:27:51.017 [http-nio-8083-exec-9] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=1, username=13585107185, nickname=ctynt, mobile=13585107185, avatar=null, gender=0, tenantId=null)
2025-06-12 10:27:51.398 [http-nio-8083-exec-10] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":1}
2025-06-12 10:27:51.399 [http-nio-8083-exec-10] INFO  top.dl.controller.DeviceController - 解析到的 userId: 1
2025-06-12 10:27:51.410 [http-nio-8083-exec-10] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=1, username=13585107185, nickname=ctynt, mobile=13585107185, avatar=null, gender=0, tenantId=null)
2025-06-12 10:28:58.833 [http-nio-8083-exec-2] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":1}
2025-06-12 10:28:58.834 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - 解析到的 userId: 1
2025-06-12 10:28:58.857 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=1, username=13585107185, nickname=ctynt, mobile=13585107185, avatar=null, gender=0, tenantId=10000)
2025-06-12 10:28:58.857 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-12 10:44:30.728 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-12 10:44:30.728 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-12 10:44:30.728 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-12 10:44:30.728 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-12 10:44:30.728 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-12 10:44:30.728 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-12 10:44:30.728 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-12 10:44:30.729 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-12 10:44:30.729 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-12 10:44:30.729 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-12 10:44:30.733 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-12 10:44:30.733 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.10.229', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-12 10:44:30.737 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-12 10:44:30.738 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->b2e6f178-81a0-442e-b988-0dbfea05b166
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@66b3e058[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 434]
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@102a3222[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-12 10:44:30.739 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749694964040_127.0.0.1_54337
2025-06-12 10:44:30.740 [nacos-grpc-client-executor-127.0.0.1-270] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749694964040_127.0.0.1_54337]Ignore complete event,isRunning:false,isAbandon=false
2025-06-12 10:44:30.744 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@3762f660[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 272]
2025-06-12 10:44:30.744 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->b2e6f178-81a0-442e-b988-0dbfea05b166
2025-06-12 10:44:30.744 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-12 10:44:30.744 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-12 10:44:30.745 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-12 10:44:30.749 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-12 10:44:30.750 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-12 10:44:30.754 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-12 10:44:30.754 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-12 10:44:30.754 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-12 10:44:31.337 [nacos-grpc-client-executor-127.0.0.1-552] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Receive server push request, request = NotifySubscriberRequest, requestId = 10
2025-06-12 10:44:31.337 [nacos-grpc-client-executor-127.0.0.1-552] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:44:31.337 [nacos-grpc-client-executor-127.0.0.1-552] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-12 10:44:31.338 [nacos-grpc-client-executor-127.0.0.1-552] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Ack server push request, request = NotifySubscriberRequest, requestId = 10
2025-06-12 10:44:36.055 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-12 10:44:36.097 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.8 with PID 13596 (D:\后端工程化2\iot-cloud-group2\iot-cloud-iot\target\classes started by minderers in D:\后端工程化2\iot-cloud-group2)
2025-06-12 10:44:36.098 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-12 10:44:36.133 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:44:36.133 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:44:37.008 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-12 10:44:37.010 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-12 10:44:37.033 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-06-12 10:44:37.186 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-12 10:44:37.192 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-12 10:44:37.327 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=7af6d251-9a17-38b8-9cca-295682bfeb0b
2025-06-12 10:44:38.044 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-12 10:44:38.047 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-12 10:44:38.051 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-12 10:44:38.059 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-12 10:44:38.060 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-12 10:44:38.060 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-12 10:44:38.120 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-12 10:44:38.120 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1986 ms
2025-06-12 10:44:38.323 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-12 10:44:38.519 [redisson-netty-2-4] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-06-12 10:44:38.587 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-06-12 10:44:38.767 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-12 10:44:38.856 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-12 10:44:39.234 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@619944a7
2025-06-12 10:44:39.235 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-12 10:44:39.236 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-12 10:44:39.236 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-12 10:44:39.970 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-12 10:44:40.018 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-12 10:44:40.272 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-12 10:44:40.881 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-12 10:44:41.775 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-12 10:44:41.775 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-12 10:44:41.776 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-12 10:44:41.776 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-12 10:44:41.776 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-12 10:44:41.776 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-12 10:44:41.776 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-12 10:44:41.776 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-12 10:44:41.776 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-12 10:44:42.149 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-12 10:44:42.150 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-12 10:44:42.157 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-12 10:44:42.161 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-12 10:44:42.161 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-12 10:44:42.161 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-12 10:44:42.166 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-12 10:44:42.170 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-12 10:44:42.170 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-12 10:44:42.172 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - Received MQTT message headers: {mqtt_receivedRetained=true, mqtt_id=0, mqtt_duplicate=false, id=90236718-c2f6-82cc-0264-71aa174760ed, mqtt_receivedTopic=device/ESP001/heartbeat, mqtt_receivedQos=0, timestamp=1749696282167}
2025-06-12 10:44:42.172 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 是否匹配:true
2025-06-12 10:44:42.251 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of bee185c9-215a-4695-90f0-b4c3d64b0f8e
2025-06-12 10:44:42.253 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->bee185c9-215a-4695-90f0-b4c3d64b0f8e
2025-06-12 10:44:42.253 [main] INFO  com.alibaba.nacos.common.remote.client - [bee185c9-215a-4695-90f0-b4c3d64b0f8e] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-12 10:44:42.253 [main] INFO  com.alibaba.nacos.common.remote.client - [bee185c9-215a-4695-90f0-b4c3d64b0f8e] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-12 10:44:42.254 [main] INFO  com.alibaba.nacos.common.remote.client - [bee185c9-215a-4695-90f0-b4c3d64b0f8e] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-12 10:44:42.254 [main] INFO  com.alibaba.nacos.common.remote.client - [bee185c9-215a-4695-90f0-b4c3d64b0f8e] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-12 10:44:42.255 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-12 10:44:42.265 [main] INFO  com.alibaba.nacos.common.remote.client - [bee185c9-215a-4695-90f0-b4c3d64b0f8e] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749696282259_127.0.0.1_56360
2025-06-12 10:44:42.265 [main] INFO  com.alibaba.nacos.common.remote.client - [bee185c9-215a-4695-90f0-b4c3d64b0f8e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-12 10:44:42.265 [main] INFO  com.alibaba.nacos.common.remote.client - [bee185c9-215a-4695-90f0-b4c3d64b0f8e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x0000022881414440
2025-06-12 10:44:42.265 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.common.remote.client - [bee185c9-215a-4695-90f0-b4c3d64b0f8e] Notify connected event to listeners.
2025-06-12 10:44:42.265 [com.alibaba.nacos.client.remote.worker.1] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-12 10:44:42.266 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.10.229', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-12 10:44:42.274 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.10.229:8083 register finished
2025-06-12 10:44:42.272 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - MQTT 消息 - topic: device/ESP001/heartbeat, payload: {"device_id":"ESP001","status":1,"timestamp":350612}
2025-06-12 10:44:42.403 [main] INFO  top.dl.IotApplication - Started IotApplication in 7.788 seconds (process running for 8.339)
2025-06-12 10:44:42.417 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-12 10:44:42.417 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-12 10:44:42.418 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-12 10:44:42.425 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:44:42.425 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-12 10:44:42.426 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-12 10:44:42.426 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:44:42.426 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-12 10:44:42.543 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 收到设备 心跳，状态：1
2025-06-12 10:44:42.822 [RMI TCP Connection(4)-10.20.10.229] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-12 10:44:42.823 [RMI TCP Connection(4)-10.20.10.229] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-12 10:44:42.824 [RMI TCP Connection(4)-10.20.10.229] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-12 10:44:42.832 [nacos-grpc-client-executor-127.0.0.1-560] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Receive server push request, request = NotifySubscriberRequest, requestId = 11
2025-06-12 10:44:42.832 [nacos-grpc-client-executor-127.0.0.1-560] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:44:42.833 [nacos-grpc-client-executor-127.0.0.1-560] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:44:42.834 [nacos-grpc-client-executor-127.0.0.1-560] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Ack server push request, request = NotifySubscriberRequest, requestId = 11
2025-06-12 10:45:05.844 [http-nio-8083-exec-1] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":1}
2025-06-12 10:45:05.863 [http-nio-8083-exec-1] INFO  top.dl.controller.DeviceController - 解析到的 userId: 1
2025-06-12 10:45:05.907 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:45:05.907 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:45:05.916 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.10.229#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.10.229","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-12 10:45:05.916 [http-nio-8083-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.10.229#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.10.229","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ipDeleteTimeout":30000}]
2025-06-12 10:45:05.960 [http-nio-8083-exec-1] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=1, username=13585107185, nickname=ctynt, mobile=13585107185, avatar=null, gender=0, tenantId=10000)
2025-06-12 10:45:05.962 [http-nio-8083-exec-1] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-12 10:45:06.477 [nacos-grpc-client-executor-127.0.0.1-16] INFO  com.alibaba.nacos.common.remote.client - [bee185c9-215a-4695-90f0-b4c3d64b0f8e] Receive server push request, request = NotifySubscriberRequest, requestId = 12
2025-06-12 10:45:06.478 [nacos-grpc-client-executor-127.0.0.1-16] INFO  com.alibaba.nacos.common.remote.client - [bee185c9-215a-4695-90f0-b4c3d64b0f8e] Ack server push request, request = NotifySubscriberRequest, requestId = 12
2025-06-12 10:45:09.125 [http-nio-8083-exec-2] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":1}
2025-06-12 10:45:09.125 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - 解析到的 userId: 1
2025-06-12 10:45:09.148 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=1, username=13585107185, nickname=ctynt, mobile=13585107185, avatar=null, gender=0, tenantId=10000)
2025-06-12 10:45:09.148 [http-nio-8083-exec-2] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-12 10:54:04.127 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-12 10:54:04.128 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-12 10:54:04.128 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-12 10:54:04.128 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-12 10:54:04.128 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-12 10:54:04.128 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-12 10:54:04.128 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-12 10:54:04.128 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-12 10:54:04.128 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-12 10:54:04.128 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-12 10:54:04.130 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-12 10:54:04.131 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.10.229', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-12 10:54:04.134 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-12 10:54:04.135 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-12 10:54:04.135 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-12 10:54:04.135 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-12 10:54:04.135 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-12 10:54:04.135 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-12 10:54:04.135 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-12 10:54:04.135 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-12 10:54:04.135 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-12 10:54:04.135 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-12 10:54:04.135 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-12 10:54:04.135 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-12 10:54:04.135 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->bee185c9-215a-4695-90f0-b4c3d64b0f8e
2025-06-12 10:54:04.136 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@6d06ace[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 186]
2025-06-12 10:54:04.136 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-12 10:54:04.136 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7b1eb1df[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-12 10:54:04.136 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749696282259_127.0.0.1_56360
2025-06-12 10:54:04.136 [nacos-grpc-client-executor-127.0.0.1-120] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749696282259_127.0.0.1_56360]Ignore complete event,isRunning:false,isAbandon=false
2025-06-12 10:54:04.146 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@49d37395[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 121]
2025-06-12 10:54:04.146 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->bee185c9-215a-4695-90f0-b4c3d64b0f8e
2025-06-12 10:54:04.147 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-12 10:54:04.147 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-12 10:54:04.147 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-12 10:54:04.151 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-12 10:54:04.152 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-12 10:54:04.155 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-12 10:54:04.155 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-12 10:54:04.155 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-12 10:54:04.719 [nacos-grpc-client-executor-127.0.0.1-764] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Receive server push request, request = NotifySubscriberRequest, requestId = 13
2025-06-12 10:54:04.720 [nacos-grpc-client-executor-127.0.0.1-764] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:54:04.720 [nacos-grpc-client-executor-127.0.0.1-764] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-12 10:54:04.721 [nacos-grpc-client-executor-127.0.0.1-764] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Ack server push request, request = NotifySubscriberRequest, requestId = 13
2025-06-12 10:54:07.540 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-12 10:54:07.583 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.8 with PID 25436 (D:\后端工程化2\iot-cloud-group2\iot-cloud-iot\target\classes started by minderers in D:\后端工程化2\iot-cloud-group2)
2025-06-12 10:54:07.584 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-12 10:54:07.620 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:54:07.620 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:54:08.532 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-12 10:54:08.534 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-12 10:54:08.557 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-06-12 10:54:08.696 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-12 10:54:08.702 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-12 10:54:08.832 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=7af6d251-9a17-38b8-9cca-295682bfeb0b
2025-06-12 10:54:09.535 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-12 10:54:09.537 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-12 10:54:09.541 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-12 10:54:09.548 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-12 10:54:09.549 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-12 10:54:09.549 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-12 10:54:09.601 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-12 10:54:09.601 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1979 ms
2025-06-12 10:54:09.804 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-12 10:54:10.018 [redisson-netty-2-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-06-12 10:54:10.079 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-06-12 10:54:10.246 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-12 10:54:10.330 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-12 10:54:10.512 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@13617139
2025-06-12 10:54:10.514 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-12 10:54:10.515 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-12 10:54:10.515 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-12 10:54:11.221 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-12 10:54:11.272 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-12 10:54:11.495 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-12 10:54:12.127 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-12 10:54:13.005 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-12 10:54:13.005 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-12 10:54:13.005 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-12 10:54:13.006 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-12 10:54:13.006 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-12 10:54:13.006 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-12 10:54:13.006 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-12 10:54:13.006 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-12 10:54:13.006 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-12 10:54:13.374 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-12 10:54:13.375 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-12 10:54:13.382 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-12 10:54:13.386 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-12 10:54:13.387 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-12 10:54:13.387 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-12 10:54:13.391 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-12 10:54:13.394 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-12 10:54:13.395 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-12 10:54:13.398 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - Received MQTT message headers: {mqtt_receivedRetained=true, mqtt_id=0, mqtt_duplicate=false, id=15b95bf7-82c4-5b65-a3b2-bd9addb30820, mqtt_receivedTopic=device/ESP001/heartbeat, mqtt_receivedQos=0, timestamp=1749696853393}
2025-06-12 10:54:13.398 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 是否匹配:true
2025-06-12 10:54:13.471 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 3643fc51-d794-4d28-80d3-286aa63d923b
2025-06-12 10:54:13.473 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->3643fc51-d794-4d28-80d3-286aa63d923b
2025-06-12 10:54:13.473 [main] INFO  com.alibaba.nacos.common.remote.client - [3643fc51-d794-4d28-80d3-286aa63d923b] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-12 10:54:13.473 [main] INFO  com.alibaba.nacos.common.remote.client - [3643fc51-d794-4d28-80d3-286aa63d923b] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-12 10:54:13.474 [main] INFO  com.alibaba.nacos.common.remote.client - [3643fc51-d794-4d28-80d3-286aa63d923b] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-12 10:54:13.474 [main] INFO  com.alibaba.nacos.common.remote.client - [3643fc51-d794-4d28-80d3-286aa63d923b] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-12 10:54:13.474 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-12 10:54:13.483 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - MQTT 消息 - topic: device/ESP001/heartbeat, payload: {"device_id":"ESP001","status":1,"timestamp":350612}
2025-06-12 10:54:13.490 [main] INFO  com.alibaba.nacos.common.remote.client - [3643fc51-d794-4d28-80d3-286aa63d923b] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749696853483_127.0.0.1_57231
2025-06-12 10:54:13.490 [main] INFO  com.alibaba.nacos.common.remote.client - [3643fc51-d794-4d28-80d3-286aa63d923b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-12 10:54:13.490 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [3643fc51-d794-4d28-80d3-286aa63d923b] Notify connected event to listeners.
2025-06-12 10:54:13.490 [main] INFO  com.alibaba.nacos.common.remote.client - [3643fc51-d794-4d28-80d3-286aa63d923b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x000002484a40cc40
2025-06-12 10:54:13.490 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-12 10:54:13.493 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.10.229', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-12 10:54:13.502 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.10.229:8083 register finished
2025-06-12 10:54:13.619 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 收到设备 心跳，状态：1
2025-06-12 10:54:13.625 [main] INFO  top.dl.IotApplication - Started IotApplication in 7.597 seconds (process running for 8.162)
2025-06-12 10:54:13.633 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-12 10:54:13.634 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-12 10:54:13.635 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-12 10:54:13.641 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:54:13.642 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-12 10:54:13.642 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-12 10:54:13.643 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:54:13.643 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-12 10:54:13.705 [RMI TCP Connection(5)-10.20.10.229] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-12 10:54:13.705 [RMI TCP Connection(5)-10.20.10.229] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-12 10:54:13.706 [RMI TCP Connection(5)-10.20.10.229] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-12 10:54:14.044 [nacos-grpc-client-executor-127.0.0.1-772] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Receive server push request, request = NotifySubscriberRequest, requestId = 14
2025-06-12 10:54:14.044 [nacos-grpc-client-executor-127.0.0.1-772] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:54:14.045 [nacos-grpc-client-executor-127.0.0.1-772] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:54:14.046 [nacos-grpc-client-executor-127.0.0.1-772] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Ack server push request, request = NotifySubscriberRequest, requestId = 14
2025-06-12 10:54:16.129 [http-nio-8083-exec-2] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 265 ms
2025-06-12 10:54:19.083 [http-nio-8083-exec-3] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":1}
2025-06-12 10:54:19.107 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - 解析到的 userId: 1
2025-06-12 10:54:19.168 [http-nio-8083-exec-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:iot-cloud-user, group:DEFAULT_GROUP, clusters: 
2025-06-12 10:54:19.168 [http-nio-8083-exec-3] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:iot-cloud-user, group:DEFAULT_GROUP, cluster: 
2025-06-12 10:54:19.180 [http-nio-8083-exec-3] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.10.229#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.10.229","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:54:19.180 [http-nio-8083-exec-3] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-user -> [{"instanceId":"10.20.10.229#8082#DEFAULT#DEFAULT_GROUP@@iot-cloud-user","ip":"10.20.10.229","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-user","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:54:19.235 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=1, username=13585107185, nickname=ctynt, mobile=13585107185, avatar=null, gender=0, tenantId=10000)
2025-06-12 10:54:19.235 [http-nio-8083-exec-3] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-12 10:54:19.782 [nacos-grpc-client-executor-127.0.0.1-11] INFO  com.alibaba.nacos.common.remote.client - [3643fc51-d794-4d28-80d3-286aa63d923b] Receive server push request, request = NotifySubscriberRequest, requestId = 15
2025-06-12 10:54:19.785 [nacos-grpc-client-executor-127.0.0.1-11] INFO  com.alibaba.nacos.common.remote.client - [3643fc51-d794-4d28-80d3-286aa63d923b] Ack server push request, request = NotifySubscriberRequest, requestId = 15
2025-06-12 10:55:09.887 [http-nio-8083-exec-4] INFO  top.dl.framework.security.utils.JwtUtil - 根据 token 获取原始内容：{"userId":1}
2025-06-12 10:55:09.887 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - 解析到的 userId: 1
2025-06-12 10:55:09.912 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - userVO 内容: UserVO(id=1, username=13585107185, nickname=ctynt, mobile=13585107185, avatar=null, gender=0, tenantId=10000)
2025-06-12 10:55:09.912 [http-nio-8083-exec-4] INFO  top.dl.controller.DeviceController - 当前用户所属租户ID为: 10000
2025-06-12 10:57:53.566 [SpringApplicationShutdownHook] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - stopped bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-12 10:57:53.567 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-12 10:57:53.567 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 0 subscriber(s).
2025-06-12 10:57:53.567 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'mqttOutbound.serviceActivator'
2025-06-12 10:57:53.567 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-12 10:57:53.567 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 0 subscriber(s).
2025-06-12 10:57:53.567 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-12 10:57:53.567 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - Removing {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-12 10:57:53.567 [SpringApplicationShutdownHook] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 0 subscriber(s).
2025-06-12 10:57:53.567 [SpringApplicationShutdownHook] INFO  o.s.integration.endpoint.EventDrivenConsumer - stopped bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-12 10:57:53.569 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-06-12 10:57:53.570 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service iot-cloud-iot with instance: Instance{instanceId='null', ip='10.20.10.229', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-06-12 10:57:53.574 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->3643fc51-d794-4d28-80d3-286aa63d923b
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@4149d1df[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 73]
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1d9dbfab[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-06-12 10:57:53.575 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1749696853483_127.0.0.1_57231
2025-06-12 10:57:53.576 [nacos-grpc-client-executor-127.0.0.1-55] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1749696853483_127.0.0.1_57231]Ignore complete event,isRunning:false,isAbandon=false
2025-06-12 10:57:53.578 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@62e27398[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 56]
2025-06-12 10:57:53.578 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->3643fc51-d794-4d28-80d3-286aa63d923b
2025-06-12 10:57:53.578 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-06-12 10:57:53.578 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-06-12 10:57:53.579 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-06-12 10:57:53.583 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource start closing ....
2025-06-12 10:57:53.585 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown initiated...
2025-06-12 10:57:53.588 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - master - Shutdown completed.
2025-06-12 10:57:53.588 [SpringApplicationShutdownHook] INFO  c.b.d.d.destroyer.DefaultDataSourceDestroyer - dynamic-datasource close the datasource named [master] success,
2025-06-12 10:57:53.588 [SpringApplicationShutdownHook] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource all closed success,bye
2025-06-12 10:57:54.185 [nacos-grpc-client-executor-127.0.0.1-850] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Receive server push request, request = NotifySubscriberRequest, requestId = 16
2025-06-12 10:57:54.185 [nacos-grpc-client-executor-127.0.0.1-850] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:57:54.185 [nacos-grpc-client-executor-127.0.0.1-850] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@iot-cloud-iot -> []
2025-06-12 10:57:54.187 [nacos-grpc-client-executor-127.0.0.1-850] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Ack server push request, request = NotifySubscriberRequest, requestId = 16
2025-06-12 10:57:56.636 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-06-12 10:57:56.682 [main] INFO  top.dl.IotApplication - Starting IotApplication using Java 17.0.8 with PID 18088 (D:\后端工程化2\iot-cloud-group2\iot-cloud-iot\target\classes started by minderers in D:\后端工程化2\iot-cloud-group2)
2025-06-12 10:57:56.682 [main] INFO  top.dl.IotApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-12 10:57:56.717 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:57:56.717 [main] INFO  c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=datasource.yaml, group=DEFAULT_GROUP] success
2025-06-12 10:57:57.642 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-12 10:57:57.644 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-12 10:57:57.666 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-06-12 10:57:57.792 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-12 10:57:57.798 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-12 10:57:57.936 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=7af6d251-9a17-38b8-9cca-295682bfeb0b
2025-06-12 10:57:58.539 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8083 (http)
2025-06-12 10:57:58.541 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.5] using APR version [1.7.4].
2025-06-12 10:57:58.544 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.10 1 Aug 2023]
2025-06-12 10:57:58.549 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2025-06-12 10:57:58.550 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-06-12 10:57:58.551 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-06-12 10:57:58.597 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-12 10:57:58.598 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1880 ms
2025-06-12 10:57:58.822 [main] INFO  org.redisson.Version - Redisson 3.21.3
2025-06-12 10:57:59.025 [redisson-netty-2-4] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-06-12 10:57:59.092 [redisson-netty-2-19] INFO  org.redisson.connection.pool.MasterConnectionPool - 24 connections initialized for 127.0.0.1/127.0.0.1:6379
2025-06-12 10:57:59.265 [main] INFO  top.dl.config.MqttConfig - MQTT 主机: tcp://43.142.252.113:1883 客户端ID：springboot-server
2025-06-12 10:57:59.346 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Starting...
2025-06-12 10:57:59.513 [main] INFO  com.zaxxer.hikari.pool.HikariPool - master - Added connection com.mysql.cj.jdbc.ConnectionImpl@57e9cd2
2025-06-12 10:57:59.514 [main] INFO  com.zaxxer.hikari.HikariDataSource - master - Start completed.
2025-06-12 10:57:59.514 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource - add a datasource named [master] success
2025-06-12 10:57:59.514 [main] INFO  c.b.dynamic.datasource.DynamicRoutingDataSource - dynamic-datasource initial loaded [1] datasource,primary datasource named [master]
2025-06-12 10:58:00.197 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-12 10:58:00.245 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'iot-cloud-user' URL not provided. Will try picking an instance via load-balancing.
2025-06-12 10:58:00.475 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-06-12 10:58:01.082 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 20 endpoints beneath base path '/actuator'
2025-06-12 10:58:02.010 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-12 10:58:02.010 [main] INFO  o.s.integration.channel.PublishSubscribeChannel - Channel 'iot-cloud-iot.errorChannel' has 1 subscriber(s).
2025-06-12 10:58:02.011 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-06-12 10:58:02.011 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {message-handler:mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2025-06-12 10:58:02.011 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttOutboundChannel' has 1 subscriber(s).
2025-06-12 10:58:02.011 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'mqttOutbound.serviceActivator'
2025-06-12 10:58:02.011 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - Adding {service-activator:commandServiceImpl.handleStatusMessage.serviceActivator} as a subscriber to the 'mqttInputChannel' channel
2025-06-12 10:58:02.011 [main] INFO  o.s.integration.channel.DirectChannel - Channel 'iot-cloud-iot.mqttInputChannel' has 1 subscriber(s).
2025-06-12 10:58:02.012 [main] INFO  o.s.integration.endpoint.EventDrivenConsumer - started bean 'commandServiceImpl.handleStatusMessage.serviceActivator'
2025-06-12 10:58:02.371 [main] INFO  o.s.i.m.i.MqttPahoMessageDrivenChannelAdapter - started bean 'inbound'; defined in: 'class path resource [top/dl/config/MqttConfig.class]'; from source: 'top.dl.config.MqttConfig.inbound()'
2025-06-12 10:58:02.371 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2025-06-12 10:58:02.381 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8083 (http) with context path '/'
2025-06-12 10:58:02.386 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-06-12 10:58:02.387 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-06-12 10:58:02.387 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-06-12 10:58:02.391 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-06-12 10:58:02.395 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - Received MQTT message headers: {mqtt_receivedRetained=true, mqtt_id=0, mqtt_duplicate=false, id=9e06e86a-c06f-dff2-ebc8-3801e1ae8bae, mqtt_receivedTopic=device/ESP001/heartbeat, mqtt_receivedQos=0, timestamp=1749697082389}
2025-06-12 10:58:02.395 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-06-12 10:58:02.395 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-06-12 10:58:02.395 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 是否匹配:true
2025-06-12 10:58:02.470 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 825796cd-b101-489b-82d9-0dc0358cfe10
2025-06-12 10:58:02.472 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->825796cd-b101-489b-82d9-0dc0358cfe10
2025-06-12 10:58:02.472 [main] INFO  com.alibaba.nacos.common.remote.client - [825796cd-b101-489b-82d9-0dc0358cfe10] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-06-12 10:58:02.472 [main] INFO  com.alibaba.nacos.common.remote.client - [825796cd-b101-489b-82d9-0dc0358cfe10] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-06-12 10:58:02.472 [main] INFO  com.alibaba.nacos.common.remote.client - [825796cd-b101-489b-82d9-0dc0358cfe10] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-06-12 10:58:02.473 [main] INFO  com.alibaba.nacos.common.remote.client - [825796cd-b101-489b-82d9-0dc0358cfe10] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-06-12 10:58:02.473 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-06-12 10:58:02.482 [main] INFO  com.alibaba.nacos.common.remote.client - [825796cd-b101-489b-82d9-0dc0358cfe10] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1749697082477_127.0.0.1_57813
2025-06-12 10:58:02.482 [main] INFO  com.alibaba.nacos.common.remote.client - [825796cd-b101-489b-82d9-0dc0358cfe10] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-06-12 10:58:02.482 [main] INFO  com.alibaba.nacos.common.remote.client - [825796cd-b101-489b-82d9-0dc0358cfe10] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$444/0x000001c281434440
2025-06-12 10:58:02.482 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [825796cd-b101-489b-82d9-0dc0358cfe10] Notify connected event to listeners.
2025-06-12 10:58:02.482 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-06-12 10:58:02.483 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service iot-cloud-iot with instance Instance{instanceId='null', ip='10.20.10.229', port=8083, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={management.endpoints.web.base-path=/actuator, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-06-12 10:58:02.492 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP iot-cloud-iot 10.20.10.229:8083 register finished
2025-06-12 10:58:02.503 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - MQTT 消息 - topic: device/ESP001/heartbeat, payload: {"device_id":"ESP001","status":1,"timestamp":350612}
2025-06-12 10:58:02.626 [main] INFO  top.dl.IotApplication - Started IotApplication in 7.319 seconds (process running for 7.819)
2025-06-12 10:58:02.636 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-06-12 10:58:02.636 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-06-12 10:58:02.637 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] datasource.yaml+DEFAULT_GROUP
2025-06-12 10:58:02.644 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=datasource.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:58:02.644 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=datasource.yaml, group=DEFAULT_GROUP
2025-06-12 10:58:02.645 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-127.0.0.1_8848] [subscribe] common.yaml+DEFAULT_GROUP
2025-06-12 10:58:02.645 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-06-12 10:58:02.645 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-06-12 10:58:02.657 [MQTT Call: springboot-server_in] INFO  top.dl.service.impl.CommandServiceImpl - 收到设备 心跳，状态：1
2025-06-12 10:58:03.060 [nacos-grpc-client-executor-127.0.0.1-852] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Receive server push request, request = NotifySubscriberRequest, requestId = 17
2025-06-12 10:58:03.060 [nacos-grpc-client-executor-127.0.0.1-852] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:58:03.061 [nacos-grpc-client-executor-127.0.0.1-852] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@iot-cloud-iot -> [{"instanceId":"10.20.10.229#8083#DEFAULT#DEFAULT_GROUP@@iot-cloud-iot","ip":"10.20.10.229","port":8083,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@iot-cloud-iot","metadata":{"management.endpoints.web.base-path":"/actuator","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-06-12 10:58:03.062 [nacos-grpc-client-executor-127.0.0.1-852] INFO  com.alibaba.nacos.common.remote.client - [a3b48719-8352-4830-8bb5-1bab22034767] Ack server push request, request = NotifySubscriberRequest, requestId = 17
2025-06-12 10:58:03.069 [RMI TCP Connection(1)-10.20.10.229] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-12 10:58:03.069 [RMI TCP Connection(1)-10.20.10.229] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-12 10:58:03.071 [RMI TCP Connection(1)-10.20.10.229] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
